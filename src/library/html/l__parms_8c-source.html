<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>libimpact: l_parms.c Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>l_parms.c</h1><a href="l__parms_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*****************************************************************************\</span>
<a name="l00002"></a>00002 <span class="comment"> *</span>
<a name="l00003"></a>00003 <span class="comment"> *                    Illinois Open Source License</span>
<a name="l00004"></a>00004 <span class="comment"> *                     University of Illinois/NCSA</span>
<a name="l00005"></a>00005 <span class="comment"> *                         Open Source License</span>
<a name="l00006"></a>00006 <span class="comment"> *</span>
<a name="l00007"></a>00007 <span class="comment"> * Copyright (c) 2004, The University of Illinois at Urbana-Champaign.</span>
<a name="l00008"></a>00008 <span class="comment"> * All rights reserved.</span>
<a name="l00009"></a>00009 <span class="comment"> *</span>
<a name="l00010"></a>00010 <span class="comment"> * Developed by:             </span>
<a name="l00011"></a>00011 <span class="comment"> *</span>
<a name="l00012"></a>00012 <span class="comment"> *              IMPACT Research Group</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> *              University of Illinois at Urbana-Champaign</span>
<a name="l00015"></a>00015 <span class="comment"> *</span>
<a name="l00016"></a>00016 <span class="comment"> *              http://www.crhc.uiuc.edu/IMPACT</span>
<a name="l00017"></a>00017 <span class="comment"> *              http://www.gelato.org</span>
<a name="l00018"></a>00018 <span class="comment"> *</span>
<a name="l00019"></a>00019 <span class="comment"> * Permission is hereby granted, free of charge, to any person</span>
<a name="l00020"></a>00020 <span class="comment"> * obtaining a copy of this software and associated documentation</span>
<a name="l00021"></a>00021 <span class="comment"> * files (the "Software"), to deal with the Software without</span>
<a name="l00022"></a>00022 <span class="comment"> * restriction, including without limitation the rights to use, copy,</span>
<a name="l00023"></a>00023 <span class="comment"> * modify, merge, publish, distribute, sublicense, and/or sell copies</span>
<a name="l00024"></a>00024 <span class="comment"> * of the Software, and to permit persons to whom the Software is</span>
<a name="l00025"></a>00025 <span class="comment"> * furnished to do so, subject to the following conditions:</span>
<a name="l00026"></a>00026 <span class="comment"> *</span>
<a name="l00027"></a>00027 <span class="comment"> * Redistributions of source code must retain the above copyright</span>
<a name="l00028"></a>00028 <span class="comment"> * notice, this list of conditions and the following disclaimers.</span>
<a name="l00029"></a>00029 <span class="comment"> *</span>
<a name="l00030"></a>00030 <span class="comment"> * Redistributions in binary form must reproduce the above copyright</span>
<a name="l00031"></a>00031 <span class="comment"> * notice, this list of conditions and the following disclaimers in</span>
<a name="l00032"></a>00032 <span class="comment"> * the documentation and/or other materials provided with the</span>
<a name="l00033"></a>00033 <span class="comment"> * distribution.</span>
<a name="l00034"></a>00034 <span class="comment"> *</span>
<a name="l00035"></a>00035 <span class="comment"> * Neither the names of the IMPACT Research Group, the University of</span>
<a name="l00036"></a>00036 <span class="comment"> * Illinois, nor the names of its contributors may be used to endorse</span>
<a name="l00037"></a>00037 <span class="comment"> * or promote products derived from this Software without specific</span>
<a name="l00038"></a>00038 <span class="comment"> * prior written permission.  THE SOFTWARE IS PROVIDED "AS IS",</span>
<a name="l00039"></a>00039 <span class="comment"> * WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT</span>
<a name="l00040"></a>00040 <span class="comment"> * LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A</span>
<a name="l00041"></a>00041 <span class="comment"> * PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE</span>
<a name="l00042"></a>00042 <span class="comment"> * CONTRIBUTORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES</span>
<a name="l00043"></a>00043 <span class="comment"> * OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR</span>
<a name="l00044"></a>00044 <span class="comment"> * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE</span>
<a name="l00045"></a>00045 <span class="comment"> * OR THE USE OR OTHER DEALINGS WITH THE SOFTWARE.</span>
<a name="l00046"></a>00046 <span class="comment"> *</span>
<a name="l00047"></a>00047 <span class="comment">\*****************************************************************************/</span>
<a name="l00048"></a>00048 <span class="comment">/*****************************************************************************\</span>
<a name="l00049"></a>00049 <span class="comment"> *</span>
<a name="l00050"></a>00050 <span class="comment"> *  File:  l_parms.c</span>
<a name="l00051"></a>00051 <span class="comment"> *</span>
<a name="l00052"></a>00052 <span class="comment"> *  Description:  Reads in parameters </span>
<a name="l00053"></a>00053 <span class="comment"> *</span>
<a name="l00054"></a>00054 <span class="comment"> *  Creation Date :  10-6-92</span>
<a name="l00055"></a>00055 <span class="comment"> *</span>
<a name="l00056"></a>00056 <span class="comment"> *  Authors:  John C. Gyllenhaal, Wen-mei Hwu</span>
<a name="l00057"></a>00057 <span class="comment"> *</span>
<a name="l00058"></a>00058 <span class="comment"> *  Revisions:</span>
<a name="l00059"></a>00059 <span class="comment"> *      Roger A. Bringmann - February 1993</span>
<a name="l00060"></a>00060 <span class="comment"> *      Modified for standard use within Lcode.</span>
<a name="l00061"></a>00061 <span class="comment"> *</span>
<a name="l00062"></a>00062 <span class="comment"> *      John C. Gyllenhaal - September 1993</span>
<a name="l00063"></a>00063 <span class="comment"> *      Added standard functions for reading command line and environment</span>
<a name="l00064"></a>00064 <span class="comment"> *      macro definitions and for determining the STD_PARMS file to use.</span>
<a name="l00065"></a>00065 <span class="comment"> * </span>
<a name="l00066"></a>00066 <span class="comment"> *      Brian Deitrich - September 1994</span>
<a name="l00067"></a>00067 <span class="comment"> *      Added hash table for parameters (only read parameters into routines</span>
<a name="l00068"></a>00068 <span class="comment"> *      after all parameters have been read in.  Added more warnings to help</span>
<a name="l00069"></a>00069 <span class="comment"> *      in debugging of parameter files.</span>
<a name="l00070"></a>00070 <span class="comment"> *</span>
<a name="l00071"></a>00071 <span class="comment"> *      John C. Gyllenhaal - May 1998</span>
<a name="l00072"></a>00072 <span class="comment"> *      Enhanced load parameters to accept up to two equivalent names</span>
<a name="l00073"></a>00073 <span class="comment"> *      for a section.  This functionality was added to allow the Trimaran</span>
<a name="l00074"></a>00074 <span class="comment"> *      release to "rename" some IMPACT parameter sections (namely,</span>
<a name="l00075"></a>00075 <span class="comment"> *      global, file, arch, RegAlloc, Dependence, and Scheduler). </span>
<a name="l00076"></a>00076 <span class="comment"> *</span>
<a name="l00077"></a>00077 <span class="comment"> *      John C. Gyllenhaal - Oct 1998</span>
<a name="l00078"></a>00078 <span class="comment"> *      Added 'default' defaults_path specifier '(* defaults_path' to parm </span>
<a name="l00079"></a>00079 <span class="comment"> *      reader.  Allows users to override just a few parameters and get the </span>
<a name="l00080"></a>00080 <span class="comment"> *      rest (including other unspecified parm sections) from a different file.</span>
<a name="l00081"></a>00081 <span class="comment"> *      Before this enhancement, every section was required to be in every </span>
<a name="l00082"></a>00082 <span class="comment"> *      file, which was tiresome. :)  Added to support new benchmark compile </span>
<a name="l00083"></a>00083 <span class="comment"> *      info specification framework.</span>
<a name="l00084"></a>00084 <span class="comment"> *</span>
<a name="l00085"></a>00085 <span class="comment"> *      Copyright (c) 1993 The Board of Trustees of the University of Illinois.</span>
<a name="l00086"></a>00086 <span class="comment"> *                         All rights reserved.</span>
<a name="l00087"></a>00087 <span class="comment"> *      The University of Illinois software License Agreement</span>
<a name="l00088"></a>00088 <span class="comment"> *      specifies the terms and conditions for redistribution.</span>
<a name="l00089"></a>00089 <span class="comment">\*****************************************************************************/</span>
<a name="l00090"></a>00090 
<a name="l00091"></a>00091 <span class="comment">/* 10/29/02 REK Adding config.h */</span>
<a name="l00092"></a>00092 <span class="preprocessor">#include &lt;config.h&gt;</span>
<a name="l00093"></a>00093 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00094"></a>00094 <span class="preprocessor">#include &lt;stdarg.h&gt;</span>
<a name="l00095"></a>00095 <span class="preprocessor">#include &lt;string.h&gt;</span>
<a name="l00096"></a>00096 <span class="preprocessor">#include &lt;ctype.h&gt;</span>
<a name="l00097"></a>00097 <span class="preprocessor">#include &lt;math.h&gt;</span>
<a name="l00098"></a>00098 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<a name="l00099"></a>00099 <span class="preprocessor">#include &lt;malloc.h&gt;</span>
<a name="l00100"></a>00100 <span class="preprocessor">#include &lt;library/i_error.h&gt;</span>
<a name="l00101"></a>00101 
<a name="l00102"></a>00102 <span class="preprocessor">#include "<a class="code" href="l__parms_8h.html">l_parms.h</a>"</span>
<a name="l00103"></a>00103 
<a name="l00104"></a>00104 <span class="comment">/* Internal prototypes */</span>
<a name="l00105"></a>00105 <span class="keyword">extern</span> <a class="code" href="structparm__table__list.html">Parm_Table_List</a> *<a class="code" href="l__parms_8c.html#aa30776a4ea3af977de79575a3d39027">L_create_parm_table_list</a> (<span class="keywordtype">void</span>);
<a name="l00106"></a>00106 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="l__parms_8c.html#eff2896ccf418f5e001f57d42e928740">L_free_parm_table_list</a> (<a class="code" href="structparm__table__list.html">Parm_Table_List</a> * <a class="code" href="structlist.html">list</a>);
<a name="l00107"></a>00107 <span class="keyword">extern</span> <a class="code" href="structparm__table__node.html">Parm_Table_Node</a> *<a class="code" href="l__parms_8c.html#aaa6fc5fe57512c37755e5316453c0fa">L_get_parm_table_entry</a> (<a class="code" href="structparm__table__list.html">Parm_Table_List</a> * <a class="code" href="structlist.html">list</a>,
<a name="l00108"></a>00108                                                 <span class="keywordtype">char</span> *<a class="code" href="c__basic_8c.html#5ac083a645d964373f022d03df4849c8">name</a>);
<a name="l00109"></a>00109 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="l__parms_8c.html#68767fcc02492c969cdc624ed22854fe">L_add_to_parm_table_list</a> (<a class="code" href="structparm__table__list.html">Parm_Table_List</a> * <a class="code" href="structlist.html">list</a>,
<a name="l00110"></a>00110                                       <a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi,
<a name="l00111"></a>00111                                       <span class="keywordtype">char</span> *section_name1,
<a name="l00112"></a>00112                                       <span class="keywordtype">char</span> *section_name2);
<a name="l00113"></a>00113 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="l__parms_8c.html#4765bf6935180114326aeea11d1c65ae">L_pmatch</a> (<span class="keywordtype">char</span> *s1, <span class="keywordtype">char</span> *s2);
<a name="l00114"></a>00114 <span class="keyword">extern</span> <a class="code" href="structparm__macro__list.html">Parm_Macro_List</a> *<a class="code" href="l__parms_8c.html#c192c48345f8281ee12dbeabb46b8185">L_create_parm_macro_list</a> (<span class="keywordtype">void</span>);
<a name="l00115"></a>00115 
<a name="l00116"></a>00116 
<a name="l00117"></a>00117 <span class="comment">/* GLOBAL VARIABLE DEFINITION */</span>
<a name="l00118"></a>00118 
<a name="l00119"></a>00119 <span class="comment">/* Global variables to configure parameter file reader */</span>
<a name="l00120"></a><a class="code" href="l__parms_8h.html#38db30290d33f5904a0c1859d7ae7d21">00120</a> <span class="keywordtype">int</span> <a class="code" href="l__parms_8c.html#38db30290d33f5904a0c1859d7ae7d21">L_punt_on_unknown_parm</a> = 0; <span class="comment">/* Default to warn on parm_unknown */</span>
<a name="l00121"></a>00121 
<a name="l00122"></a>00122 
<a name="l00123"></a>00123 <span class="comment">/* The following variables are needed so that people do not need to alter</span>
<a name="l00124"></a>00124 <span class="comment">   their parameter loading programs very much. These globals means that</span>
<a name="l00125"></a>00125 <span class="comment">   parameters do not need to be added to the routines that are already in</span>
<a name="l00126"></a>00126 <span class="comment">   place. */</span>
<a name="l00127"></a><a class="code" href="l__parms_8c.html#95c32800b7e93bd491ac6054521d1519">00127</a> <a class="code" href="structparm__warn__list.html">Parm_Warn_List</a> *<a class="code" href="l__parms_8c.html#95c32800b7e93bd491ac6054521d1519">warn_list</a>;   <span class="comment">/* pointer to list of all warnings encountered. */</span>
<a name="l00128"></a><a class="code" href="l__parms_8c.html#64158f38584b29f5a0cfcecd40f8ac89">00128</a> <span class="keywordtype">char</span> *<a class="code" href="l__parms_8c.html#64158f38584b29f5a0cfcecd40f8ac89">current_section_name1</a>;    <span class="comment">/* name of section currently being parsed. */</span>
<a name="l00129"></a><a class="code" href="l__parms_8c.html#f4165fc0be67b713ba10168fa0fb8698">00129</a> <span class="keywordtype">char</span> *<a class="code" href="l__parms_8c.html#f4165fc0be67b713ba10168fa0fb8698">current_section_name2</a>;    <span class="comment">/* aliased version of section name. */</span>
<a name="l00130"></a>00130 
<a name="l00131"></a><a class="code" href="l__parms_8c.html#b3618a90780bdfe2c9d4bb6609c3c654">00131</a> <span class="keywordtype">int</span> <a class="code" href="l__parms_8c.html#b3618a90780bdfe2c9d4bb6609c3c654">section_name1_used</a> = 0;  <span class="comment">/* Indicates if "name1" used while reading parms */</span>
<a name="l00132"></a><a class="code" href="l__parms_8c.html#eb7d3d952cc4201c1cdee122eee1958c">00132</a> <span class="keywordtype">int</span> <a class="code" href="l__parms_8c.html#eb7d3d952cc4201c1cdee122eee1958c">section_name2_used</a> = 0;  <span class="comment">/* Indicates if "name2" used while reading parms */</span>
<a name="l00133"></a>00133 
<a name="l00134"></a><a class="code" href="l__parms_8c.html#bea3a267ff4c64fa5666dc5d59c6384a">00134</a> <a class="code" href="structparm__table__list.html">Parm_Table_List</a> *<a class="code" href="l__parms_8c.html#bea3a267ff4c64fa5666dc5d59c6384a">parameter_list</a>;    <span class="comment">/* pointer to list of hash table pointers */</span>
<a name="l00135"></a>00135 
<a name="l00136"></a>00136 <span class="comment">/* Global variable that signifies start of parameters list for section. List</span>
<a name="l00137"></a>00137 <span class="comment">   is designed so that the order of the list corresponds to the order that</span>
<a name="l00138"></a>00138 <span class="comment">   these elements were defined in the parameters file. */</span>
<a name="l00139"></a><a class="code" href="l__parms_8c.html#40b9004e8ee8e4c9b4cd1f20945241b4">00139</a> <a class="code" href="structparm__table__node.html">Parm_Table_Node</a> *<a class="code" href="l__parms_8c.html#40b9004e8ee8e4c9b4cd1f20945241b4">start_node_of_input</a>;
<a name="l00140"></a>00140 
<a name="l00141"></a>00141 <span class="comment">/* used to know to print "#PARAMETER DUMP" the first time this is invoked */</span>
<a name="l00142"></a><a class="code" href="l__parms_8c.html#2251ba55279aef307357d4b82d7cffb7">00142</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="l__parms_8c.html#2251ba55279aef307357d4b82d7cffb7">first_time</a> = 1;
<a name="l00143"></a>00143 
<a name="l00144"></a>00144 <span class="comment">/* variables used to process the parameter warnings and output */</span>
<a name="l00145"></a><a class="code" href="l__parms_8h.html#3b83d33abb46fadfb813372c0b9a667f">00145</a> <span class="keywordtype">char</span> *<a class="code" href="l__parms_8c.html#3b83d33abb46fadfb813372c0b9a667f">L_parm_dump_file_name</a> = (<span class="keywordtype">char</span> *) <span class="stringliteral">"stderr"</span>;
<a name="l00146"></a><a class="code" href="l__parms_8h.html#a52c8258549d23615859be45e5f2a38c">00146</a> <span class="keywordtype">char</span> *<a class="code" href="l__parms_8c.html#a52c8258549d23615859be45e5f2a38c">L_parm_warn_file_name</a> = (<span class="keywordtype">char</span> *) <span class="stringliteral">"stderr"</span>;
<a name="l00147"></a><a class="code" href="l__parms_8h.html#a6c1f01f3f17239261b3d73364478201">00147</a> <span class="keywordtype">int</span> <a class="code" href="l__parms_8c.html#a6c1f01f3f17239261b3d73364478201">L_warn_old_parm_section_name_used</a> = <a class="code" href="l__parms_8h.html#8958ac36a82de9378c6cac257a5c0265">WARNINGS_OFF</a>;
<a name="l00148"></a><a class="code" href="l__parms_8h.html#6e2370b0d062442e4748c92dbfe6260b">00148</a> <span class="keywordtype">int</span> <a class="code" href="l__parms_8c.html#6e2370b0d062442e4748c92dbfe6260b">L_warn_parm_not_used</a> = <a class="code" href="l__parms_8h.html#491e4f969739dfdd5d018c6d259141f2">WARNINGS_ON</a>;
<a name="l00149"></a><a class="code" href="l__parms_8h.html#3e945935cb7d3ea887b8309a40b01ea8">00149</a> <span class="keywordtype">int</span> <a class="code" href="l__parms_8c.html#3e945935cb7d3ea887b8309a40b01ea8">L_warn_parm_not_defined</a> = <a class="code" href="l__parms_8h.html#491e4f969739dfdd5d018c6d259141f2">WARNINGS_ON</a>;
<a name="l00150"></a><a class="code" href="l__parms_8h.html#e4e406bd7aa9be4a24b2a33ea728e4db">00150</a> <span class="keywordtype">int</span> <a class="code" href="l__parms_8c.html#e4e406bd7aa9be4a24b2a33ea728e4db">L_warn_dev_parm_not_defined</a> = <a class="code" href="l__parms_8h.html#8958ac36a82de9378c6cac257a5c0265">WARNINGS_OFF</a>;
<a name="l00151"></a><a class="code" href="l__parms_8h.html#ecc63b1ae2816e4e5b67830cefcc725b">00151</a> <span class="keywordtype">int</span> <a class="code" href="l__parms_8c.html#ecc63b1ae2816e4e5b67830cefcc725b">L_warn_parm_defined_twice</a> = <a class="code" href="l__parms_8h.html#491e4f969739dfdd5d018c6d259141f2">WARNINGS_ON</a>;
<a name="l00152"></a><a class="code" href="l__parms_8h.html#d8b6ae8bcbc9ccc867100dfd96f6957c">00152</a> <span class="keywordtype">int</span> <a class="code" href="l__parms_8c.html#d8b6ae8bcbc9ccc867100dfd96f6957c">L_dump_parms</a> = <a class="code" href="l__parms_8h.html#8958ac36a82de9378c6cac257a5c0265">WARNINGS_OFF</a>;
<a name="l00153"></a>00153 
<a name="l00154"></a>00154 <span class="comment">/* END OF GLOBAL VARIABLE DEFINITION */</span>
<a name="l00155"></a>00155 
<a name="l00156"></a>00156 <span class="comment">/* Declare external functions that must be defined by user */</span>
<a name="l00157"></a>00157 <span class="keywordtype">void</span> <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="keywordtype">char</span> *msg, ...);
<a name="l00158"></a>00158 
<a name="l00159"></a>00159 <span class="comment">/* Internal prototypes */</span>
<a name="l00160"></a>00160 <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="l__parms_8c.html#c08a9d9f28e265fdc4c89644b5dd64c7">L_get_next_parm</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi);
<a name="l00161"></a>00161 <span class="keywordtype">void</span> <a class="code" href="l__parms_8c.html#161297346e7b7187fe6b8ba6cf0ad8c9">L_define_parm_macro</a> (<a class="code" href="structparm__macro__list.html">Parm_Macro_List</a> * <a class="code" href="structlist.html">list</a>, <span class="keywordtype">char</span> *<a class="code" href="c__basic_8c.html#5ac083a645d964373f022d03df4849c8">name</a>, <span class="keywordtype">char</span> *value,
<a name="l00162"></a>00162                           <span class="keywordtype">int</span> from);
<a name="l00163"></a>00163 <span class="keywordtype">void</span> <a class="code" href="l__parms_8c.html#13f4fc5e49389c952f6c36b2b36d0765">L_read_parm_sections</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi, <a class="code" href="structparm__section__info.html">Parm_Section_Info</a> * psi);
<a name="l00164"></a>00164 <span class="keywordtype">int</span> <a class="code" href="l__parms_8c.html#62df370fac8e8f6cd66971ce843bab9c">L_parm_calc_complete_expr</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi);
<a name="l00165"></a>00165 <span class="keywordtype">int</span> <a class="code" href="l__parms_8c.html#649df4f104c79430336518dfcb1ae25b">L_parm_calc_expr</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi);
<a name="l00166"></a>00166 <span class="keywordtype">int</span> <a class="code" href="l__parms_8c.html#25b2cc41359c9986b0621e8e529b252a">L_parm_calc_factor</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi);
<a name="l00167"></a>00167 <span class="keywordtype">int</span> <a class="code" href="l__parms_8c.html#ecd188d9e927027fdad268e4732f483c">L_parm_calc_term</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi);
<a name="l00168"></a>00168 <span class="keywordtype">int</span> <a class="code" href="l__parms_8c.html#62b8261e0d0f3321051b7dccf11ef24f">L_peek_next_token</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi);
<a name="l00169"></a>00169 <span class="keywordtype">int</span> <a class="code" href="l__parms_8c.html#a72a0feb27cdbf381044fe530f4b537f">L_get_next_token</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi);
<a name="l00170"></a>00170 <span class="keywordtype">void</span> <a class="code" href="l__parms_8c.html#4b6a82da614d3b3ea4e54dfd0d19a542">L_add_parm_already_defined</a> (<a class="code" href="structparm__table__node.html">Parm_Table_Node</a> * old_parm_node,
<a name="l00171"></a>00171                                  <span class="keywordtype">char</span> *new_value, <span class="keywordtype">char</span> *new_file_name,
<a name="l00172"></a>00172                                  <span class="keywordtype">int</span> new_parm_line_no, <span class="keywordtype">char</span> *section_name1,
<a name="l00173"></a>00173                                  <span class="keywordtype">char</span> *section_name2);
<a name="l00174"></a>00174 
<a name="l00175"></a>00175 <span class="comment">/*******************************/</span>
<a name="l00176"></a>00176 <span class="comment">/* Hash table routines follow. */</span>
<a name="l00177"></a>00177 <span class="comment">/*******************************/</span>
<a name="l00178"></a>00178 
<a name="l00179"></a>00179 <span class="comment">/* Initializes the hash table */</span>
<a name="l00180"></a>00180 <a class="code" href="structparm__table__list.html">Parm_Table_List</a> *
<a name="l00181"></a><a class="code" href="l__parms_8c.html#aa30776a4ea3af977de79575a3d39027">00181</a> <a class="code" href="l__parms_8c.html#aa30776a4ea3af977de79575a3d39027">L_create_parm_table_list</a> (<span class="keywordtype">void</span>)
<a name="l00182"></a>00182 {
<a name="l00183"></a>00183   <span class="keywordtype">int</span> i;
<a name="l00184"></a>00184   <a class="code" href="structparm__table__list.html">Parm_Table_List</a> *<a class="code" href="structlist.html">list</a>;
<a name="l00185"></a>00185 
<a name="l00186"></a>00186   <span class="keywordflow">if</span> ((list = (<a class="code" href="structparm__table__list.html">Parm_Table_List</a> *) malloc (<span class="keyword">sizeof</span> (<a class="code" href="structparm__table__list.html">Parm_Table_List</a>))) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00187"></a>00187     <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"Parm_Table_List: out of memory\n"</span>);
<a name="l00188"></a>00188 
<a name="l00189"></a>00189   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="l__parms_8h.html#36215e82184d0149f0657606c862cabc">PARM_TABLE_HASH_SIZE</a>; i++)
<a name="l00190"></a>00190     list-&gt;<a class="code" href="structparm__table__list.html#140cd03c4dfcd9b3e45f987595bd75d6">head</a>[i] = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00191"></a>00191 
<a name="l00192"></a>00192   return (list);
<a name="l00193"></a>00193 }
<a name="l00194"></a>00194 
<a name="l00195"></a>00195 <span class="comment">/* Frees all the definitions in a hash table list */</span>
<a name="l00196"></a>00196 <span class="keywordtype">void</span>
<a name="l00197"></a><a class="code" href="l__parms_8c.html#eff2896ccf418f5e001f57d42e928740">00197</a> <a class="code" href="l__parms_8c.html#eff2896ccf418f5e001f57d42e928740">L_free_parm_table_list</a> (<a class="code" href="structparm__table__list.html">Parm_Table_List</a> * <a class="code" href="structlist.html">list</a>)
<a name="l00198"></a>00198 {
<a name="l00199"></a>00199   <span class="keywordtype">int</span> i;
<a name="l00200"></a>00200   <a class="code" href="structparm__table__node.html">Parm_Table_Node</a> *<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>, *next_node;
<a name="l00201"></a>00201 
<a name="l00202"></a>00202   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="l__parms_8h.html#36215e82184d0149f0657606c862cabc">PARM_TABLE_HASH_SIZE</a>; i++)
<a name="l00203"></a>00203     {
<a name="l00204"></a>00204       <span class="keywordflow">for</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = list-&gt;<a class="code" href="structparm__table__list.html#140cd03c4dfcd9b3e45f987595bd75d6">head</a>[i]; <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = next_node)
<a name="l00205"></a>00205         {
<a name="l00206"></a>00206           next_node = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next;
<a name="l00207"></a>00207           free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name);
<a name="l00208"></a>00208           free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;user_name);
<a name="l00209"></a>00209           free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value);
<a name="l00210"></a>00210           free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_file_name);
<a name="l00211"></a>00211           free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>);
<a name="l00212"></a>00212         }
<a name="l00213"></a>00213     }
<a name="l00214"></a>00214   free (<a class="code" href="structlist.html">list</a>);
<a name="l00215"></a>00215 }
<a name="l00216"></a>00216 
<a name="l00217"></a>00217 <span class="comment">/* Return the ppi pointer in the hash table found under a particular name</span>
<a name="l00218"></a>00218 <span class="comment"> * Also set the used field to USED when entry is found</span>
<a name="l00219"></a>00219 <span class="comment"> * If no entry can be found, return NULL</span>
<a name="l00220"></a>00220 <span class="comment"> */</span>
<a name="l00221"></a>00221 <a class="code" href="structparm__table__node.html">Parm_Table_Node</a> *
<a name="l00222"></a><a class="code" href="l__parms_8c.html#aaa6fc5fe57512c37755e5316453c0fa">00222</a> <a class="code" href="l__parms_8c.html#aaa6fc5fe57512c37755e5316453c0fa">L_get_parm_table_entry</a> (<a class="code" href="structparm__table__list.html">Parm_Table_List</a> * <a class="code" href="structlist.html">list</a>, <span class="keywordtype">char</span> *<a class="code" href="c__basic_8c.html#5ac083a645d964373f022d03df4849c8">name</a>)
<a name="l00223"></a>00223 {
<a name="l00224"></a>00224   <a class="code" href="structparm__table__node.html">Parm_Table_Node</a> *<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>, *next_node;
<a name="l00225"></a>00225   <span class="keywordtype">int</span> hash_value, i, name_size;
<a name="l00226"></a>00226   <span class="keywordtype">char</span> *change_case_char, *name_to_check;
<a name="l00227"></a>00227 
<a name="l00228"></a>00228   <span class="comment">/* Strip leading whitespaces */</span>
<a name="l00229"></a>00229   <span class="keywordflow">while</span> (isspace (*name))
<a name="l00230"></a>00230     name++;
<a name="l00231"></a>00231 
<a name="l00232"></a>00232   <span class="comment">/* Save the original name provided by the user (before it is converted to</span>
<a name="l00233"></a>00233 <span class="comment">     all caps. */</span>
<a name="l00234"></a>00234   name_size = strlen (name) + 1;
<a name="l00235"></a>00235   <span class="keywordflow">if</span> ((name_to_check = (<span class="keywordtype">char</span> *) malloc (name_size)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00236"></a>00236     <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"L_get_parm_table_entry: Out of memory"</span>);
<a name="l00237"></a>00237   strcpy (name_to_check, name);
<a name="l00238"></a>00238 
<a name="l00239"></a>00239   <span class="comment">/* change all letters in name to caps */</span>
<a name="l00240"></a>00240   change_case_char = name_to_check;
<a name="l00241"></a>00241   <span class="keywordflow">while</span> (*change_case_char != <span class="charliteral">'\0'</span>)
<a name="l00242"></a>00242     {
<a name="l00243"></a>00243       *change_case_char = toupper (*change_case_char);
<a name="l00244"></a>00244       change_case_char++;
<a name="l00245"></a>00245     }
<a name="l00246"></a>00246 
<a name="l00247"></a>00247   <span class="comment">/* calculate hash value */</span>
<a name="l00248"></a>00248   hash_value = 0;
<a name="l00249"></a>00249   <span class="keywordflow">for</span> (i = 0; i &lt; name_size; i++)
<a name="l00250"></a>00250     hash_value = hash_value + *(name_to_check + i);
<a name="l00251"></a>00251   hash_value = hash_value % <a class="code" href="l__parms_8h.html#36215e82184d0149f0657606c862cabc">PARM_TABLE_HASH_SIZE</a>;
<a name="l00252"></a>00252 
<a name="l00253"></a>00253   <span class="keywordflow">for</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = list-&gt;<a class="code" href="structparm__table__list.html#140cd03c4dfcd9b3e45f987595bd75d6">head</a>[hash_value]; <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = next_node)
<a name="l00254"></a>00254     {
<a name="l00255"></a>00255       next_node = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next;
<a name="l00256"></a>00256       if (strcmp (name_to_check, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name) == 0)
<a name="l00257"></a>00257         {
<a name="l00258"></a>00258           <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;used = <a class="code" href="l__parms_8h.html#bcd0a22ee4346cad5706adb6d2119429">USED</a>;
<a name="l00259"></a>00259           <span class="keywordflow">break</span>;
<a name="l00260"></a>00260         }
<a name="l00261"></a>00261     }
<a name="l00262"></a>00262 
<a name="l00263"></a>00263   free (name_to_check);
<a name="l00264"></a>00264 
<a name="l00265"></a>00265   <span class="comment">/* the above loop guarantees that node is either NULL or set to</span>
<a name="l00266"></a>00266 <span class="comment">   * the node that has a matching name.</span>
<a name="l00267"></a>00267 <span class="comment">   */</span>
<a name="l00268"></a>00268   <span class="keywordflow">return</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>);
<a name="l00269"></a>00269 }
<a name="l00270"></a>00270 
<a name="l00271"></a>00271 <span class="comment">/* Add an element to the hash table</span>
<a name="l00272"></a>00272 <span class="comment"> * Overwrite any previous definitions of parameters</span>
<a name="l00273"></a>00273 <span class="comment">*/</span>
<a name="l00274"></a>00274 <span class="keywordtype">void</span>
<a name="l00275"></a><a class="code" href="l__parms_8c.html#68767fcc02492c969cdc624ed22854fe">00275</a> <a class="code" href="l__parms_8c.html#68767fcc02492c969cdc624ed22854fe">L_add_to_parm_table_list</a> (<a class="code" href="structparm__table__list.html">Parm_Table_List</a> * <a class="code" href="structlist.html">list</a>, <a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi,
<a name="l00276"></a>00276                           <span class="keywordtype">char</span> *section_name1, <span class="keywordtype">char</span> *section_name2)
<a name="l00277"></a>00277 {
<a name="l00278"></a>00278   <a class="code" href="structparm__table__node.html">Parm_Table_Node</a> *<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>, *next_node, *check_for_node, *prev_check_for_node;
<a name="l00279"></a>00279   <a class="code" href="structparm__table__node.html">Parm_Table_Node</a> *inp_node, *prev_inp_node;
<a name="l00280"></a>00280   <a class="code" href="structparm__table__node.html">Parm_Table_Node</a> *prev_node_location, *next_inp_node;
<a name="l00281"></a>00281   <span class="keywordtype">int</span> node_size, name_size, value_size, file_name_size, hash_value, i;
<a name="l00282"></a>00282   <span class="keywordtype">char</span> *change_case_char, *<a class="code" href="c__basic_8c.html#5ac083a645d964373f022d03df4849c8">name</a>, *user_name;
<a name="l00283"></a>00283 
<a name="l00284"></a>00284   name = ppi-&gt;<a class="code" href="structparm__parse__info__st.html#5aa2d50e0585127a892d55485f4625c3">parm_buf</a>;
<a name="l00285"></a>00285 
<a name="l00286"></a>00286   <span class="comment">/* initialize this pointer so it can be determined whether a new</span>
<a name="l00287"></a>00287 <span class="comment">     record is being added without replacing a previous one.  needed</span>
<a name="l00288"></a>00288 <span class="comment">     for linked list of inputs. */</span>
<a name="l00289"></a>00289   prev_node_location = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00290"></a>00290   <span class="comment">/* initialize this so new next_inp pointer gets set correctly.</span>
<a name="l00291"></a>00291 <span class="comment">     if replacing a record, this gets overwritten.</span>
<a name="l00292"></a>00292 <span class="comment">     else, this stays NULL and gets appended to input linked list */</span>
<a name="l00293"></a>00293   next_inp_node = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00294"></a>00294 
<a name="l00295"></a>00295   <span class="comment">/* Strip leading whitespace */</span>
<a name="l00296"></a>00296   <span class="keywordflow">while</span> (isspace (*name))
<a name="l00297"></a>00297     name++;
<a name="l00298"></a>00298 
<a name="l00299"></a>00299   <span class="comment">/* Save the original name provided by the user (before it is converted to</span>
<a name="l00300"></a>00300 <span class="comment">     all caps. */</span>
<a name="l00301"></a>00301   name_size = strlen (name) + 1;
<a name="l00302"></a>00302   <span class="keywordflow">if</span> ((user_name = (<span class="keywordtype">char</span> *) malloc (name_size)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00303"></a>00303     <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"L_add_to_parm_table_list: Out of memory"</span>);
<a name="l00304"></a>00304   strcpy (user_name, name);
<a name="l00305"></a>00305 
<a name="l00306"></a>00306   <span class="comment">/* change all letters in name to caps */</span>
<a name="l00307"></a>00307   change_case_char = name;
<a name="l00308"></a>00308   <span class="keywordflow">while</span> (*change_case_char != <span class="charliteral">'\0'</span>)
<a name="l00309"></a>00309     {
<a name="l00310"></a>00310       *change_case_char = toupper (*change_case_char);
<a name="l00311"></a>00311       change_case_char++;
<a name="l00312"></a>00312     }
<a name="l00313"></a>00313 
<a name="l00314"></a>00314   value_size = strlen (ppi-&gt;<a class="code" href="structparm__parse__info__st.html#255049943de34c7e2cd0d3e5d6a789cc">setting</a>) + 1;
<a name="l00315"></a>00315   file_name_size = strlen (ppi-&gt;<a class="code" href="structparm__parse__info__st.html#fbf0cb338be728d03c81c82014182c55">name</a>) + 1;
<a name="l00316"></a>00316   node_size = <span class="keyword">sizeof</span> (<a class="code" href="structparm__table__node.html">Parm_Table_Node</a>);
<a name="l00317"></a>00317 
<a name="l00318"></a>00318   <span class="comment">/* calculate hash value */</span>
<a name="l00319"></a>00319   hash_value = 0;
<a name="l00320"></a>00320   <span class="keywordflow">for</span> (i = 0; i &lt; name_size; i++)
<a name="l00321"></a>00321     hash_value = hash_value + *(name + i);
<a name="l00322"></a>00322   hash_value = hash_value % <a class="code" href="l__parms_8h.html#36215e82184d0149f0657606c862cabc">PARM_TABLE_HASH_SIZE</a>;
<a name="l00323"></a>00323 
<a name="l00324"></a>00324   <span class="comment">/* check for previous definition of parameter */</span>
<a name="l00325"></a>00325   <span class="keywordflow">for</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = list-&gt;<a class="code" href="structparm__table__list.html#140cd03c4dfcd9b3e45f987595bd75d6">head</a>[hash_value]; <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = next_node)
<a name="l00326"></a>00326     {
<a name="l00327"></a>00327       next_node = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next;
<a name="l00328"></a>00328       if (strcmp (name, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name) == 0)
<a name="l00329"></a>00329         {
<a name="l00330"></a>00330           <span class="comment">/* repair the pointers in this linked list for this deletion */</span>
<a name="l00331"></a>00331           if (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> == list-&gt;<a class="code" href="structparm__table__list.html#140cd03c4dfcd9b3e45f987595bd75d6">head</a>[hash_value])
<a name="l00332"></a>00332             list-&gt;<a class="code" href="structparm__table__list.html#140cd03c4dfcd9b3e45f987595bd75d6">head</a>[hash_value] = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next;
<a name="l00333"></a>00333           <span class="keywordflow">else</span>
<a name="l00334"></a>00334             {
<a name="l00335"></a>00335               check_for_node = list-&gt;<a class="code" href="structparm__table__list.html#140cd03c4dfcd9b3e45f987595bd75d6">head</a>[hash_value];
<a name="l00336"></a>00336               while (check_for_node != <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>)
<a name="l00337"></a>00337                 {
<a name="l00338"></a>00338                   prev_check_for_node = check_for_node;
<a name="l00339"></a>00339                   check_for_node = check_for_node-&gt;<a class="code" href="structparm__table__node.html#0512416bb4b0ecaa770d839622f36ad6">next</a>;
<a name="l00340"></a>00340                   <span class="keywordflow">if</span> (check_for_node == <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>)
<a name="l00341"></a>00341                     prev_check_for_node-&gt;<a class="code" href="structparm__table__node.html#0512416bb4b0ecaa770d839622f36ad6">next</a> = check_for_node-&gt;<a class="code" href="structparm__table__node.html#0512416bb4b0ecaa770d839622f36ad6">next</a>;
<a name="l00342"></a>00342                 }
<a name="l00343"></a>00343             }
<a name="l00344"></a>00344 
<a name="l00345"></a>00345           <span class="comment">/* input parameter linked list stays unchanged.</span>
<a name="l00346"></a>00346 <span class="comment">             save old pointer value so list does not get corrupted */</span>
<a name="l00347"></a>00347           next_inp_node = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next_input;
<a name="l00348"></a>00348 
<a name="l00349"></a>00349           <span class="comment">/* also save pointer to node that is being replaced, so that</span>
<a name="l00350"></a>00350 <span class="comment">             the element pointing to it can be changed to the new location</span>
<a name="l00351"></a>00351 <span class="comment">             of this node */</span>
<a name="l00352"></a>00352           prev_node_location = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l00353"></a>00353 
<a name="l00354"></a>00354           <span class="comment">/* save the warning if the parm definitions come from the same </span>
<a name="l00355"></a>00355 <span class="comment">             parmeter file. Multiple definitions are allowed as long as they</span>
<a name="l00356"></a>00356 <span class="comment">             come from different files (or levels of recursion). */</span>
<a name="l00357"></a>00357           <span class="keywordflow">if</span> (strcmp (ppi-&gt;name, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_file_name) == 0)
<a name="l00358"></a>00358             <a class="code" href="l__parms_8c.html#4b6a82da614d3b3ea4e54dfd0d19a542">L_add_parm_already_defined</a> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>, ppi-&gt;setting,
<a name="l00359"></a>00359                                         ppi-&gt;name, ppi-&gt;line_no,
<a name="l00360"></a>00360                                         section_name1, section_name2);
<a name="l00361"></a>00361 
<a name="l00362"></a>00362           <span class="comment">/* remove this node.  the new info will be added below */</span>
<a name="l00363"></a>00363           free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name);
<a name="l00364"></a>00364           free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;user_name);
<a name="l00365"></a>00365           free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value);
<a name="l00366"></a>00366           free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_file_name);
<a name="l00367"></a>00367           free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>);
<a name="l00368"></a>00368           <span class="keywordflow">break</span>;
<a name="l00369"></a>00369         }
<a name="l00370"></a>00370     }
<a name="l00371"></a>00371 
<a name="l00372"></a>00372   <span class="comment">/*  add to front of link list for hash value */</span>
<a name="l00373"></a>00373   <span class="keywordflow">if</span> (((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = (<a class="code" href="structparm__table__node.html">Parm_Table_Node</a> *) malloc (node_size)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ||
<a name="l00374"></a>00374       ((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name = (<span class="keywordtype">char</span> *) malloc (name_size)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ||
<a name="l00375"></a>00375       ((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value = (<span class="keywordtype">char</span> *) malloc (value_size)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ||
<a name="l00376"></a>00376       ((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_file_name = (<span class="keywordtype">char</span> *) malloc (file_name_size)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))
<a name="l00377"></a>00377     <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"L_add_to_parm_table_list: Out of memory"</span>);
<a name="l00378"></a>00378   strcpy (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name, <a class="code" href="c__basic_8c.html#5ac083a645d964373f022d03df4849c8">name</a>);
<a name="l00379"></a>00379   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;user_name = user_name;
<a name="l00380"></a>00380   strcpy (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value, ppi-&gt;setting);
<a name="l00381"></a>00381   strcpy (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_file_name, ppi-&gt;name);
<a name="l00382"></a>00382   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_line_no = ppi-&gt;line_no;
<a name="l00383"></a>00383   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;used = <a class="code" href="l__parms_8h.html#f19bd6c1a125bbcb95028adc2aaddfb1">NOT_USED</a>;
<a name="l00384"></a>00384   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next_input = next_inp_node;     <span class="comment">/* gets inserted into old location.</span>
<a name="l00385"></a>00385 <span class="comment">                                           if new, set to NULL above and it</span>
<a name="l00386"></a>00386 <span class="comment">                                           gets inserted at end of list */</span>
<a name="l00387"></a>00387   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next = <a class="code" href="structlist.html">list</a>-&gt;head[hash_value];
<a name="l00388"></a>00388   <a class="code" href="structlist.html">list</a>-&gt;head[hash_value] = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l00389"></a>00389 
<a name="l00390"></a>00390   <span class="comment">/* insert new element at end of input list or its old location in</span>
<a name="l00391"></a>00391 <span class="comment">     the input linked list */</span>
<a name="l00392"></a>00392   <span class="keywordflow">for</span> (inp_node = <a class="code" href="l__parms_8c.html#40b9004e8ee8e4c9b4cd1f20945241b4">start_node_of_input</a>, prev_inp_node = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00393"></a>00393        (inp_node != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (inp_node != prev_node_location);
<a name="l00394"></a>00394        prev_inp_node = inp_node, inp_node = inp_node-&gt;next_input);
<a name="l00395"></a>00395 
<a name="l00396"></a>00396   <span class="keywordflow">if</span> ((inp_node != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (inp_node == prev_node_location))
<a name="l00397"></a>00397     <span class="comment">/* replacing an old record */</span>
<a name="l00398"></a>00398     <span class="keywordflow">if</span> (prev_inp_node == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)  <span class="comment">/* only one element in list */</span>
<a name="l00399"></a>00399       <a class="code" href="l__parms_8c.html#40b9004e8ee8e4c9b4cd1f20945241b4">start_node_of_input</a> = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l00400"></a>00400     <span class="keywordflow">else</span>  <span class="comment">/* update pointer in previous element to new location */</span>
<a name="l00401"></a>00401       prev_inp_node-&gt;next_input = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l00402"></a>00402   <span class="keywordflow">else</span> <span class="comment">/* appending to end of list */</span> 
<a name="l00403"></a>00403     <span class="keywordflow">if</span> (prev_inp_node == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)  <span class="comment">/* this is first element put into linked list */</span>
<a name="l00404"></a>00404       <a class="code" href="l__parms_8c.html#40b9004e8ee8e4c9b4cd1f20945241b4">start_node_of_input</a> = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l00405"></a>00405     <span class="keywordflow">else</span>                          <span class="comment">/* append to end of list */</span>
<a name="l00406"></a>00406       prev_inp_node-&gt;next_input = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l00407"></a>00407 }
<a name="l00408"></a>00408 
<a name="l00409"></a>00409 
<a name="l00410"></a>00410 <span class="comment">/* </span>
<a name="l00411"></a>00411 <span class="comment"> * Returns the STD_PARMS file name to use.</span>
<a name="l00412"></a>00412 <span class="comment"> * </span>
<a name="l00413"></a>00413 <span class="comment"> * If -p STD_PARMS_FILE is used on the commmand line, this will be returned.</span>
<a name="l00414"></a>00414 <span class="comment"> * otherwise if the env_var_name is defined, this definition will be returned,</span>
<a name="l00415"></a>00415 <span class="comment"> * otherwise, the default_std_parms will be returned.</span>
<a name="l00416"></a>00416 <span class="comment"> *</span>
<a name="l00417"></a>00417 <span class="comment"> * argv, and envp are the argument and environment lists that</span>
<a name="l00418"></a>00418 <span class="comment"> * get passed into main(argc, argv, envp).</span>
<a name="l00419"></a>00419 <span class="comment"> *</span>
<a name="l00420"></a>00420 <span class="comment"> * See John Gyllenhaal with questions.</span>
<a name="l00421"></a>00421 <span class="comment"> */</span>
<a name="l00422"></a>00422 <span class="keywordtype">char</span> *
<a name="l00423"></a><a class="code" href="l__parms_8h.html#388daec74010abed75e1a0530d065c97">00423</a> <a class="code" href="l__parms_8c.html#388daec74010abed75e1a0530d065c97">L_get_std_parm_name</a> (<span class="keywordtype">char</span> **argv, <span class="keywordtype">char</span> **envp, <span class="keywordtype">char</span> *env_var_name,
<a name="l00424"></a>00424                      <span class="keywordtype">char</span> *default_std_parms)
<a name="l00425"></a>00425 {
<a name="l00426"></a>00426   <span class="keywordtype">int</span> i;
<a name="l00427"></a>00427   <span class="keywordtype">char</span> *name_ptr, *value_ptr, *end_ptr;
<a name="l00428"></a>00428   <span class="keywordtype">char</span> temp_val;
<a name="l00429"></a>00429 
<a name="l00430"></a>00430   <span class="comment">/* Search command line for -p STD_PARMS_FILE */</span>
<a name="l00431"></a>00431   <span class="keywordflow">for</span> (i = 1; argv[i] != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; i++)
<a name="l00432"></a>00432     {
<a name="l00433"></a>00433       <span class="keywordflow">if</span> (strcmp (argv[i], <span class="stringliteral">"-p"</span>) == 0)
<a name="l00434"></a>00434         {
<a name="l00435"></a>00435           <span class="keywordflow">if</span> (argv[i + 1] == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00436"></a>00436             I_punt (<span class="stringliteral">"-p STD_PARMS_FILE name missing"</span>);
<a name="l00437"></a>00437           <span class="keywordflow">return</span> (strdup (argv[i + 1]));
<a name="l00438"></a>00438         }
<a name="l00439"></a>00439     }
<a name="l00440"></a>00440 
<a name="l00441"></a>00441   <span class="comment">/* Search environment for env_var_name definitions */</span>
<a name="l00442"></a>00442   <span class="keywordflow">for</span> (i = 0; envp[i] != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; i++)
<a name="l00443"></a>00443     {
<a name="l00444"></a>00444       name_ptr = envp[i];
<a name="l00445"></a>00445       value_ptr = envp[i];
<a name="l00446"></a>00446 
<a name="l00447"></a>00447       <span class="comment">/* Scan to end of name */</span>
<a name="l00448"></a>00448       <span class="keywordflow">while</span> ((*value_ptr != 0) &amp;&amp; !isspace (*value_ptr) &amp;&amp;
<a name="l00449"></a>00449              (*value_ptr != <span class="charliteral">'='</span>))
<a name="l00450"></a>00450         value_ptr++;
<a name="l00451"></a>00451 
<a name="l00452"></a>00452       end_ptr = value_ptr;
<a name="l00453"></a>00453 
<a name="l00454"></a>00454       <span class="comment">/* Scan to beginning of value */</span>
<a name="l00455"></a>00455       <span class="keywordflow">while</span> (isspace (*value_ptr) || (*value_ptr == <span class="charliteral">'='</span>))
<a name="l00456"></a>00456         value_ptr++;
<a name="l00457"></a>00457 
<a name="l00458"></a>00458       <span class="comment">/* Save char at end_ptr so can be restored later */</span>
<a name="l00459"></a>00459       temp_val = *end_ptr;
<a name="l00460"></a>00460 
<a name="l00461"></a>00461       <span class="comment">/* Terminate the name */</span>
<a name="l00462"></a>00462       *end_ptr = 0;
<a name="l00463"></a>00463 
<a name="l00464"></a>00464       <span class="comment">/* If name matches, return value */</span>
<a name="l00465"></a>00465       <span class="keywordflow">if</span> (strcmp (name_ptr, env_var_name) == 0)
<a name="l00466"></a>00466         {
<a name="l00467"></a>00467           <span class="comment">/* Restore the end_ptr so envp can be used by someone else */</span>
<a name="l00468"></a>00468           *end_ptr = temp_val;
<a name="l00469"></a>00469 
<a name="l00470"></a>00470           <span class="keywordflow">return</span> (strdup (value_ptr));
<a name="l00471"></a>00471         }
<a name="l00472"></a>00472 
<a name="l00473"></a>00473       <span class="comment">/* Restore the end_ptr so envp can be used by someone else */</span>
<a name="l00474"></a>00474       *end_ptr = temp_val;
<a name="l00475"></a>00475     }
<a name="l00476"></a>00476 
<a name="l00477"></a>00477   <span class="comment">/* Otherwise return default value */</span>
<a name="l00478"></a>00478   <span class="keywordflow">return</span> (strdup (default_std_parms));
<a name="l00479"></a>00479 }
<a name="l00480"></a>00480 
<a name="l00481"></a>00481 <span class="comment">/* </span>
<a name="l00482"></a>00482 <span class="comment"> * Returns the macro list that should be passed to L_load_parameters.</span>
<a name="l00483"></a>00483 <span class="comment"> * Note the name change from command_line_macro_list to</span>
<a name="l00484"></a>00484 <span class="comment"> * external_macro_list.  This is because it contains both the</span>
<a name="l00485"></a>00485 <span class="comment"> * command-line macro definitions and those defined in the</span>
<a name="l00486"></a>00486 <span class="comment"> * environment.</span>
<a name="l00487"></a>00487 <span class="comment"> *</span>
<a name="l00488"></a>00488 <span class="comment"> * argv, and envp are the argument and environment lists that</span>
<a name="l00489"></a>00489 <span class="comment"> * get passed into main(argc, argv, envp).</span>
<a name="l00490"></a>00490 <span class="comment"> *</span>
<a name="l00491"></a>00491 <span class="comment"> * See John Gyllenhaal with questions.</span>
<a name="l00492"></a>00492 <span class="comment"> */</span>
<a name="l00493"></a>00493 <a class="code" href="structparm__macro__list.html">Parm_Macro_List</a> *
<a name="l00494"></a><a class="code" href="l__parms_8h.html#d9f32fd872ba5e0db56034e0206c9b3c">00494</a> <a class="code" href="l__parms_8c.html#d9f32fd872ba5e0db56034e0206c9b3c">L_create_external_macro_list</a> (<span class="keywordtype">char</span> **argv, <span class="keywordtype">char</span> **envp)
<a name="l00495"></a>00495 {
<a name="l00496"></a>00496   <span class="keywordtype">int</span> temp;
<a name="l00497"></a>00497   <span class="keywordflow">return</span> <a class="code" href="l__parms_8c.html#70d45efecd0f0c73d94d1b51865be730">L_create_external_macro_list_new</a> (argv, envp, &amp;temp);
<a name="l00498"></a>00498 }
<a name="l00499"></a>00499 
<a name="l00500"></a>00500 <a class="code" href="structparm__macro__list.html">Parm_Macro_List</a> *
<a name="l00501"></a><a class="code" href="l__parms_8h.html#70d45efecd0f0c73d94d1b51865be730">00501</a> <a class="code" href="l__parms_8c.html#70d45efecd0f0c73d94d1b51865be730">L_create_external_macro_list_new</a> (<span class="keywordtype">char</span> **argv, <span class="keywordtype">char</span> **envp, <span class="keywordtype">int</span> *lastarg)
<a name="l00502"></a>00502 {
<a name="l00503"></a>00503   <a class="code" href="structparm__macro__list.html">Parm_Macro_List</a> *external_list;
<a name="l00504"></a>00504   <span class="keywordtype">char</span> *name_ptr, *value_ptr, *end_ptr;
<a name="l00505"></a>00505   <span class="keywordtype">char</span> temp_val;
<a name="l00506"></a>00506   <span class="keywordtype">int</span> i;
<a name="l00507"></a>00507 
<a name="l00508"></a>00508   external_list = <a class="code" href="l__parms_8c.html#c192c48345f8281ee12dbeabb46b8185">L_create_parm_macro_list</a> ();
<a name="l00509"></a>00509 
<a name="l00510"></a>00510   *lastarg = -1;
<a name="l00511"></a>00511 
<a name="l00512"></a>00512   <span class="comment">/*</span>
<a name="l00513"></a>00513 <span class="comment">   * Read in all environment variables as macros</span>
<a name="l00514"></a>00514 <span class="comment">   * Will override internal macro definitions and can be</span>
<a name="l00515"></a>00515 <span class="comment">   * overridden by command line definitions.</span>
<a name="l00516"></a>00516 <span class="comment">   */</span>
<a name="l00517"></a>00517   <span class="keywordflow">for</span> (i = 0; envp[i] != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; i++)
<a name="l00518"></a>00518     {
<a name="l00519"></a>00519       name_ptr = envp[i];
<a name="l00520"></a>00520       value_ptr = envp[i];
<a name="l00521"></a>00521 
<a name="l00522"></a>00522       <span class="comment">/* Scan to end of name */</span>
<a name="l00523"></a>00523       <span class="keywordflow">while</span> ((*value_ptr != 0) &amp;&amp; !isspace (*value_ptr) &amp;&amp;
<a name="l00524"></a>00524              (*value_ptr != <span class="charliteral">'='</span>))
<a name="l00525"></a>00525         value_ptr++;
<a name="l00526"></a>00526 
<a name="l00527"></a>00527       end_ptr = value_ptr;
<a name="l00528"></a>00528 
<a name="l00529"></a>00529       <span class="comment">/* Scan to beginning of value */</span>
<a name="l00530"></a>00530       <span class="keywordflow">while</span> (isspace (*value_ptr) || (*value_ptr == <span class="charliteral">'='</span>))
<a name="l00531"></a>00531         value_ptr++;
<a name="l00532"></a>00532 
<a name="l00533"></a>00533       <span class="comment">/* Save char at end_ptr so can be restored later */</span>
<a name="l00534"></a>00534       temp_val = *end_ptr;
<a name="l00535"></a>00535 
<a name="l00536"></a>00536       <span class="comment">/* Terminate the name */</span>
<a name="l00537"></a>00537       *end_ptr = 0;
<a name="l00538"></a>00538 
<a name="l00539"></a>00539       <span class="comment">/* There are some environment variables that we really don't</span>
<a name="l00540"></a>00540 <span class="comment">       * want the STD_PARMS to see if they happen to use a macro</span>
<a name="l00541"></a>00541 <span class="comment">       * of that name (ie path)</span>
<a name="l00542"></a>00542 <span class="comment">       */</span>
<a name="l00543"></a>00543       <span class="keywordflow">if</span> (strcmp (name_ptr, <span class="stringliteral">"PATH"</span>) != 0)
<a name="l00544"></a>00544         {
<a name="l00545"></a>00545           <span class="comment">/* Define the environment variable macro */</span>
<a name="l00546"></a>00546           <a class="code" href="l__parms_8c.html#161297346e7b7187fe6b8ba6cf0ad8c9">L_define_parm_macro</a> (external_list, name_ptr, value_ptr,
<a name="l00547"></a>00547                                <a class="code" href="l__parms_8h.html#5d4acb792ede1b47665aec760acf43d4">PARM_ENVIRONMENT</a>);
<a name="l00548"></a>00548         }
<a name="l00549"></a>00549 
<a name="l00550"></a>00550       <span class="comment">/* Restore the end_ptr so envp can be used by someone else */</span>
<a name="l00551"></a>00551       *end_ptr = temp_val;
<a name="l00552"></a>00552     }
<a name="l00553"></a>00553 
<a name="l00554"></a>00554   <span class="comment">/*</span>
<a name="l00555"></a>00555 <span class="comment">   * Read in all -Pmacro_name=value from command line parameters</span>
<a name="l00556"></a>00556 <span class="comment">   * These macro definitions have highest precidence and</span>
<a name="l00557"></a>00557 <span class="comment">   * will override environment and internal macro definitions.</span>
<a name="l00558"></a>00558 <span class="comment">   */</span>
<a name="l00559"></a>00559   <span class="keywordflow">for</span> (i = 1; argv[i] != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; i++)
<a name="l00560"></a>00560     {
<a name="l00561"></a>00561       <span class="comment">/* Do not process arguements past the -- parameter! MCM 20001023 */</span>
<a name="l00562"></a>00562       <span class="keywordflow">if</span> ((argv[i][0] == <span class="charliteral">'-'</span>) &amp;&amp; (argv[i][1] == <span class="charliteral">'-'</span>))
<a name="l00563"></a>00563         {
<a name="l00564"></a>00564           *lastarg = i;
<a name="l00565"></a>00565           <span class="keywordflow">break</span>;
<a name="l00566"></a>00566         }
<a name="l00567"></a>00567 
<a name="l00568"></a>00568       <span class="comment">/* Skip arguments that don't start with -P */</span>
<a name="l00569"></a>00569       <span class="keywordflow">if</span> ((argv[i][0] != <span class="charliteral">'-'</span>) || (argv[i][1] != <span class="charliteral">'P'</span>))
<a name="l00570"></a>00570         <span class="keywordflow">continue</span>;
<a name="l00571"></a>00571 
<a name="l00572"></a>00572       name_ptr = &amp;argv[i][2];
<a name="l00573"></a>00573       value_ptr = name_ptr;
<a name="l00574"></a>00574 
<a name="l00575"></a>00575       <span class="comment">/* Scan to end of name */</span>
<a name="l00576"></a>00576       <span class="keywordflow">while</span> ((*value_ptr != 0) &amp;&amp; !isspace (*value_ptr) &amp;&amp;
<a name="l00577"></a>00577              (*value_ptr != <span class="charliteral">'='</span>))
<a name="l00578"></a>00578         value_ptr++;
<a name="l00579"></a>00579 
<a name="l00580"></a>00580       end_ptr = value_ptr;
<a name="l00581"></a>00581 
<a name="l00582"></a>00582       <span class="comment">/* The next character better be a equals sign */</span>
<a name="l00583"></a>00583       <span class="keywordflow">if</span> (*value_ptr != <span class="charliteral">'='</span>)
<a name="l00584"></a>00584         {
<a name="l00585"></a>00585           I_punt (<span class="stringliteral">"Command line parse error: '=' expected after parm "</span>
<a name="l00586"></a>00586                   <span class="stringliteral">"macro name in arg '%s'"</span>, argv[i]);
<a name="l00587"></a>00587         }
<a name="l00588"></a>00588 
<a name="l00589"></a>00589       <span class="comment">/* Consume '=' sign */</span>
<a name="l00590"></a>00590       value_ptr++;
<a name="l00591"></a>00591 
<a name="l00592"></a>00592       <span class="comment">/* Save char at end_ptr so can be restored later */</span>
<a name="l00593"></a>00593       temp_val = *end_ptr;
<a name="l00594"></a>00594 
<a name="l00595"></a>00595       <span class="comment">/* Terminate the name */</span>
<a name="l00596"></a>00596       *end_ptr = 0;
<a name="l00597"></a>00597 
<a name="l00598"></a>00598       <a class="code" href="l__parms_8c.html#161297346e7b7187fe6b8ba6cf0ad8c9">L_define_parm_macro</a> (external_list, name_ptr, value_ptr,
<a name="l00599"></a>00599                            <a class="code" href="l__parms_8h.html#1a640842e587ffa5eb449243bd22014e">PARM_COMMAND_LINE</a>);
<a name="l00600"></a>00600 
<a name="l00601"></a>00601       <span class="comment">/* Restore the end_ptr so argv can be used by someone else */</span>
<a name="l00602"></a>00602       *end_ptr = temp_val;
<a name="l00603"></a>00603     }
<a name="l00604"></a>00604   <span class="comment">/*</span>
<a name="l00605"></a>00605 <span class="comment">   * Read in all -Fmacro_name=value from command line parameters</span>
<a name="l00606"></a>00606 <span class="comment">   * These macro definitions force the value, and we</span>
<a name="l00607"></a>00607 <span class="comment">   * want them to be first in the macro list (must be first, search</span>
<a name="l00608"></a>00608 <span class="comment">   * algorithm stops at first non-forced definition).</span>
<a name="l00609"></a>00609 <span class="comment">   * . </span>
<a name="l00610"></a>00610 <span class="comment">   */</span>
<a name="l00611"></a>00611   <span class="keywordflow">for</span> (i = 1; argv[i] != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; i++)
<a name="l00612"></a>00612     {
<a name="l00613"></a>00613       <span class="comment">/* Do not process arguements past the -- parameter! MCM 20001023 */</span>
<a name="l00614"></a>00614       <span class="keywordflow">if</span> ((argv[i][0] == <span class="charliteral">'-'</span>) &amp;&amp; (argv[i][1] == <span class="charliteral">'-'</span>))
<a name="l00615"></a>00615         {
<a name="l00616"></a>00616           <span class="keywordflow">if</span> (i != *lastarg)
<a name="l00617"></a>00617             <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a>(<span class="stringliteral">"L_create_external_macro_list: error when locating parm "</span>
<a name="l00618"></a>00618                    <span class="stringliteral">"-- (%d != %d)"</span>, *lastarg, i);
<a name="l00619"></a>00619           <span class="keywordflow">break</span>;
<a name="l00620"></a>00620         }
<a name="l00621"></a>00621 
<a name="l00622"></a>00622       <span class="comment">/* Skip arguments that don't start with -F */</span>
<a name="l00623"></a>00623       <span class="keywordflow">if</span> ((argv[i][0] != <span class="charliteral">'-'</span>) || (argv[i][1] != <span class="charliteral">'F'</span>))
<a name="l00624"></a>00624         <span class="keywordflow">continue</span>;
<a name="l00625"></a>00625 
<a name="l00626"></a>00626       name_ptr = &amp;argv[i][2];
<a name="l00627"></a>00627       value_ptr = name_ptr;
<a name="l00628"></a>00628 
<a name="l00629"></a>00629       <span class="comment">/* Scan to end of name */</span>
<a name="l00630"></a>00630       <span class="keywordflow">while</span> ((*value_ptr != 0) &amp;&amp; !isspace (*value_ptr) &amp;&amp;
<a name="l00631"></a>00631              (*value_ptr != <span class="charliteral">'='</span>))
<a name="l00632"></a>00632         value_ptr++;
<a name="l00633"></a>00633 
<a name="l00634"></a>00634       end_ptr = value_ptr;
<a name="l00635"></a>00635 
<a name="l00636"></a>00636       <span class="comment">/* The next character better be a equals sign */</span>
<a name="l00637"></a>00637       <span class="keywordflow">if</span> (*value_ptr != <span class="charliteral">'='</span>)
<a name="l00638"></a>00638         {
<a name="l00639"></a>00639           I_punt
<a name="l00640"></a>00640             (<span class="stringliteral">"Command line parse error: '=' expected after "</span>
<a name="l00641"></a>00641              <span class="stringliteral">"parm name in arg '%s'"</span>,
<a name="l00642"></a>00642              argv[i]);
<a name="l00643"></a>00643         }
<a name="l00644"></a>00644 
<a name="l00645"></a>00645       <span class="comment">/* Consume '=' sign */</span>
<a name="l00646"></a>00646       value_ptr++;
<a name="l00647"></a>00647 
<a name="l00648"></a>00648       <span class="comment">/* Save char at end_ptr so can be restored later */</span>
<a name="l00649"></a>00649       temp_val = *end_ptr;
<a name="l00650"></a>00650 
<a name="l00651"></a>00651       <span class="comment">/* Terminate the name */</span>
<a name="l00652"></a>00652       *end_ptr = 0;
<a name="l00653"></a>00653 
<a name="l00654"></a>00654       <a class="code" href="l__parms_8c.html#161297346e7b7187fe6b8ba6cf0ad8c9">L_define_parm_macro</a> (external_list, name_ptr, value_ptr,
<a name="l00655"></a>00655                            <a class="code" href="l__parms_8h.html#67a42456590b7be2809d5118ed5acbf9">PARM_FORCE_PARM</a>);
<a name="l00656"></a>00656 
<a name="l00657"></a>00657       <span class="comment">/* Restore the end_ptr so argv can be used by someone else */</span>
<a name="l00658"></a>00658       *end_ptr = temp_val;
<a name="l00659"></a>00659     }
<a name="l00660"></a>00660 
<a name="l00661"></a>00661   <span class="comment">/* Return the list */</span>
<a name="l00662"></a>00662   <span class="keywordflow">return</span> (external_list);
<a name="l00663"></a>00663 }
<a name="l00664"></a>00664 
<a name="l00665"></a>00665 
<a name="l00666"></a>00666 <span class="keywordtype">void</span>
<a name="l00667"></a><a class="code" href="l__parms_8h.html#da9f209c373bf33ecc8affd7d376b2d3">00667</a> <a class="code" href="l__parms_8c.html#da9f209c373bf33ecc8affd7d376b2d3">L_warn_about_unused_macros</a> (FILE * out, <a class="code" href="structparm__macro__list.html">Parm_Macro_List</a> * external_list)
<a name="l00668"></a>00668 {
<a name="l00669"></a>00669   <a class="code" href="structparm__macro__node.html">Parm_Macro_Node</a> *<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l00670"></a>00670   <span class="keywordtype">char</span> flag;
<a name="l00671"></a>00671   <span class="keywordtype">int</span> printed = 0;
<a name="l00672"></a>00672 
<a name="l00673"></a>00673   <span class="comment">/* for lint */</span>
<a name="l00674"></a>00674   flag = 0;
<a name="l00675"></a>00675 
<a name="l00676"></a>00676   <span class="comment">/* Go through list until hit environment parms (look at</span>
<a name="l00677"></a>00677 <span class="comment">   * only command line parms) and print warnings if it</span>
<a name="l00678"></a>00678 <span class="comment">   * parameter was unused.</span>
<a name="l00679"></a>00679 <span class="comment">   */</span>
<a name="l00680"></a>00680   <span class="keywordflow">for</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = external_list-&gt;<a class="code" href="structparm__macro__list.html#6262d1366bf926ee7a1dfe28c0102dbf">head</a>;
<a name="l00681"></a>00681        (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;from &lt;= <a class="code" href="l__parms_8h.html#1a640842e587ffa5eb449243bd22014e">PARM_COMMAND_LINE</a>); <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next)
<a name="l00682"></a>00682     {
<a name="l00683"></a>00683       <span class="keywordflow">if</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;use_count == 0)
<a name="l00684"></a>00684         {
<a name="l00685"></a>00685           <span class="keywordflow">if</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;from == <a class="code" href="l__parms_8h.html#67a42456590b7be2809d5118ed5acbf9">PARM_FORCE_PARM</a>)
<a name="l00686"></a>00686             flag = <span class="charliteral">'F'</span>;
<a name="l00687"></a>00687           <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;from == <a class="code" href="l__parms_8h.html#1a640842e587ffa5eb449243bd22014e">PARM_COMMAND_LINE</a>)
<a name="l00688"></a>00688             flag = <span class="charliteral">'P'</span>;
<a name="l00689"></a>00689           <span class="keywordflow">else</span>
<a name="l00690"></a>00690             <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"L_warn_about_unused_macros: algorithm error"</span>);
<a name="l00691"></a>00691 
<a name="l00692"></a>00692           <span class="keywordflow">if</span> (printed == 0)
<a name="l00693"></a>00693             {
<a name="l00694"></a>00694               fprintf (out,<span class="stringliteral">"THE FOLLOWING PARAMETERS FROM THE COMMAND "</span>
<a name="l00695"></a>00695                        <span class="stringliteral">"LINE ARE NOT USED:\n"</span>);
<a name="l00696"></a>00696               printed = 1;
<a name="l00697"></a>00697             }
<a name="l00698"></a>00698 
<a name="l00699"></a>00699           fprintf (out, <span class="stringliteral">"      -%c%s=%s ignored.\n"</span>,
<a name="l00700"></a>00700                    flag, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value);
<a name="l00701"></a>00701         }
<a name="l00702"></a>00702     }
<a name="l00703"></a>00703 
<a name="l00704"></a>00704   <span class="keywordflow">if</span> (printed == 1)
<a name="l00705"></a>00705     fprintf (out, <span class="stringliteral">"\n"</span>);
<a name="l00706"></a>00706 
<a name="l00707"></a>00707 }
<a name="l00708"></a>00708 
<a name="l00709"></a>00709 <span class="keywordtype">void</span>
<a name="l00710"></a><a class="code" href="l__parms_8h.html#f725b05a5b630bdea7d8b719c8f50f61">00710</a> <a class="code" href="l__parms_8c.html#f725b05a5b630bdea7d8b719c8f50f61">L_show_parms_warnings</a> (<span class="keywordtype">void</span>)
<a name="l00711"></a>00711 {
<a name="l00712"></a>00712   <span class="keywordtype">int</span> printed;
<a name="l00713"></a>00713   <a class="code" href="structparm__warn__node.html">Parm_Warn_Node</a> *<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>, *next_node;
<a name="l00714"></a>00714   <a class="code" href="structparm__table__node.html">Parm_Table_Node</a> *inp_node;
<a name="l00715"></a>00715   FILE *dump, *out;
<a name="l00716"></a>00716 
<a name="l00717"></a>00717   <span class="comment">/* Open warning output, if stdout or stderr, route directly */</span>
<a name="l00718"></a>00718   <span class="keywordflow">if</span> (strcmp (<a class="code" href="l__parms_8c.html#a52c8258549d23615859be45e5f2a38c">L_parm_warn_file_name</a>, <span class="stringliteral">"stdout"</span>) == 0)
<a name="l00719"></a>00719     out = stdout;
<a name="l00720"></a>00720   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp (L_parm_warn_file_name, <span class="stringliteral">"stderr"</span>) == 0)
<a name="l00721"></a>00721     out = stderr;
<a name="l00722"></a>00722   <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((out = fopen (L_parm_warn_file_name, <span class="stringliteral">"a"</span>)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00723"></a>00723     <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"Cannot open dump output file '%s'."</span>, L_parm_warn_file_name);
<a name="l00724"></a>00724 
<a name="l00725"></a>00725   <span class="keywordflow">if</span> (<a class="code" href="l__parms_8c.html#d8b6ae8bcbc9ccc867100dfd96f6957c">L_dump_parms</a>)
<a name="l00726"></a>00726     {
<a name="l00727"></a>00727       <span class="comment">/* Open dump output, if stdout or stderr, route directly */</span>
<a name="l00728"></a>00728       <span class="keywordflow">if</span> (strcmp (<a class="code" href="l__parms_8c.html#3b83d33abb46fadfb813372c0b9a667f">L_parm_dump_file_name</a>, <span class="stringliteral">"stdout"</span>) == 0)
<a name="l00729"></a>00729         dump = stdout;
<a name="l00730"></a>00730       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp (L_parm_dump_file_name, <span class="stringliteral">"stderr"</span>) == 0)
<a name="l00731"></a>00731         dump = stderr;
<a name="l00732"></a>00732       <span class="keywordflow">else</span>
<a name="l00733"></a>00733         {
<a name="l00734"></a>00734           <span class="comment">/* Create/zero out file if first time dumping section,</span>
<a name="l00735"></a>00735 <span class="comment">           * otherwise append to end of file.</span>
<a name="l00736"></a>00736 <span class="comment">           */</span>
<a name="l00737"></a>00737           <span class="keywordflow">if</span> (<a class="code" href="l__parms_8c.html#2251ba55279aef307357d4b82d7cffb7">first_time</a>)
<a name="l00738"></a>00738             {
<a name="l00739"></a>00739               <span class="keywordflow">if</span> ((dump = fopen (L_parm_dump_file_name, <span class="stringliteral">"w"</span>)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00740"></a>00740                 <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"Cannot open dump output file '%s' for writing."</span>,
<a name="l00741"></a>00741                         L_parm_dump_file_name);
<a name="l00742"></a>00742             }
<a name="l00743"></a>00743           <span class="keywordflow">else</span>
<a name="l00744"></a>00744             {
<a name="l00745"></a>00745               <span class="keywordflow">if</span> ((dump = fopen (L_parm_dump_file_name, <span class="stringliteral">"a"</span>)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00746"></a>00746                 <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"Cannot open dump output file '%s' for appending."</span>,
<a name="l00747"></a>00747                         L_parm_dump_file_name);
<a name="l00748"></a>00748             }
<a name="l00749"></a>00749         }
<a name="l00750"></a>00750 
<a name="l00751"></a>00751       <span class="comment">/* Dump file */</span>
<a name="l00752"></a>00752       <span class="keywordflow">if</span> (<a class="code" href="l__parms_8c.html#2251ba55279aef307357d4b82d7cffb7">first_time</a>)
<a name="l00753"></a>00753         {
<a name="l00754"></a>00754           fprintf (dump, <span class="stringliteral">"\n# PARAMETER DUMP:\n"</span>);
<a name="l00755"></a>00755           <a class="code" href="l__parms_8c.html#2251ba55279aef307357d4b82d7cffb7">first_time</a> = 0;
<a name="l00756"></a>00756         }
<a name="l00757"></a>00757 
<a name="l00758"></a>00758       <span class="keywordflow">if</span> (<a class="code" href="l__parms_8c.html#f4165fc0be67b713ba10168fa0fb8698">current_section_name2</a> == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00759"></a>00759         {
<a name="l00760"></a>00760           fprintf (dump, <span class="stringliteral">"%s\n"</span>, <a class="code" href="l__parms_8c.html#64158f38584b29f5a0cfcecd40f8ac89">current_section_name1</a>);
<a name="l00761"></a>00761         }
<a name="l00762"></a>00762       <span class="keywordflow">else</span>
<a name="l00763"></a>00763         {
<a name="l00764"></a>00764           fprintf (dump, <span class="stringliteral">"%s # AKA %s\n"</span>, <a class="code" href="l__parms_8c.html#64158f38584b29f5a0cfcecd40f8ac89">current_section_name1</a>,
<a name="l00765"></a>00765                    <a class="code" href="l__parms_8c.html#f4165fc0be67b713ba10168fa0fb8698">current_section_name2</a>);
<a name="l00766"></a>00766         }
<a name="l00767"></a>00767 
<a name="l00768"></a>00768 
<a name="l00769"></a>00769       <span class="keywordflow">for</span> (inp_node = <a class="code" href="l__parms_8c.html#40b9004e8ee8e4c9b4cd1f20945241b4">start_node_of_input</a>; inp_node != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00770"></a>00770            inp_node = inp_node-&gt;<a class="code" href="structparm__table__node.html#1684352369ac2f52c016d1cd6a46bcf7">next_input</a>)
<a name="l00771"></a>00771         <span class="keywordflow">if</span> (inp_node-&gt;<a class="code" href="structparm__table__node.html#a50cc0e5949d5980a9e2e16789bc434b">used</a> == <a class="code" href="l__parms_8h.html#bcd0a22ee4346cad5706adb6d2119429">USED</a>)
<a name="l00772"></a>00772           fprintf (dump, <span class="stringliteral">"    %s = %s;\n"</span>, inp_node-&gt;<a class="code" href="structparm__table__node.html#47f9d69859af678502c818958274ee6c">user_name</a>,
<a name="l00773"></a>00773                    inp_node-&gt;<a class="code" href="structparm__table__node.html#7d8d917d112c838da4ce9bcfa5441f1b">value</a>);
<a name="l00774"></a>00774 
<a name="l00775"></a>00775       fprintf (dump, <span class="stringliteral">"end)\n"</span>);
<a name="l00776"></a>00776 
<a name="l00777"></a>00777       <span class="keywordflow">if</span> ((strcmp (L_parm_dump_file_name, <span class="stringliteral">"stdout"</span>) != 0) &amp;&amp;
<a name="l00778"></a>00778           (strcmp (L_parm_dump_file_name, <span class="stringliteral">"stderr"</span>) != 0))
<a name="l00779"></a>00779         <span class="comment">/* Close only if really a file */</span>
<a name="l00780"></a>00780         fclose (dump);
<a name="l00781"></a>00781       <span class="keywordflow">else</span>
<a name="l00782"></a>00782         fflush (dump);
<a name="l00783"></a>00783     }
<a name="l00784"></a>00784 
<a name="l00785"></a>00785 
<a name="l00786"></a>00786   printed = 0;
<a name="l00787"></a>00787   <span class="keywordflow">if</span> (<a class="code" href="l__parms_8c.html#6e2370b0d062442e4748c92dbfe6260b">L_warn_parm_not_used</a>)
<a name="l00788"></a>00788     {
<a name="l00789"></a>00789       <span class="keywordflow">for</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = <a class="code" href="l__parms_8c.html#95c32800b7e93bd491ac6054521d1519">warn_list</a>-&gt;<a class="code" href="structparm__warn__list.html#010b718d3b92e1e097412e3292756e07">head</a>; <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next)
<a name="l00790"></a>00790         <span class="keywordflow">if</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;flag == <a class="code" href="l__parms_8h.html#124b3df70211e9e1956574e7039ebbec">PARM_NOT_USED</a>)
<a name="l00791"></a>00791           {
<a name="l00792"></a>00792             <span class="keywordflow">if</span> (printed == 0)
<a name="l00793"></a>00793               {
<a name="l00794"></a>00794                 printed = 1;
<a name="l00795"></a>00795                 fprintf (out, <span class="stringliteral">"\nTHE FOLLOWING PARAMETERS WERE IGNORED:\n"</span>);
<a name="l00796"></a>00796               }
<a name="l00797"></a>00797             <span class="keywordflow">if</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name2 == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00798"></a>00798               {
<a name="l00799"></a>00799                 fprintf (out, <span class="stringliteral">"    '%s' in section '%s' ('%s' line %d).\n"</span>,
<a name="l00800"></a>00800                          <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name1,
<a name="l00801"></a>00801                          <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_file_name, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_line_no);
<a name="l00802"></a>00802               }
<a name="l00803"></a>00803             <span class="keywordflow">else</span>
<a name="l00804"></a>00804               {
<a name="l00805"></a>00805                 fprintf (out,
<a name="l00806"></a>00806                          <span class="stringliteral">"    '%s' in section '%s' aka '%s' ('%s' line %d).\n"</span>,
<a name="l00807"></a>00807                          <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name1, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name2,
<a name="l00808"></a>00808                          <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_file_name, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_line_no);
<a name="l00809"></a>00809               }
<a name="l00810"></a>00810           }
<a name="l00811"></a>00811       <span class="keywordflow">if</span> (printed == 1)
<a name="l00812"></a>00812         fprintf (out, <span class="stringliteral">"\n"</span>);
<a name="l00813"></a>00813     }
<a name="l00814"></a>00814 
<a name="l00815"></a>00815   printed = 0;
<a name="l00816"></a>00816   <span class="keywordflow">if</span> (<a class="code" href="l__parms_8c.html#3e945935cb7d3ea887b8309a40b01ea8">L_warn_parm_not_defined</a>)
<a name="l00817"></a>00817     {
<a name="l00818"></a>00818       <span class="keywordflow">for</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = <a class="code" href="l__parms_8c.html#95c32800b7e93bd491ac6054521d1519">warn_list</a>-&gt;<a class="code" href="structparm__warn__list.html#010b718d3b92e1e097412e3292756e07">head</a>; <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next)
<a name="l00819"></a>00819         <span class="keywordflow">if</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;flag == <a class="code" href="l__parms_8h.html#00276916caee27ce77b97bd174a6dc16">NO_PARM_DEF</a>)
<a name="l00820"></a>00820           {
<a name="l00821"></a>00821             <span class="keywordflow">if</span> (printed == 0)
<a name="l00822"></a>00822               {
<a name="l00823"></a>00823                 printed = 1;
<a name="l00824"></a>00824                 fprintf (out,
<a name="l00825"></a>00825                          <span class="stringliteral">"\nTHE FOLLOWING PARAMETERS WERE NOT SET IN THE "</span>
<a name="l00826"></a>00826                          <span class="stringliteral">"PARAMETER FILE:\n"</span>);
<a name="l00827"></a>00827               }
<a name="l00828"></a>00828             <span class="keywordflow">if</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name2 == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00829"></a>00829               {
<a name="l00830"></a>00830                 fprintf (out, <span class="stringliteral">"    '%s' in section '%s'.\n"</span>,
<a name="l00831"></a>00831                          <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name1);
<a name="l00832"></a>00832               }
<a name="l00833"></a>00833             <span class="keywordflow">else</span>
<a name="l00834"></a>00834               {
<a name="l00835"></a>00835                 fprintf (out, <span class="stringliteral">"    '%s' in section '%s' aka '%s'.\n"</span>,
<a name="l00836"></a>00836                          <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name1,
<a name="l00837"></a>00837                          <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name2);
<a name="l00838"></a>00838               }
<a name="l00839"></a>00839           }
<a name="l00840"></a>00840       <span class="keywordflow">if</span> (printed == 1)
<a name="l00841"></a>00841         fprintf (out, <span class="stringliteral">"\n"</span>);
<a name="l00842"></a>00842     }
<a name="l00843"></a>00843 
<a name="l00844"></a>00844   printed = 0;
<a name="l00845"></a>00845   <span class="keywordflow">if</span> (<a class="code" href="l__parms_8c.html#ecc63b1ae2816e4e5b67830cefcc725b">L_warn_parm_defined_twice</a>)
<a name="l00846"></a>00846     {
<a name="l00847"></a>00847       <span class="keywordflow">for</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = <a class="code" href="l__parms_8c.html#95c32800b7e93bd491ac6054521d1519">warn_list</a>-&gt;<a class="code" href="structparm__warn__list.html#010b718d3b92e1e097412e3292756e07">head</a>; <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next)
<a name="l00848"></a>00848         <span class="keywordflow">if</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;flag == <a class="code" href="l__parms_8h.html#ff975a5d378618007dae543fd5fcd62c">MULT_PARM_DEF</a>)
<a name="l00849"></a>00849           {
<a name="l00850"></a>00850             <span class="keywordflow">if</span> (printed == 0)
<a name="l00851"></a>00851               {
<a name="l00852"></a>00852                 printed = 1;
<a name="l00853"></a>00853                 fprintf (out,<span class="stringliteral">"\nTHE FOLLOWING PARAMETERS WERE SET TWICE "</span>
<a name="l00854"></a>00854                          <span class="stringliteral">"IN THE SAME PARAMETER FILE:\n"</span>);
<a name="l00855"></a>00855               }
<a name="l00856"></a>00856             <span class="comment">/* node-&gt;section_name1 is the name of the section that</span>
<a name="l00857"></a>00857 <span class="comment">             * had the problem (even if there are two names).</span>
<a name="l00858"></a>00858 <span class="comment">             */</span>
<a name="l00859"></a>00859             fprintf (out, <span class="stringliteral">"    '%s' in file '%s' and section '%s'.\n"</span>,
<a name="l00860"></a>00860                      <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;old_parm_file_name,
<a name="l00861"></a>00861                      <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name1);
<a name="l00862"></a>00862 
<a name="l00863"></a>00863             fprintf (out, <span class="stringliteral">"        line %d: set to '%s'\n"</span>,
<a name="l00864"></a>00864                      <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;old_parm_line_no, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;old_value);
<a name="l00865"></a>00865             fprintf (out, <span class="stringliteral">"        line %d: set to '%s'\n"</span>,
<a name="l00866"></a>00866                      <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_line_no, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value);
<a name="l00867"></a>00867           }
<a name="l00868"></a>00868       <span class="keywordflow">if</span> (printed == 1)
<a name="l00869"></a>00869         fprintf (out, <span class="stringliteral">"\n"</span>);
<a name="l00870"></a>00870     }
<a name="l00871"></a>00871 
<a name="l00872"></a>00872   <span class="keywordflow">if</span> ((strcmp (L_parm_warn_file_name, <span class="stringliteral">"stdout"</span>) != 0) &amp;&amp;
<a name="l00873"></a>00873       (strcmp (L_parm_warn_file_name, <span class="stringliteral">"stderr"</span>) != 0))
<a name="l00874"></a>00874     <span class="comment">/* Close only if really a file */</span>
<a name="l00875"></a>00875     fclose (out);
<a name="l00876"></a>00876   <span class="keywordflow">else</span>
<a name="l00877"></a>00877     fflush (out);
<a name="l00878"></a>00878 
<a name="l00879"></a>00879   <span class="comment">/* free up memory used for the warning list */</span>
<a name="l00880"></a>00880   <span class="keywordflow">for</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = <a class="code" href="l__parms_8c.html#95c32800b7e93bd491ac6054521d1519">warn_list</a>-&gt;<a class="code" href="structparm__warn__list.html#010b718d3b92e1e097412e3292756e07">head</a>; <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = next_node)
<a name="l00881"></a>00881     {
<a name="l00882"></a>00882       next_node = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next;
<a name="l00883"></a>00883       free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name);
<a name="l00884"></a>00884       free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name1);
<a name="l00885"></a>00885       <span class="keywordflow">if</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name2 != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00886"></a>00886         free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name2);
<a name="l00887"></a>00887       <span class="comment">/* JCG added test for NULL, to prevent freeing unused fields */</span>
<a name="l00888"></a>00888       <span class="keywordflow">if</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00889"></a>00889         free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value);
<a name="l00890"></a>00890       <span class="keywordflow">if</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;old_value != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00891"></a>00891         free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;old_value);
<a name="l00892"></a>00892       <span class="keywordflow">if</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_file_name != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00893"></a>00893         free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_file_name);
<a name="l00894"></a>00894       <span class="keywordflow">if</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;old_parm_file_name != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00895"></a>00895         free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;old_parm_file_name);
<a name="l00896"></a>00896       free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>);
<a name="l00897"></a>00897     }
<a name="l00898"></a>00898   free (<a class="code" href="l__parms_8c.html#95c32800b7e93bd491ac6054521d1519">warn_list</a>);
<a name="l00899"></a>00899 }
<a name="l00900"></a>00900 
<a name="l00901"></a>00901 <span class="comment">/* Initializes a parm macro list */</span>
<a name="l00902"></a>00902 <a class="code" href="structparm__macro__list.html">Parm_Macro_List</a> *
<a name="l00903"></a><a class="code" href="l__parms_8c.html#c192c48345f8281ee12dbeabb46b8185">00903</a> <a class="code" href="l__parms_8c.html#c192c48345f8281ee12dbeabb46b8185">L_create_parm_macro_list</a> (<span class="keywordtype">void</span>)
<a name="l00904"></a>00904 {
<a name="l00905"></a>00905   <a class="code" href="structparm__macro__list.html">Parm_Macro_List</a> *<a class="code" href="structlist.html">list</a>;
<a name="l00906"></a>00906 
<a name="l00907"></a>00907   <span class="keywordflow">if</span> ((list = (<a class="code" href="structparm__macro__list.html">Parm_Macro_List</a> *) malloc (<span class="keyword">sizeof</span> (<a class="code" href="structparm__macro__list.html">Parm_Macro_List</a>))) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00908"></a>00908     <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"Parm_Macro_List: out of memory\n"</span>);
<a name="l00909"></a>00909 
<a name="l00910"></a>00910   list-&gt;<a class="code" href="structparm__macro__list.html#6262d1366bf926ee7a1dfe28c0102dbf">head</a> = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00911"></a>00911   <span class="keywordflow">return</span> (list);
<a name="l00912"></a>00912 }
<a name="l00913"></a>00913 
<a name="l00914"></a>00914 <span class="comment">/* Frees all the definitions in a macro list */</span>
<a name="l00915"></a>00915 <span class="keywordtype">void</span>
<a name="l00916"></a><a class="code" href="l__parms_8h.html#d4b06aa55eb13d77d7d2884ae752aef8">00916</a> <a class="code" href="l__parms_8c.html#d4b06aa55eb13d77d7d2884ae752aef8">L_free_parm_macro_list</a> (<a class="code" href="structparm__macro__list.html">Parm_Macro_List</a> * <a class="code" href="structlist.html">list</a>)
<a name="l00917"></a>00917 {
<a name="l00918"></a>00918   <a class="code" href="structparm__macro__node.html">Parm_Macro_Node</a> *<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>, *next_node;
<a name="l00919"></a>00919 
<a name="l00920"></a>00920   <span class="keywordflow">for</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = list-&gt;<a class="code" href="structparm__macro__list.html#6262d1366bf926ee7a1dfe28c0102dbf">head</a>; <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = next_node)
<a name="l00921"></a>00921     {
<a name="l00922"></a>00922       next_node = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next;
<a name="l00923"></a>00923       free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name);
<a name="l00924"></a>00924       free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value);
<a name="l00925"></a>00925       free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>);
<a name="l00926"></a>00926     }
<a name="l00927"></a>00927   free (list);
<a name="l00928"></a>00928 }
<a name="l00929"></a>00929 
<a name="l00930"></a>00930 <span class="keywordtype">int</span>
<a name="l00931"></a><a class="code" href="l__parms_8c.html#4e81593e5d5157a86ef115b9b6049e64">00931</a> <a class="code" href="l__parms_8c.html#4e81593e5d5157a86ef115b9b6049e64">look_for_forced_param</a> (<span class="keywordtype">char</span> *<a class="code" href="c__basic_8c.html#5ac083a645d964373f022d03df4849c8">name</a>, <a class="code" href="structparm__macro__list.html">Parm_Macro_List</a> * <a class="code" href="structlist.html">list</a>)
<a name="l00932"></a>00932 {
<a name="l00933"></a>00933   <a class="code" href="structparm__macro__node.html">Parm_Macro_Node</a> *<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l00934"></a>00934   <a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> ppi;
<a name="l00935"></a>00935   <span class="keywordtype">int</span> name_size, value_size;
<a name="l00936"></a>00936 
<a name="l00937"></a>00937   <span class="comment">/*</span>
<a name="l00938"></a>00938 <span class="comment">     * Search command line list for definitions that will force the</span>
<a name="l00939"></a>00939 <span class="comment">     * parameter's value.  The list is constructed so forced parms</span>
<a name="l00940"></a>00940 <span class="comment">     * are first, so stop when hit first non-forced parm.</span>
<a name="l00941"></a>00941 <span class="comment">   */</span>
<a name="l00942"></a>00942   <span class="keywordflow">if</span> (list != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00943"></a>00943     {
<a name="l00944"></a>00944       <span class="keywordflow">for</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = list-&gt;<a class="code" href="structparm__macro__list.html#6262d1366bf926ee7a1dfe28c0102dbf">head</a>;
<a name="l00945"></a>00945            (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;from == <a class="code" href="l__parms_8h.html#67a42456590b7be2809d5118ed5acbf9">PARM_FORCE_PARM</a>);
<a name="l00946"></a>00946            <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next)
<a name="l00947"></a>00947         {
<a name="l00948"></a>00948           <span class="comment">/*</span>
<a name="l00949"></a>00949 <span class="comment">           * See if name matches one found from command line</span>
<a name="l00950"></a>00950 <span class="comment">           */</span>
<a name="l00951"></a>00951           <span class="keywordflow">if</span> (!strcmp (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name, name))
<a name="l00952"></a>00952             {
<a name="l00953"></a>00953               <span class="comment">/* Update use_count */</span>
<a name="l00954"></a>00954               <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;use_count++;
<a name="l00955"></a>00955 
<a name="l00956"></a>00956               name_size = strlen (name) + 1;
<a name="l00957"></a>00957               value_size = strlen (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value) + 1;
<a name="l00958"></a>00958 
<a name="l00959"></a>00959               <span class="keywordflow">if</span> ((ppi.<a class="code" href="structparm__parse__info__st.html#fbf0cb338be728d03c81c82014182c55">name</a> = (<span class="keywordtype">char</span> *) malloc (10)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00960"></a>00960                 <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"look_for_forced_param: out of memory"</span>);
<a name="l00961"></a>00961 
<a name="l00962"></a>00962               strcpy (ppi.<a class="code" href="structparm__parse__info__st.html#5aa2d50e0585127a892d55485f4625c3">parm_buf</a>, name);
<a name="l00963"></a>00963               strcpy (ppi.<a class="code" href="structparm__parse__info__st.html#255049943de34c7e2cd0d3e5d6a789cc">setting</a>, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value);
<a name="l00964"></a>00964               strcpy (ppi.<a class="code" href="structparm__parse__info__st.html#fbf0cb338be728d03c81c82014182c55">name</a>, <span class="stringliteral">"FORCED"</span>);
<a name="l00965"></a>00965               ppi.<a class="code" href="structparm__parse__info__st.html#273f11c637779d64b112ec663692d5f4">line_no</a> = 0;
<a name="l00966"></a>00966 
<a name="l00967"></a>00967               <a class="code" href="l__parms_8c.html#68767fcc02492c969cdc624ed22854fe">L_add_to_parm_table_list</a> (<a class="code" href="l__parms_8c.html#bea3a267ff4c64fa5666dc5d59c6384a">parameter_list</a>, &amp;ppi,
<a name="l00968"></a>00968                                         <a class="code" href="l__parms_8c.html#64158f38584b29f5a0cfcecd40f8ac89">current_section_name1</a>,
<a name="l00969"></a>00969                                         <a class="code" href="l__parms_8c.html#f4165fc0be67b713ba10168fa0fb8698">current_section_name2</a>);
<a name="l00970"></a>00970               <span class="keywordflow">return</span> (1);
<a name="l00971"></a>00971             }
<a name="l00972"></a>00972         }
<a name="l00973"></a>00973     }
<a name="l00974"></a>00974 
<a name="l00975"></a>00975   <span class="keywordflow">return</span> (0); <span class="comment">/* if this point reached, parameter is not forced */</span>
<a name="l00976"></a>00976 }
<a name="l00977"></a>00977 
<a name="l00978"></a>00978 
<a name="l00979"></a>00979 <span class="keywordtype">char</span> *
<a name="l00980"></a><a class="code" href="l__parms_8c.html#0cff626f34e757eb416f847b3dff5c9f">00980</a> <a class="code" href="l__parms_8c.html#0cff626f34e757eb416f847b3dff5c9f">L_add_forced_parms</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi, <a class="code" href="structparm__table__list.html">Parm_Table_List</a> * <a class="code" href="structlist.html">list</a>)
<a name="l00981"></a>00981 {
<a name="l00982"></a>00982   <a class="code" href="structparm__macro__node.html">Parm_Macro_Node</a> *<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l00983"></a>00983   <a class="code" href="structparm__table__node.html">Parm_Table_Node</a> *parm_node;
<a name="l00984"></a>00984   <span class="keywordtype">int</span> value_size;
<a name="l00985"></a>00985 
<a name="l00986"></a>00986   <span class="comment">/*</span>
<a name="l00987"></a>00987 <span class="comment">   * Search command line list for definitions that will force the</span>
<a name="l00988"></a>00988 <span class="comment">   * parameter's value.  The list is constructed so forced parms</span>
<a name="l00989"></a>00989 <span class="comment">   * are first, so stop when hit first non-forced parm.</span>
<a name="l00990"></a>00990 <span class="comment">   */</span>
<a name="l00991"></a>00991   <span class="keywordflow">if</span> (ppi-&gt;<a class="code" href="structparm__parse__info__st.html#9bed9131e54df85ba3dacc6e598386cb">command_line_list</a> != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00992"></a>00992     {
<a name="l00993"></a>00993       <span class="keywordflow">for</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = ppi-&gt;<a class="code" href="structparm__parse__info__st.html#9bed9131e54df85ba3dacc6e598386cb">command_line_list</a>-&gt;<a class="code" href="structparm__macro__list.html#6262d1366bf926ee7a1dfe28c0102dbf">head</a>;
<a name="l00994"></a>00994            (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;from == <a class="code" href="l__parms_8h.html#67a42456590b7be2809d5118ed5acbf9">PARM_FORCE_PARM</a>);
<a name="l00995"></a>00995            <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next)
<a name="l00996"></a>00996         {
<a name="l00997"></a>00997           <span class="comment">/*</span>
<a name="l00998"></a>00998 <span class="comment">           * See if forced value is found in hash table</span>
<a name="l00999"></a>00999 <span class="comment">           */</span>
<a name="l01000"></a>01000           <span class="keywordflow">if</span> ((parm_node = <a class="code" href="l__parms_8c.html#aaa6fc5fe57512c37755e5316453c0fa">L_get_parm_table_entry</a> (list, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name)) != 0)
<a name="l01001"></a>01001             {
<a name="l01002"></a>01002               <span class="comment">/* Update use_count */</span>
<a name="l01003"></a>01003               <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;use_count++;
<a name="l01004"></a>01004 
<a name="l01005"></a>01005               <span class="comment">/* Change value in the hash list */</span>
<a name="l01006"></a>01006               value_size = strlen (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value) + 1;
<a name="l01007"></a>01007               free (parm_node-&gt;<a class="code" href="structparm__table__node.html#7d8d917d112c838da4ce9bcfa5441f1b">value</a>);
<a name="l01008"></a>01008               <span class="keywordflow">if</span> ((parm_node-&gt;<a class="code" href="structparm__table__node.html#7d8d917d112c838da4ce9bcfa5441f1b">value</a> = (<span class="keywordtype">char</span> *) malloc (value_size)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01009"></a>01009                 <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"L_add_forced_parms: Out of memory"</span>);
<a name="l01010"></a>01010               strcpy (parm_node-&gt;<a class="code" href="structparm__table__node.html#7d8d917d112c838da4ce9bcfa5441f1b">value</a>, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value);
<a name="l01011"></a>01011             }
<a name="l01012"></a>01012         }
<a name="l01013"></a>01013     }
<a name="l01014"></a>01014 
<a name="l01015"></a>01015   <span class="comment">/* If not found, return NULL */</span>
<a name="l01016"></a>01016   <span class="keywordflow">return</span> (<a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l01017"></a>01017 }
<a name="l01018"></a>01018 
<a name="l01019"></a>01019 <span class="keywordtype">char</span> *
<a name="l01020"></a><a class="code" href="l__parms_8c.html#75a69937f386bd87ddd760e0437f601e">01020</a> <a class="code" href="l__parms_8c.html#75a69937f386bd87ddd760e0437f601e">L_get_parm_macro_value</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi, <span class="keywordtype">char</span> *<a class="code" href="c__basic_8c.html#5ac083a645d964373f022d03df4849c8">name</a>)
<a name="l01021"></a>01021 {
<a name="l01022"></a>01022   <a class="code" href="structparm__macro__node.html">Parm_Macro_Node</a> *<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l01023"></a>01023   <span class="keywordtype">int</span> i;
<a name="l01024"></a>01024 
<a name="l01025"></a>01025   <span class="comment">/*</span>
<a name="l01026"></a>01026 <span class="comment">   * Macro definitions from the command line have higher precedence</span>
<a name="l01027"></a>01027 <span class="comment">   * than internal definitions.  Search this list first.</span>
<a name="l01028"></a>01028 <span class="comment">   */</span>
<a name="l01029"></a>01029   <span class="keywordflow">if</span> (ppi-&gt;<a class="code" href="structparm__parse__info__st.html#9bed9131e54df85ba3dacc6e598386cb">command_line_list</a> != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01030"></a>01030     {
<a name="l01031"></a>01031       <span class="keywordflow">for</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = ppi-&gt;<a class="code" href="structparm__parse__info__st.html#9bed9131e54df85ba3dacc6e598386cb">command_line_list</a>-&gt;<a class="code" href="structparm__macro__list.html#6262d1366bf926ee7a1dfe28c0102dbf">head</a>; <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01032"></a>01032            <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next)
<a name="l01033"></a>01033         {
<a name="l01034"></a>01034           <span class="comment">/* Case-sensitive string compare */</span>
<a name="l01035"></a>01035           <span class="keywordflow">if</span> (strcmp (name, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name) == 0)
<a name="l01036"></a>01036             {
<a name="l01037"></a>01037               <span class="comment">/* Update use count */</span>
<a name="l01038"></a>01038               <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;use_count++;
<a name="l01039"></a>01039 
<a name="l01040"></a>01040               <span class="comment">/* Return value */</span>
<a name="l01041"></a>01041               <span class="keywordflow">return</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value);
<a name="l01042"></a>01042             }
<a name="l01043"></a>01043         }
<a name="l01044"></a>01044     }
<a name="l01045"></a>01045 
<a name="l01046"></a>01046   <span class="comment">/* If not defined on the command line, search internal definitions */</span>
<a name="l01047"></a>01047   <span class="keywordflow">for</span> (i = 0; i &lt;= ppi-&gt;<a class="code" href="structparm__parse__info__st.html#22828bed68ce338415b8382c07077278">internal_level</a>; i++)
<a name="l01048"></a>01048     {
<a name="l01049"></a>01049       <span class="keywordflow">for</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = ppi-&gt;<a class="code" href="structparm__parse__info__st.html#96eede8ab3525eab8199d38dd5d3c7cb">internal_list</a>[i]-&gt;<a class="code" href="structparm__macro__list.html#6262d1366bf926ee7a1dfe28c0102dbf">head</a>; <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01050"></a>01050            <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next)
<a name="l01051"></a>01051         {
<a name="l01052"></a>01052           <span class="comment">/* Don't care about use count for internal macros */</span>
<a name="l01053"></a>01053           if (strcmp (name, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name) == 0)
<a name="l01054"></a>01054             return (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value);
<a name="l01055"></a>01055         }
<a name="l01056"></a>01056     }
<a name="l01057"></a>01057 
<a name="l01058"></a>01058   <span class="comment">/* If not found, return NULL */</span>
<a name="l01059"></a>01059   <span class="keywordflow">return</span> (<a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l01060"></a>01060 }
<a name="l01061"></a>01061 
<a name="l01062"></a>01062 <span class="comment">/*</span>
<a name="l01063"></a>01063 <span class="comment"> * Adds a macro definition to the macro list.</span>
<a name="l01064"></a>01064 <span class="comment"> */</span>
<a name="l01065"></a>01065 <span class="keywordtype">void</span>
<a name="l01066"></a><a class="code" href="l__parms_8c.html#161297346e7b7187fe6b8ba6cf0ad8c9">01066</a> <a class="code" href="l__parms_8c.html#161297346e7b7187fe6b8ba6cf0ad8c9">L_define_parm_macro</a> (<a class="code" href="structparm__macro__list.html">Parm_Macro_List</a> * <a class="code" href="structlist.html">list</a>, <span class="keywordtype">char</span> *<a class="code" href="c__basic_8c.html#5ac083a645d964373f022d03df4849c8">name</a>, <span class="keywordtype">char</span> *value,
<a name="l01067"></a>01067                      <span class="keywordtype">int</span> from)
<a name="l01068"></a>01068 {
<a name="l01069"></a>01069   <a class="code" href="structparm__macro__node.html">Parm_Macro_Node</a> *<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>, *next_node, *prev_node;
<a name="l01070"></a>01070   <span class="keywordtype">int</span> node_size, name_size, value_size;
<a name="l01071"></a>01071   <span class="keywordtype">char</span> name_buf[100], *ptr, *value_ptr;
<a name="l01072"></a>01072 
<a name="l01073"></a>01073   <span class="keywordflow">if</span> (list == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01074"></a>01074     <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"L_define_parm_macro: null list"</span>);
<a name="l01075"></a>01075 
<a name="l01076"></a>01076   <span class="comment">/* Strip off $'s if they exists */</span>
<a name="l01077"></a>01077   ptr = name_buf;
<a name="l01078"></a>01078   <span class="keywordflow">while</span> (*name != <span class="charliteral">'\0'</span>)
<a name="l01079"></a>01079     {
<a name="l01080"></a>01080       <span class="keywordflow">if</span> (*name != <span class="charliteral">'$'</span>)
<a name="l01081"></a>01081         {
<a name="l01082"></a>01082           *ptr = *name;
<a name="l01083"></a>01083           ptr++;
<a name="l01084"></a>01084         }
<a name="l01085"></a>01085       name++;
<a name="l01086"></a>01086     }
<a name="l01087"></a>01087   *ptr = 0;
<a name="l01088"></a>01088 
<a name="l01089"></a>01089   <span class="comment">/* Point name at stripped name */</span>
<a name="l01090"></a>01090   name = name_buf;
<a name="l01091"></a>01091 
<a name="l01092"></a>01092   node_size = <span class="keyword">sizeof</span> (<a class="code" href="structparm__macro__node.html">Parm_Macro_Node</a>);
<a name="l01093"></a>01093   name_size = strlen (name) + 1;
<a name="l01094"></a>01094   value_size = strlen (value) + 1;
<a name="l01095"></a>01095 
<a name="l01096"></a>01096   <span class="comment">/* Get memory for value */</span>
<a name="l01097"></a>01097   <span class="keywordflow">if</span> ((value_ptr = (<span class="keywordtype">char</span> *) malloc (value_size)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01098"></a>01098     <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"L_define_parm_macro: out of memory"</span>);
<a name="l01099"></a>01099 
<a name="l01100"></a>01100   <span class="comment">/* Copy over value */</span>
<a name="l01101"></a>01101   strcpy (value_ptr, value);
<a name="l01102"></a>01102 
<a name="l01103"></a>01103 <span class="preprocessor">#if 0</span>
<a name="l01104"></a>01104 <span class="preprocessor"></span>  <span class="comment">/* Why in the world did I do the below? JCG 12-17-93 */</span>
<a name="l01105"></a>01105   <span class="comment">/* Remove a trailing ) if it exists */</span>
<a name="l01106"></a>01106   <span class="keywordflow">for</span> (i = strlen (value_ptr) - 1; i &gt;= 0; i--)
<a name="l01107"></a>01107     {
<a name="l01108"></a>01108       <span class="keywordflow">if</span> (value_ptr[i] == <span class="charliteral">')'</span>)
<a name="l01109"></a>01109         {
<a name="l01110"></a>01110           value_ptr[i] = 0;
<a name="l01111"></a>01111           <span class="keywordflow">break</span>;
<a name="l01112"></a>01112         }
<a name="l01113"></a>01113     }
<a name="l01114"></a>01114 
<a name="l01115"></a>01115 <span class="preprocessor">#endif</span>
<a name="l01116"></a>01116 <span class="preprocessor"></span>
<a name="l01117"></a>01117   <span class="comment">/* Set prev_node to NULL initially */</span>
<a name="l01118"></a>01118   prev_node = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01119"></a>01119 
<a name="l01120"></a>01120   <span class="comment">/* If already in list, remove it before adding new node */</span>
<a name="l01121"></a>01121   <span class="keywordflow">for</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = list-&gt;<a class="code" href="structparm__macro__list.html#6262d1366bf926ee7a1dfe28c0102dbf">head</a>; <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = next_node)
<a name="l01122"></a>01122     {
<a name="l01123"></a>01123       next_node = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next;
<a name="l01124"></a>01124       if (strcmp (name, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name) == 0)
<a name="l01125"></a>01125         {
<a name="l01126"></a>01126           <span class="comment">/* It is unusual to have a macro defined twice from the</span>
<a name="l01127"></a>01127 <span class="comment">           * the same place, print warning</span>
<a name="l01128"></a>01128 <span class="comment">           */</span>
<a name="l01129"></a>01129           if (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;from == from)
<a name="l01130"></a>01130             {
<a name="l01131"></a>01131               fprintf (stderr,
<a name="l01132"></a>01132                        <span class="stringliteral">"Warning: Parameter macro '%s' redefined to '%s'.\n"</span>,
<a name="l01133"></a>01133                        name, value);
<a name="l01134"></a>01134             }
<a name="l01135"></a>01135 
<a name="l01136"></a>01136           <span class="comment">/* Remove from linked list */</span>
<a name="l01137"></a>01137           <span class="keywordflow">if</span> (prev_node == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01138"></a>01138             <a class="code" href="structlist.html">list</a>-&gt;head = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next;
<a name="l01139"></a>01139           <span class="keywordflow">else</span>
<a name="l01140"></a>01140             prev_node-&gt;next = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next;
<a name="l01141"></a>01141 
<a name="l01142"></a>01142           <span class="comment">/* Free memory */</span>
<a name="l01143"></a>01143           free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name);
<a name="l01144"></a>01144           free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value);
<a name="l01145"></a>01145           free (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>);
<a name="l01146"></a>01146 
<a name="l01147"></a>01147           <span class="comment">/* Found and removed previous defintion, stop looking */</span>
<a name="l01148"></a>01148           <span class="keywordflow">break</span>;
<a name="l01149"></a>01149         }
<a name="l01150"></a>01150 
<a name="l01151"></a>01151       <span class="comment">/* Set prev_node for next pass */</span>
<a name="l01152"></a>01152       prev_node = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l01153"></a>01153     }
<a name="l01154"></a>01154 
<a name="l01155"></a>01155   <span class="comment">/*  add to front of macro list */</span>
<a name="l01156"></a>01156   <span class="keywordflow">if</span> (((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = (<a class="code" href="structparm__macro__node.html">Parm_Macro_Node</a> *) malloc (node_size)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ||
<a name="l01157"></a>01157       ((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name = (<span class="keywordtype">char</span> *) malloc (name_size)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))
<a name="l01158"></a>01158     I_punt (<span class="stringliteral">"L_define_parm_macro: out of memory"</span>);
<a name="l01159"></a>01159   strcpy (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name, <a class="code" href="c__basic_8c.html#5ac083a645d964373f022d03df4849c8">name</a>);
<a name="l01160"></a>01160   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value = value_ptr;
<a name="l01161"></a>01161   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;from = from;
<a name="l01162"></a>01162   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;use_count = 0;
<a name="l01163"></a>01163   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next = <a class="code" href="structlist.html">list</a>-&gt;head;
<a name="l01164"></a>01164   <a class="code" href="structlist.html">list</a>-&gt;head = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l01165"></a>01165 }
<a name="l01166"></a>01166 
<a name="l01167"></a>01167 <span class="keywordtype">void</span>
<a name="l01168"></a><a class="code" href="l__parms_8c.html#a8daa04b51e71adb5f4707982295e612">01168</a> <a class="code" href="l__parms_8c.html#a8daa04b51e71adb5f4707982295e612">L_expand_parm_macros</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi, <span class="keywordtype">char</span> *line, <span class="keywordtype">char</span> *buf, <span class="keywordtype">int</span> max)
<a name="l01169"></a>01169 {
<a name="l01170"></a>01170   <span class="keywordtype">int</span> i, j, value_size;
<a name="l01171"></a>01171   <span class="keywordtype">char</span> name_buf[100], *value;
<a name="l01172"></a>01172 
<a name="l01173"></a>01173 <span class="preprocessor">#if 0</span>
<a name="l01174"></a>01174 <span class="preprocessor"></span>  <span class="comment">/* Test if parameter value has forced value */</span>
<a name="l01175"></a>01175   <span class="keywordflow">if</span> ((forced_value = L_find_forced_value (ppi, ppi-&gt;<a class="code" href="structparm__parse__info__st.html#5aa2d50e0585127a892d55485f4625c3">parm_buf</a>)) != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01176"></a>01176     {
<a name="l01177"></a>01177       <span class="comment">/* Make sure forced value not too long */</span>
<a name="l01178"></a>01178       <span class="keywordflow">if</span> (strlen (forced_value) &gt;= (max - 1))
<a name="l01179"></a>01179         <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"%s line %i: expanded line too long (max len %i)"</span>,
<a name="l01180"></a>01180                 ppi-&gt;name, ppi-&gt;line_no, max);
<a name="l01181"></a>01181 
<a name="l01182"></a>01182       <span class="comment">/* Just copy forced value, and return */</span>
<a name="l01183"></a>01183       strcpy (buf, forced_value);
<a name="l01184"></a>01184       <span class="keywordflow">return</span>;
<a name="l01185"></a>01185     }
<a name="l01186"></a>01186 <span class="preprocessor">#endif</span>
<a name="l01187"></a>01187 <span class="preprocessor"></span>
<a name="l01188"></a>01188   <span class="comment">/* Decrement max, so have room for terminator */</span>
<a name="l01189"></a>01189   max--;
<a name="l01190"></a>01190   i = 0;
<a name="l01191"></a>01191   <span class="keywordflow">while</span> (*line != 0)
<a name="l01192"></a>01192     {
<a name="l01193"></a>01193       <span class="comment">/* Make sure we dont exceed buffer size */</span>
<a name="l01194"></a>01194       <span class="keywordflow">if</span> (i &gt;= max)
<a name="l01195"></a>01195         <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"%s line %i: expanded line too long (max len %i)"</span>,
<a name="l01196"></a>01196                 ppi-&gt;name, ppi-&gt;line_no, max + 1);
<a name="l01197"></a>01197 
<a name="l01198"></a>01198       <span class="comment">/*</span>
<a name="l01199"></a>01199 <span class="comment">       * If it is a '\', copy the next character to the line buffer</span>
<a name="l01200"></a>01200 <span class="comment">       * without any special meaning (ie \$ yields a non-macro $)</span>
<a name="l01201"></a>01201 <span class="comment">       */</span>
<a name="l01202"></a>01202       <span class="keywordflow">if</span> (*line == <span class="charliteral">'\\'</span>)
<a name="l01203"></a>01203         {
<a name="l01204"></a>01204           <span class="comment">/* Have problem if next character is terminator */</span>
<a name="l01205"></a>01205           <span class="keywordflow">if</span> (line[1] == 0)
<a name="l01206"></a>01206             <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"%s line %i: cannot end line with a '\\'.\n"</span>,
<a name="l01207"></a>01207                     ppi-&gt;name, ppi-&gt;line_no);
<a name="l01208"></a>01208 
<a name="l01209"></a>01209           <span class="comment">/* Just copy next character to buffer */</span>
<a name="l01210"></a>01210           line++;
<a name="l01211"></a>01211           buf[i] = *line;
<a name="l01212"></a>01212           i++;
<a name="l01213"></a>01213         }
<a name="l01214"></a>01214 
<a name="l01215"></a>01215       <span class="comment">/* If not a macro start symbol $, just copy to buf */</span>
<a name="l01216"></a>01216       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*line != <span class="charliteral">'$'</span>)
<a name="l01217"></a>01217         {
<a name="l01218"></a>01218           buf[i] = *line;
<a name="l01219"></a>01219           i++;
<a name="l01220"></a>01220         }
<a name="l01221"></a>01221 
<a name="l01222"></a>01222 
<a name="l01223"></a>01223       <span class="comment">/* Otherwise, replace $macro$ with it's value */</span>
<a name="l01224"></a>01224       <span class="keywordflow">else</span>
<a name="l01225"></a>01225         {
<a name="l01226"></a>01226           line++;
<a name="l01227"></a>01227           j = 0;
<a name="l01228"></a>01228 
<a name="l01229"></a>01229           <span class="comment">/* Get the name of the macro */</span>
<a name="l01230"></a>01230           <span class="keywordflow">while</span> ((*line != 0) &amp;&amp; (*line != <span class="charliteral">'$'</span>))
<a name="l01231"></a>01231             {
<a name="l01232"></a>01232               <span class="comment">/* Make sure there isn't any white space in name */</span>
<a name="l01233"></a>01233               <span class="keywordflow">if</span> (isspace (*line))
<a name="l01234"></a>01234                 {
<a name="l01235"></a>01235                   name_buf[j] = 0;
<a name="l01236"></a>01236                   <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"%s line %i: macro name contains space after '%s'"</span>,
<a name="l01237"></a>01237                           ppi-&gt;name, ppi-&gt;line_no, name_buf);
<a name="l01238"></a>01238                 }
<a name="l01239"></a>01239               <span class="comment">/* Copy over character */</span>
<a name="l01240"></a>01240               name_buf[j] = *line;
<a name="l01241"></a>01241               j++;
<a name="l01242"></a>01242               line++;
<a name="l01243"></a>01243 
<a name="l01244"></a>01244               <span class="comment">/* Make sure we dont exceeded name buf size */</span>
<a name="l01245"></a>01245               <span class="keywordflow">if</span> (j &gt;= (<span class="keywordtype">int</span>) <span class="keyword">sizeof</span> (name_buf))
<a name="l01246"></a>01246                 {
<a name="l01247"></a>01247                   name_buf[<span class="keyword">sizeof</span> (name_buf) - 1] = 0;
<a name="l01248"></a>01248                   <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"%s line %i: macro name too long '%s...'"</span>,
<a name="l01249"></a>01249                           ppi-&gt;name, ppi-&gt;line_no, name_buf);
<a name="l01250"></a>01250                 }
<a name="l01251"></a>01251 
<a name="l01252"></a>01252             }
<a name="l01253"></a>01253           name_buf[j] = 0;
<a name="l01254"></a>01254 
<a name="l01255"></a>01255           <span class="comment">/* Verify macro had ending $ */</span>
<a name="l01256"></a>01256           <span class="keywordflow">if</span> (*line != <span class="charliteral">'$'</span>)
<a name="l01257"></a>01257             <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"%s line %i: ill-formed macro '%s'"</span>,
<a name="l01258"></a>01258                     ppi-&gt;name, ppi-&gt;line_no, name_buf);
<a name="l01259"></a>01259 
<a name="l01260"></a>01260           <span class="comment">/* Get macro's value */</span>
<a name="l01261"></a>01261           <span class="keywordflow">if</span> ((value = <a class="code" href="l__parms_8c.html#75a69937f386bd87ddd760e0437f601e">L_get_parm_macro_value</a> (ppi, name_buf)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01262"></a>01262             <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"%s line %i: Undefined macro '%s'"</span>,
<a name="l01263"></a>01263                     ppi-&gt;name, ppi-&gt;line_no, name_buf);
<a name="l01264"></a>01264 
<a name="l01265"></a>01265           <span class="comment">/* Get length of value */</span>
<a name="l01266"></a>01266           value_size = strlen (value);
<a name="l01267"></a>01267 
<a name="l01268"></a>01268           <span class="comment">/* Make sure copying in value won't exceed buffer size */</span>
<a name="l01269"></a>01269           <span class="keywordflow">if</span> ((i + value_size) &gt; max)
<a name="l01270"></a>01270             <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"%s line %i: Expanded line too long (max len %i)."</span>,
<a name="l01271"></a>01271                     ppi-&gt;name, ppi-&gt;line_no, max + 1);
<a name="l01272"></a>01272 
<a name="l01273"></a>01273           <span class="comment">/* Copy macro to buf */</span>
<a name="l01274"></a>01274           strcpy (&amp;buf[i], value);
<a name="l01275"></a>01275 
<a name="l01276"></a>01276           <span class="comment">/* Update size of buffer */</span>
<a name="l01277"></a>01277           i += value_size;
<a name="l01278"></a>01278         }
<a name="l01279"></a>01279 
<a name="l01280"></a>01280       line++;
<a name="l01281"></a>01281     }
<a name="l01282"></a>01282   <span class="comment">/* Terminate buffer */</span>
<a name="l01283"></a>01283   buf[i] = 0;
<a name="l01284"></a>01284 }
<a name="l01285"></a>01285 <span class="comment">/*</span>
<a name="l01286"></a>01286 <span class="comment"> * Sets string parameter to passed string.  Memory is allocated for</span>
<a name="l01287"></a>01287 <span class="comment"> * the new string.  Also, if currently points at non-null value,</span>
<a name="l01288"></a>01288 <span class="comment"> * that memory is also freed (So this routine MUST always be</span>
<a name="l01289"></a>01289 <span class="comment"> * used to set string parameters).</span>
<a name="l01290"></a>01290 <span class="comment"> */</span>
<a name="l01291"></a>01291 <span class="keywordtype">void</span>
<a name="l01292"></a><a class="code" href="l__parms_8c.html#d2ff90330481ecb555f26f90a1d3c152">01292</a> <a class="code" href="l__parms_8c.html#d2ff90330481ecb555f26f90a1d3c152">L_set_parm_s</a> (<span class="keywordtype">char</span> **parm, <span class="keywordtype">char</span> *new_string)
<a name="l01293"></a>01293 {
<a name="l01294"></a>01294   <span class="keywordtype">int</span> size;
<a name="l01295"></a>01295   <span class="keywordtype">char</span> *new_str;
<a name="l01296"></a>01296 
<a name="l01297"></a>01297   size = strlen (new_string) + 1;
<a name="l01298"></a>01298 
<a name="l01299"></a>01299   <span class="keywordflow">if</span> ((new_str = (<span class="keywordtype">char</span> *) malloc (size)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01300"></a>01300     <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"set_parm_s: Out of memory"</span>);
<a name="l01301"></a>01301 
<a name="l01302"></a>01302   <span class="comment">/* Copy over new parameter */</span>
<a name="l01303"></a>01303   strcpy (new_str, new_string);
<a name="l01304"></a>01304 
<a name="l01305"></a>01305 <span class="preprocessor">#if 0</span>
<a name="l01306"></a>01306 <span class="preprocessor"></span>  <span class="comment">/* Free old string, (This may cause more trouble than it is worth) */</span>
<a name="l01307"></a>01307   <span class="keywordflow">if</span> (*parm != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01308"></a>01308     free (*parm);
<a name="l01309"></a>01309 <span class="preprocessor">#endif</span>
<a name="l01310"></a>01310 <span class="preprocessor"></span>
<a name="l01311"></a>01311   *parm = new_str;
<a name="l01312"></a>01312 }
<a name="l01313"></a>01313 
<a name="l01314"></a>01314 <span class="comment">/* Returns 1 s1 matches s2 (ignoring case), 0 otherwise */</span>
<a name="l01315"></a>01315 <span class="keywordtype">int</span>
<a name="l01316"></a><a class="code" href="l__parms_8c.html#4765bf6935180114326aeea11d1c65ae">01316</a> <a class="code" href="l__parms_8c.html#4765bf6935180114326aeea11d1c65ae">L_pmatch</a> (<span class="keywordtype">char</span> *s1, <span class="keywordtype">char</span> *s2)
<a name="l01317"></a>01317 {
<a name="l01318"></a>01318   <span class="keywordflow">for</span> (; *s1 != 0; s1++, s2++)
<a name="l01319"></a>01319     {
<a name="l01320"></a>01320       <span class="keywordflow">if</span> (toupper (*s1) != toupper (*s2))
<a name="l01321"></a>01321         <span class="keywordflow">return</span> (0);
<a name="l01322"></a>01322     }
<a name="l01323"></a>01323 
<a name="l01324"></a>01324   <span class="keywordflow">if</span> (*s2 != 0)
<a name="l01325"></a>01325     <span class="keywordflow">return</span> (0);
<a name="l01326"></a>01326   <span class="keywordflow">else</span>
<a name="l01327"></a>01327     <span class="keywordflow">return</span> (1);
<a name="l01328"></a>01328 }
<a name="l01329"></a>01329 
<a name="l01330"></a>01330 <span class="comment">/* Adds the parameters that are defined more than once to the warning list.</span>
<a name="l01331"></a>01331 <span class="comment"> * These warnings are appended to the end of the warning list so it is printed</span>
<a name="l01332"></a>01332 <span class="comment"> * out after similar warnings that have already been marked.</span>
<a name="l01333"></a>01333 <span class="comment"> */</span>
<a name="l01334"></a>01334 <span class="keywordtype">void</span>
<a name="l01335"></a><a class="code" href="l__parms_8c.html#4b6a82da614d3b3ea4e54dfd0d19a542">01335</a> <a class="code" href="l__parms_8c.html#4b6a82da614d3b3ea4e54dfd0d19a542">L_add_parm_already_defined</a> (<a class="code" href="structparm__table__node.html">Parm_Table_Node</a> * old_parm_node,
<a name="l01336"></a>01336                             <span class="keywordtype">char</span> *new_value, <span class="keywordtype">char</span> *new_file_name,
<a name="l01337"></a>01337                             <span class="keywordtype">int</span> new_parm_line_no, <span class="keywordtype">char</span> *section_name1,
<a name="l01338"></a>01338                             <span class="keywordtype">char</span> *section_name2)
<a name="l01339"></a>01339 {
<a name="l01340"></a>01340   <span class="keywordtype">int</span> node_size, name_size, value_size, old_value_size, file_name_size;
<a name="l01341"></a>01341   <span class="keywordtype">int</span> old_file_name_size, section_name_size1, section_name_size2;
<a name="l01342"></a>01342   <a class="code" href="structparm__warn__node.html">Parm_Warn_Node</a> *<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>, *last_node, *next_node;
<a name="l01343"></a>01343 
<a name="l01344"></a>01344   node_size = <span class="keyword">sizeof</span> (<a class="code" href="structparm__warn__node.html">Parm_Warn_Node</a>);
<a name="l01345"></a>01345   name_size = strlen (old_parm_node-&gt;<a class="code" href="structparm__table__node.html#47f9d69859af678502c818958274ee6c">user_name</a>) + 1;
<a name="l01346"></a>01346   value_size = strlen (new_value) + 1;
<a name="l01347"></a>01347   old_value_size = strlen (old_parm_node-&gt;<a class="code" href="structparm__table__node.html#7d8d917d112c838da4ce9bcfa5441f1b">value</a>) + 1;
<a name="l01348"></a>01348   section_name_size1 = strlen (section_name1) + 1;
<a name="l01349"></a>01349   file_name_size = strlen (new_file_name) + 1;
<a name="l01350"></a>01350   old_file_name_size = strlen (old_parm_node-&gt;<a class="code" href="structparm__table__node.html#50a4d855bcf1f79b41c9a7ff5cb99622">parm_file_name</a>) + 1;
<a name="l01351"></a>01351 
<a name="l01352"></a>01352   <span class="comment">/* find the last node in the list */</span>
<a name="l01353"></a>01353   last_node = <a class="code" href="l__parms_8c.html#95c32800b7e93bd491ac6054521d1519">warn_list</a>-&gt;<a class="code" href="structparm__warn__list.html#010b718d3b92e1e097412e3292756e07">head</a>;
<a name="l01354"></a>01354   <span class="keywordflow">if</span> (last_node != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01355"></a>01355     <span class="keywordflow">for</span> (next_node = last_node-&gt;<a class="code" href="structparm__warn__node.html#5de49638df851cecb5e0228408cde545">next</a>; next_node != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01356"></a>01356          next_node = last_node-&gt;<a class="code" href="structparm__warn__node.html#5de49638df851cecb5e0228408cde545">next</a>)
<a name="l01357"></a>01357       last_node = next_node;
<a name="l01358"></a>01358 
<a name="l01359"></a>01359   <span class="keywordflow">if</span> (((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = (<a class="code" href="structparm__warn__node.html">Parm_Warn_Node</a> *) malloc (node_size)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ||
<a name="l01360"></a>01360       ((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name = (<span class="keywordtype">char</span> *) malloc (name_size)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ||
<a name="l01361"></a>01361       ((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value = (<span class="keywordtype">char</span> *) malloc (value_size)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ||
<a name="l01362"></a>01362       ((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;old_value = (<span class="keywordtype">char</span> *) malloc (old_value_size)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ||
<a name="l01363"></a>01363       ((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name1 = (<span class="keywordtype">char</span> *) malloc (section_name_size1)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01364"></a>01364       || ((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_file_name = (<span class="keywordtype">char</span> *) malloc (file_name_size)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01365"></a>01365       || ((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;old_parm_file_name = (<span class="keywordtype">char</span> *) malloc (old_file_name_size)) ==
<a name="l01366"></a>01366           <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))
<a name="l01367"></a>01367     <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"L_add_parm_defined_already: Out of memory"</span>);
<a name="l01368"></a>01368 
<a name="l01369"></a>01369   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;flag = <a class="code" href="l__parms_8h.html#ff975a5d378618007dae543fd5fcd62c">MULT_PARM_DEF</a>;
<a name="l01370"></a>01370   strcpy (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name, old_parm_node-&gt;<a class="code" href="structparm__table__node.html#47f9d69859af678502c818958274ee6c">user_name</a>);
<a name="l01371"></a>01371   strcpy (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value, new_value);
<a name="l01372"></a>01372   strcpy (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;old_value, old_parm_node-&gt;<a class="code" href="structparm__table__node.html#7d8d917d112c838da4ce9bcfa5441f1b">value</a>);
<a name="l01373"></a>01373   strcpy (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name1, section_name1);
<a name="l01374"></a>01374   <span class="keywordflow">if</span> (section_name2 != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01375"></a>01375     {
<a name="l01376"></a>01376       section_name_size2 = strlen (section_name2) + 1;
<a name="l01377"></a>01377       <span class="keywordflow">if</span> ((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name2 = (<span class="keywordtype">char</span> *) malloc (section_name_size2)) ==
<a name="l01378"></a>01378           <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01379"></a>01379         <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"L_add_parm_defined_already: Out of memory"</span>);
<a name="l01380"></a>01380       strcpy (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name2, section_name2);
<a name="l01381"></a>01381 
<a name="l01382"></a>01382     }
<a name="l01383"></a>01383   <span class="keywordflow">else</span>
<a name="l01384"></a>01384     {
<a name="l01385"></a>01385       <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name2 = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01386"></a>01386     }
<a name="l01387"></a>01387 
<a name="l01388"></a>01388   strcpy (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_file_name, new_file_name);
<a name="l01389"></a>01389   strcpy (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;old_parm_file_name, old_parm_node-&gt;<a class="code" href="structparm__table__node.html#50a4d855bcf1f79b41c9a7ff5cb99622">parm_file_name</a>);
<a name="l01390"></a>01390   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_line_no = new_parm_line_no;
<a name="l01391"></a>01391   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;old_parm_line_no = old_parm_node-&gt;<a class="code" href="structparm__table__node.html#239bda54f47f2a901ee60a74cdc5fec3">parm_line_no</a>;
<a name="l01392"></a>01392   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01393"></a>01393 
<a name="l01394"></a>01394   <span class="keywordflow">if</span> (last_node == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)        <span class="comment">/* this is first warning in the list */</span>
<a name="l01395"></a>01395     <a class="code" href="l__parms_8c.html#95c32800b7e93bd491ac6054521d1519">warn_list</a>-&gt;<a class="code" href="structparm__warn__list.html#010b718d3b92e1e097412e3292756e07">head</a> = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l01396"></a>01396   <span class="keywordflow">else</span>
<a name="l01397"></a>01397     last_node-&gt;<a class="code" href="structparm__warn__node.html#5de49638df851cecb5e0228408cde545">next</a> = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l01398"></a>01398   last_node = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l01399"></a>01399 }
<a name="l01400"></a>01400 
<a name="l01401"></a>01401 
<a name="l01402"></a>01402 <span class="comment">/* Adds the parameters not used warning for an entire section to the warning</span>
<a name="l01403"></a>01403 <span class="comment"> * list.</span>
<a name="l01404"></a>01404 <span class="comment"> * These warnings are appended to the end of the warning list so it is printed</span>
<a name="l01405"></a>01405 <span class="comment"> * out after similar warnings that have already been marked.</span>
<a name="l01406"></a>01406 <span class="comment"> */</span>
<a name="l01407"></a>01407 <span class="keywordtype">void</span>
<a name="l01408"></a><a class="code" href="l__parms_8c.html#e48a84c9930f422e28906cecb4240390">01408</a> <a class="code" href="l__parms_8c.html#e48a84c9930f422e28906cecb4240390">L_add_parm_not_used</a> (<a class="code" href="structparm__table__list.html">Parm_Table_List</a> * parm_list,
<a name="l01409"></a>01409                      <span class="keywordtype">char</span> *section_name1, <span class="keywordtype">char</span> *section_name2)
<a name="l01410"></a>01410 {
<a name="l01411"></a>01411   <span class="keywordtype">int</span> node_size, name_size, file_name_size, section_name_size1, i;
<a name="l01412"></a>01412   <span class="keywordtype">int</span> section_name_size2;
<a name="l01413"></a>01413   <a class="code" href="structparm__warn__node.html">Parm_Warn_Node</a> *<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>, *last_node, *next_node;
<a name="l01414"></a>01414   <a class="code" href="structparm__table__node.html">Parm_Table_Node</a> *parm_node;
<a name="l01415"></a>01415 
<a name="l01416"></a>01416   <span class="comment">/* these sizes are constant for this entire procedure */</span>
<a name="l01417"></a>01417   node_size = <span class="keyword">sizeof</span> (<a class="code" href="structparm__warn__node.html">Parm_Warn_Node</a>);
<a name="l01418"></a>01418   section_name_size1 = strlen (section_name1) + 1;
<a name="l01419"></a>01419 
<a name="l01420"></a>01420   <span class="comment">/* find the last node in the list */</span>
<a name="l01421"></a>01421   last_node = <a class="code" href="l__parms_8c.html#95c32800b7e93bd491ac6054521d1519">warn_list</a>-&gt;<a class="code" href="structparm__warn__list.html#010b718d3b92e1e097412e3292756e07">head</a>;
<a name="l01422"></a>01422   <span class="keywordflow">if</span> (last_node != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01423"></a>01423     <span class="keywordflow">for</span> (next_node = last_node-&gt;<a class="code" href="structparm__warn__node.html#5de49638df851cecb5e0228408cde545">next</a>; next_node != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01424"></a>01424          next_node = last_node-&gt;<a class="code" href="structparm__warn__node.html#5de49638df851cecb5e0228408cde545">next</a>)
<a name="l01425"></a>01425       last_node = next_node;
<a name="l01426"></a>01426 
<a name="l01427"></a>01427   <span class="comment">/* search the entire hast table for entries that are not being used */</span>
<a name="l01428"></a>01428   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="l__parms_8h.html#36215e82184d0149f0657606c862cabc">PARM_TABLE_HASH_SIZE</a>; i++)
<a name="l01429"></a>01429 
<a name="l01430"></a>01430     <span class="keywordflow">for</span> (parm_node = parm_list-&gt;<a class="code" href="structparm__table__list.html#140cd03c4dfcd9b3e45f987595bd75d6">head</a>[i]; parm_node != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01431"></a>01431          parm_node = parm_node-&gt;<a class="code" href="structparm__table__node.html#0512416bb4b0ecaa770d839622f36ad6">next</a>)
<a name="l01432"></a>01432 
<a name="l01433"></a>01433       if (parm_node-&gt;<a class="code" href="structparm__table__node.html#a50cc0e5949d5980a9e2e16789bc434b">used</a> == <a class="code" href="l__parms_8h.html#f19bd6c1a125bbcb95028adc2aaddfb1">NOT_USED</a>)
<a name="l01434"></a>01434         {
<a name="l01435"></a>01435           name_size = strlen (parm_node-&gt;<a class="code" href="structparm__table__node.html#47f9d69859af678502c818958274ee6c">user_name</a>) + 1;
<a name="l01436"></a>01436           file_name_size = strlen (parm_node-&gt;<a class="code" href="structparm__table__node.html#50a4d855bcf1f79b41c9a7ff5cb99622">parm_file_name</a>) + 1;
<a name="l01437"></a>01437 
<a name="l01438"></a>01438           if (((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = (<a class="code" href="structparm__warn__node.html">Parm_Warn_Node</a> *) malloc (node_size)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ||
<a name="l01439"></a>01439               ((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name = (<span class="keywordtype">char</span> *) malloc (name_size)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ||
<a name="l01440"></a>01440               ((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name1 = (<span class="keywordtype">char</span> *) malloc (section_name_size1)) ==
<a name="l01441"></a>01441                <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01442"></a>01442               || ((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_file_name = (<span class="keywordtype">char</span> *) malloc (file_name_size)) ==
<a name="l01443"></a>01443                   <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))
<a name="l01444"></a>01444             I_punt (<span class="stringliteral">"L_add_parm_not_used: Out of memory"</span>);
<a name="l01445"></a>01445 
<a name="l01446"></a>01446           <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;flag = <a class="code" href="l__parms_8h.html#124b3df70211e9e1956574e7039ebbec">PARM_NOT_USED</a>;
<a name="l01447"></a>01447           strcpy (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name, parm_node-&gt;<a class="code" href="structparm__table__node.html#47f9d69859af678502c818958274ee6c">user_name</a>);
<a name="l01448"></a>01448           strcpy (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name1, section_name1);
<a name="l01449"></a>01449           <span class="keywordflow">if</span> (section_name2 != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01450"></a>01450             {
<a name="l01451"></a>01451               section_name_size2 = strlen (section_name2) + 1;
<a name="l01452"></a>01452               <span class="keywordflow">if</span> ((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name2 =
<a name="l01453"></a>01453                    (<span class="keywordtype">char</span> *) malloc (section_name_size2)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01454"></a>01454                 {
<a name="l01455"></a>01455                   <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"L_add_parm_not_used: Out of memory"</span>);
<a name="l01456"></a>01456                 }
<a name="l01457"></a>01457               strcpy (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name2, section_name2);
<a name="l01458"></a>01458 
<a name="l01459"></a>01459             }
<a name="l01460"></a>01460           <span class="keywordflow">else</span>
<a name="l01461"></a>01461             {
<a name="l01462"></a>01462               <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name2 = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01463"></a>01463             }
<a name="l01464"></a>01464 
<a name="l01465"></a>01465           strcpy (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_file_name, parm_node-&gt;<a class="code" href="structparm__table__node.html#50a4d855bcf1f79b41c9a7ff5cb99622">parm_file_name</a>);
<a name="l01466"></a>01466           <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_line_no = parm_node-&gt;<a class="code" href="structparm__table__node.html#239bda54f47f2a901ee60a74cdc5fec3">parm_line_no</a>;
<a name="l01467"></a>01467           <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01468"></a>01468 
<a name="l01469"></a>01469           <span class="comment">/* JCG , set unused fields to NULL so don't free garbage */</span>
<a name="l01470"></a>01470           <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01471"></a>01471           <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;old_value = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01472"></a>01472           <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;old_parm_file_name = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01473"></a>01473 
<a name="l01474"></a>01474           <span class="keywordflow">if</span> (last_node == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)        <span class="comment">/* this is first warning in the list */</span>
<a name="l01475"></a>01475             <a class="code" href="l__parms_8c.html#95c32800b7e93bd491ac6054521d1519">warn_list</a>-&gt;<a class="code" href="structparm__warn__list.html#010b718d3b92e1e097412e3292756e07">head</a> = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l01476"></a>01476           <span class="keywordflow">else</span>
<a name="l01477"></a>01477             last_node-&gt;<a class="code" href="structparm__warn__node.html#5de49638df851cecb5e0228408cde545">next</a> = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l01478"></a>01478           last_node = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l01479"></a>01479         }
<a name="l01480"></a>01480 
<a name="l01481"></a>01481   <span class="keywordflow">return</span>;
<a name="l01482"></a>01482 }
<a name="l01483"></a>01483 
<a name="l01484"></a>01484 <span class="comment">/* Adds a parameter not found warning to the warning list.</span>
<a name="l01485"></a>01485 <span class="comment"> * This warning is appended to the end of the warning list so it is</span>
<a name="l01486"></a>01486 <span class="comment"> * printed out after similar warnings that have already been marked.</span>
<a name="l01487"></a>01487 <span class="comment"> */</span>
<a name="l01488"></a>01488 <span class="keywordtype">void</span>
<a name="l01489"></a><a class="code" href="l__parms_8c.html#85b066cb30b7b9673e83af5767eb0acd">01489</a> <a class="code" href="l__parms_8c.html#85b066cb30b7b9673e83af5767eb0acd">L_add_parm_not_defined</a> (<span class="keywordtype">char</span> *<a class="code" href="c__basic_8c.html#5ac083a645d964373f022d03df4849c8">name</a>, <span class="keywordtype">char</span> *section_name1, <span class="keywordtype">char</span> *section_name2)
<a name="l01490"></a>01490 {
<a name="l01491"></a>01491   <span class="keywordtype">int</span> node_size, name_size, section_name_size1, section_name_size2;
<a name="l01492"></a>01492   <a class="code" href="structparm__warn__node.html">Parm_Warn_Node</a> *<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>, *prev_node;
<a name="l01493"></a>01493 
<a name="l01494"></a>01494   node_size = <span class="keyword">sizeof</span> (<a class="code" href="structparm__warn__node.html">Parm_Warn_Node</a>);
<a name="l01495"></a>01495   name_size = strlen (name) + 1;
<a name="l01496"></a>01496   section_name_size1 = strlen (section_name1) + 1;
<a name="l01497"></a>01497 
<a name="l01498"></a>01498   <span class="keywordflow">if</span> (((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = (<a class="code" href="structparm__warn__node.html">Parm_Warn_Node</a> *) malloc (node_size)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ||
<a name="l01499"></a>01499       ((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name = (<span class="keywordtype">char</span> *) malloc (name_size)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ||
<a name="l01500"></a>01500       ((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name1 = (<span class="keywordtype">char</span> *) malloc (section_name_size1)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))
<a name="l01501"></a>01501     <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"L_add_parm_not_defined: Out of memory"</span>);
<a name="l01502"></a>01502 
<a name="l01503"></a>01503   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;flag = <a class="code" href="l__parms_8h.html#00276916caee27ce77b97bd174a6dc16">NO_PARM_DEF</a>;
<a name="l01504"></a>01504   strcpy (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name, name);
<a name="l01505"></a>01505   strcpy (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name1, section_name1);
<a name="l01506"></a>01506   <span class="keywordflow">if</span> (section_name2 != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01507"></a>01507     {
<a name="l01508"></a>01508       section_name_size2 = strlen (section_name2) + 1;
<a name="l01509"></a>01509       <span class="keywordflow">if</span> ((<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name2 =
<a name="l01510"></a>01510            (<span class="keywordtype">char</span> *) malloc (section_name_size2)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01511"></a>01511         {
<a name="l01512"></a>01512           <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"L_add_parm_not_defined: Out of memory"</span>);
<a name="l01513"></a>01513         }
<a name="l01514"></a>01514       strcpy (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name2, section_name2);
<a name="l01515"></a>01515 
<a name="l01516"></a>01516     }
<a name="l01517"></a>01517   <span class="keywordflow">else</span>
<a name="l01518"></a>01518     {
<a name="l01519"></a>01519       <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;section_name2 = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01520"></a>01520     }
<a name="l01521"></a>01521   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;next = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01522"></a>01522 
<a name="l01523"></a>01523   <span class="comment">/* JCG, set unused fields to NULL so don't free garbage */</span>
<a name="l01524"></a>01524   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01525"></a>01525   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;old_value = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01526"></a>01526   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_file_name = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01527"></a>01527   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;old_parm_file_name = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01528"></a>01528 
<a name="l01529"></a>01529 
<a name="l01530"></a>01530   <span class="keywordflow">if</span> (<a class="code" href="l__parms_8c.html#95c32800b7e93bd491ac6054521d1519">warn_list</a>-&gt;<a class="code" href="structparm__warn__list.html#010b718d3b92e1e097412e3292756e07">head</a> == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01531"></a>01531     <a class="code" href="l__parms_8c.html#95c32800b7e93bd491ac6054521d1519">warn_list</a>-&gt;<a class="code" href="structparm__warn__list.html#010b718d3b92e1e097412e3292756e07">head</a> = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l01532"></a>01532   <span class="keywordflow">else</span>
<a name="l01533"></a>01533     {
<a name="l01534"></a>01534       <span class="keywordflow">for</span> (prev_node = <a class="code" href="l__parms_8c.html#95c32800b7e93bd491ac6054521d1519">warn_list</a>-&gt;<a class="code" href="structparm__warn__list.html#010b718d3b92e1e097412e3292756e07">head</a>; prev_node-&gt;<a class="code" href="structparm__warn__node.html#5de49638df851cecb5e0228408cde545">next</a> != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01535"></a>01535            prev_node = prev_node-&gt;<a class="code" href="structparm__warn__node.html#5de49638df851cecb5e0228408cde545">next</a>);
<a name="l01536"></a>01536       prev_node-&gt;<a class="code" href="structparm__warn__node.html#5de49638df851cecb5e0228408cde545">next</a> = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l01537"></a>01537     }
<a name="l01538"></a>01538 
<a name="l01539"></a>01539   <span class="keywordflow">return</span>;
<a name="l01540"></a>01540 }
<a name="l01541"></a>01541 
<a name="l01542"></a>01542 <span class="comment">/* Reads in an int parameter.  Nothing else may be on the line. </span>
<a name="l01543"></a>01543 <span class="comment">  */</span>
<a name="l01544"></a>01544 <span class="keywordtype">void</span>
<a name="l01545"></a><a class="code" href="l__parms_8h.html#ff1906fe6912099e08d84bb82778b69c">01545</a> <a class="code" href="l__parms_8c.html#ff1906fe6912099e08d84bb82778b69c">L_read_parm_i</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi_in, <span class="keywordtype">char</span> *<a class="code" href="c__basic_8c.html#5ac083a645d964373f022d03df4849c8">name</a>, <span class="keywordtype">int</span> *ptr)
<a name="l01546"></a>01546 {
<a name="l01547"></a>01547   <a class="code" href="structparm__table__list.html">Parm_Table_List</a> *<a class="code" href="structlist.html">list</a>;
<a name="l01548"></a>01548   <a class="code" href="structparm__table__node.html">Parm_Table_Node</a> *<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l01549"></a>01549   <a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> ppi;
<a name="l01550"></a>01550   <span class="keywordtype">int</span> dev_parm;
<a name="l01551"></a>01551 
<a name="l01552"></a>01552   list = ppi_in-&gt;<a class="code" href="structparm__parse__info__st.html#b703c181b4299e93d8fb87c10294096d">parm_list</a>;
<a name="l01553"></a>01553 
<a name="l01554"></a>01554   <span class="comment">/* Strip leading whitespace */</span>
<a name="l01555"></a>01555   <span class="keywordflow">while</span> (isspace (*name))
<a name="l01556"></a>01556     name++;
<a name="l01557"></a>01557 
<a name="l01558"></a>01558   <span class="comment">/* If leading char '?', then dev parm (warn on different flag) */</span>
<a name="l01559"></a>01559   dev_parm = 0;
<a name="l01560"></a>01560   <span class="keywordflow">if</span> (*name == <span class="charliteral">'?'</span>)
<a name="l01561"></a>01561     {
<a name="l01562"></a>01562       dev_parm = 1;
<a name="l01563"></a>01563       name++;
<a name="l01564"></a>01564     }
<a name="l01565"></a>01565 
<a name="l01566"></a>01566   <span class="comment">/* Do we have this paramater in the buffer, if no, return */</span>
<a name="l01567"></a>01567   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = <a class="code" href="l__parms_8c.html#aaa6fc5fe57512c37755e5316453c0fa">L_get_parm_table_entry</a> (list, name);
<a name="l01568"></a>01568   <span class="keywordflow">if</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01569"></a>01569     {
<a name="l01570"></a>01570       <span class="keywordflow">if</span> (!<a class="code" href="l__parms_8c.html#4e81593e5d5157a86ef115b9b6049e64">look_for_forced_param</a> (name, ppi_in-&gt;<a class="code" href="structparm__parse__info__st.html#9bed9131e54df85ba3dacc6e598386cb">command_line_list</a>))
<a name="l01571"></a>01571         {
<a name="l01572"></a>01572           <span class="keywordflow">if</span> (!dev_parm || <a class="code" href="l__parms_8c.html#e4e406bd7aa9be4a24b2a33ea728e4db">L_warn_dev_parm_not_defined</a>)
<a name="l01573"></a>01573             {
<a name="l01574"></a>01574               <a class="code" href="l__parms_8c.html#85b066cb30b7b9673e83af5767eb0acd">L_add_parm_not_defined</a> (name, <a class="code" href="l__parms_8c.html#64158f38584b29f5a0cfcecd40f8ac89">current_section_name1</a>,
<a name="l01575"></a>01575                                       <a class="code" href="l__parms_8c.html#f4165fc0be67b713ba10168fa0fb8698">current_section_name2</a>);
<a name="l01576"></a>01576             }
<a name="l01577"></a>01577           <span class="keywordflow">return</span>;
<a name="l01578"></a>01578         }
<a name="l01579"></a>01579       <span class="keywordflow">else</span>
<a name="l01580"></a>01580         <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = <a class="code" href="l__parms_8c.html#aaa6fc5fe57512c37755e5316453c0fa">L_get_parm_table_entry</a> (list, name);
<a name="l01581"></a>01581     }
<a name="l01582"></a>01582 
<a name="l01583"></a>01583   <span class="comment">/* Create a ppi structure so it is easier to reuse current code */</span>
<a name="l01584"></a>01584   strcpy (ppi.<a class="code" href="structparm__parse__info__st.html#255049943de34c7e2cd0d3e5d6a789cc">setting</a>, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value);
<a name="l01585"></a>01585   ppi.<a class="code" href="structparm__parse__info__st.html#fbf0cb338be728d03c81c82014182c55">name</a> = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_file_name;
<a name="l01586"></a>01586   ppi.<a class="code" href="structparm__parse__info__st.html#273f11c637779d64b112ec663692d5f4">line_no</a> = <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_line_no;
<a name="l01587"></a>01587   <span class="comment">/* Read int expression from setting ptr */</span>
<a name="l01588"></a>01588   ppi.<a class="code" href="structparm__parse__info__st.html#2473bd5d235abc51e152ae76cfb8d116">calc_ptr</a> = ppi.<a class="code" href="structparm__parse__info__st.html#255049943de34c7e2cd0d3e5d6a789cc">setting</a>;
<a name="l01589"></a>01589 
<a name="l01590"></a>01590   *ptr = <a class="code" href="l__parms_8c.html#62df370fac8e8f6cd66971ce843bab9c">L_parm_calc_complete_expr</a> (&amp;ppi);
<a name="l01591"></a>01591 
<a name="l01592"></a>01592   <span class="keywordflow">return</span>;
<a name="l01593"></a>01593 }
<a name="l01594"></a>01594 
<a name="l01595"></a>01595 <span class="comment">/*</span>
<a name="l01596"></a>01596 <span class="comment"> * Reads in an binary parameter.  Nothing else may be on the line. </span>
<a name="l01597"></a>01597 <span class="comment"> * The following are equivalent (yes, y, 1, on) (no, n, 0, off)</span>
<a name="l01598"></a>01598 <span class="comment"> */</span>
<a name="l01599"></a>01599 <span class="keywordtype">void</span>
<a name="l01600"></a><a class="code" href="l__parms_8h.html#5f83d604b2e536e100ebc2576bed22d3">01600</a> <a class="code" href="l__parms_8c.html#5f83d604b2e536e100ebc2576bed22d3">L_read_parm_b</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi_in, <span class="keywordtype">char</span> *<a class="code" href="c__basic_8c.html#5ac083a645d964373f022d03df4849c8">name</a>, <span class="keywordtype">int</span> *ptr)
<a name="l01601"></a>01601 {
<a name="l01602"></a>01602   <a class="code" href="structparm__table__list.html">Parm_Table_List</a> *<a class="code" href="structlist.html">list</a>;
<a name="l01603"></a>01603   <a class="code" href="structparm__table__node.html">Parm_Table_Node</a> *<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l01604"></a>01604   <span class="keywordtype">int</span> dev_parm;
<a name="l01605"></a>01605 
<a name="l01606"></a>01606   list = ppi_in-&gt;<a class="code" href="structparm__parse__info__st.html#b703c181b4299e93d8fb87c10294096d">parm_list</a>;
<a name="l01607"></a>01607   <span class="comment">/* Strip leading whitespace */</span>
<a name="l01608"></a>01608   <span class="keywordflow">while</span> (isspace (*name))
<a name="l01609"></a>01609     name++;
<a name="l01610"></a>01610 
<a name="l01611"></a>01611   <span class="comment">/* If leading char '?', then dev parm (warn on different flag) */</span>
<a name="l01612"></a>01612   dev_parm = 0;
<a name="l01613"></a>01613   <span class="keywordflow">if</span> (*name == <span class="charliteral">'?'</span>)
<a name="l01614"></a>01614     {
<a name="l01615"></a>01615       dev_parm = 1;
<a name="l01616"></a>01616       name++;
<a name="l01617"></a>01617     }
<a name="l01618"></a>01618 
<a name="l01619"></a>01619   <span class="comment">/* Do we have this parmater in the buffer, if no, return */</span>
<a name="l01620"></a>01620   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = <a class="code" href="l__parms_8c.html#aaa6fc5fe57512c37755e5316453c0fa">L_get_parm_table_entry</a> (list, name);
<a name="l01621"></a>01621   <span class="keywordflow">if</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01622"></a>01622     {
<a name="l01623"></a>01623       <span class="keywordflow">if</span> (!<a class="code" href="l__parms_8c.html#4e81593e5d5157a86ef115b9b6049e64">look_for_forced_param</a> (name, ppi_in-&gt;<a class="code" href="structparm__parse__info__st.html#9bed9131e54df85ba3dacc6e598386cb">command_line_list</a>))
<a name="l01624"></a>01624         {
<a name="l01625"></a>01625           <span class="keywordflow">if</span> (!dev_parm || <a class="code" href="l__parms_8c.html#e4e406bd7aa9be4a24b2a33ea728e4db">L_warn_dev_parm_not_defined</a>)
<a name="l01626"></a>01626             {
<a name="l01627"></a>01627               <a class="code" href="l__parms_8c.html#85b066cb30b7b9673e83af5767eb0acd">L_add_parm_not_defined</a> (name, <a class="code" href="l__parms_8c.html#64158f38584b29f5a0cfcecd40f8ac89">current_section_name1</a>,
<a name="l01628"></a>01628                                       <a class="code" href="l__parms_8c.html#f4165fc0be67b713ba10168fa0fb8698">current_section_name2</a>);
<a name="l01629"></a>01629             }
<a name="l01630"></a>01630           <span class="keywordflow">return</span>;
<a name="l01631"></a>01631         }
<a name="l01632"></a>01632       <span class="keywordflow">else</span>
<a name="l01633"></a>01633         <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = <a class="code" href="l__parms_8c.html#aaa6fc5fe57512c37755e5316453c0fa">L_get_parm_table_entry</a> (list, name);
<a name="l01634"></a>01634     }
<a name="l01635"></a>01635 
<a name="l01636"></a>01636   <span class="keywordflow">if</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value[0] == <span class="charliteral">'\0'</span>)
<a name="l01637"></a>01637     *ptr = 1;
<a name="l01638"></a>01638   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="l__parms_8c.html#4765bf6935180114326aeea11d1c65ae">L_pmatch</a> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value, <span class="stringliteral">"yes"</span>) ||
<a name="l01639"></a>01639            <a class="code" href="l__parms_8c.html#4765bf6935180114326aeea11d1c65ae">L_pmatch</a> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value, <span class="stringliteral">"y"</span>) ||
<a name="l01640"></a>01640            <a class="code" href="l__parms_8c.html#4765bf6935180114326aeea11d1c65ae">L_pmatch</a> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value, <span class="stringliteral">"1"</span>) || <a class="code" href="l__parms_8c.html#4765bf6935180114326aeea11d1c65ae">L_pmatch</a> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value, <span class="stringliteral">"on"</span>))
<a name="l01641"></a>01641     *ptr = 1;
<a name="l01642"></a>01642 
<a name="l01643"></a>01643   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="l__parms_8c.html#4765bf6935180114326aeea11d1c65ae">L_pmatch</a> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value, <span class="stringliteral">"no"</span>) ||
<a name="l01644"></a>01644            <a class="code" href="l__parms_8c.html#4765bf6935180114326aeea11d1c65ae">L_pmatch</a> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value, <span class="stringliteral">"n"</span>) ||
<a name="l01645"></a>01645            <a class="code" href="l__parms_8c.html#4765bf6935180114326aeea11d1c65ae">L_pmatch</a> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value, <span class="stringliteral">"0"</span>) || <a class="code" href="l__parms_8c.html#4765bf6935180114326aeea11d1c65ae">L_pmatch</a> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value, <span class="stringliteral">"off"</span>))
<a name="l01646"></a>01646     *ptr = 0;
<a name="l01647"></a>01647 
<a name="l01648"></a>01648   <span class="keywordflow">else</span>
<a name="l01649"></a>01649     <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"%s line %i: parm '%s' expects a binary setting, not '%s'"</span>,
<a name="l01650"></a>01650             <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_file_name, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_line_no, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name,
<a name="l01651"></a>01651             <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value);
<a name="l01652"></a>01652 
<a name="l01653"></a>01653   <span class="keywordflow">return</span>;
<a name="l01654"></a>01654 }
<a name="l01655"></a>01655 
<a name="l01656"></a>01656 <span class="comment">/* Reads in an string parameter, everything on the line is taken.</span>
<a name="l01657"></a>01657 <span class="comment"> * Returns 1 if parm read in, 0 if not.</span>
<a name="l01658"></a>01658 <span class="comment"> */</span>
<a name="l01659"></a>01659 <span class="keywordtype">void</span>
<a name="l01660"></a><a class="code" href="l__parms_8h.html#17491a48ac859e9eed6815fc3ff723d9">01660</a> <a class="code" href="l__parms_8c.html#17491a48ac859e9eed6815fc3ff723d9">L_read_parm_s</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi_in, <span class="keywordtype">char</span> *<a class="code" href="c__basic_8c.html#5ac083a645d964373f022d03df4849c8">name</a>, <span class="keywordtype">char</span> **ptr)
<a name="l01661"></a>01661 {
<a name="l01662"></a>01662   <a class="code" href="structparm__table__list.html">Parm_Table_List</a> *<a class="code" href="structlist.html">list</a>;
<a name="l01663"></a>01663   <a class="code" href="structparm__table__node.html">Parm_Table_Node</a> *<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l01664"></a>01664   <span class="keywordtype">int</span> dev_parm;
<a name="l01665"></a>01665 
<a name="l01666"></a>01666   list = ppi_in-&gt;<a class="code" href="structparm__parse__info__st.html#b703c181b4299e93d8fb87c10294096d">parm_list</a>;
<a name="l01667"></a>01667   <span class="comment">/* Strip leading whitespace */</span>
<a name="l01668"></a>01668   <span class="keywordflow">while</span> (isspace (*name))
<a name="l01669"></a>01669     name++;
<a name="l01670"></a>01670 
<a name="l01671"></a>01671   <span class="comment">/* If leading char '?', then dev parm (warn on different flag) */</span>
<a name="l01672"></a>01672   dev_parm = 0;
<a name="l01673"></a>01673   <span class="keywordflow">if</span> (*name == <span class="charliteral">'?'</span>)
<a name="l01674"></a>01674     {
<a name="l01675"></a>01675       dev_parm = 1;
<a name="l01676"></a>01676       name++;
<a name="l01677"></a>01677     }
<a name="l01678"></a>01678 
<a name="l01679"></a>01679   <span class="comment">/* Do we have this parmater in the buffer, if no, return */</span>
<a name="l01680"></a>01680   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = <a class="code" href="l__parms_8c.html#aaa6fc5fe57512c37755e5316453c0fa">L_get_parm_table_entry</a> (list, name);
<a name="l01681"></a>01681   <span class="keywordflow">if</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01682"></a>01682     {
<a name="l01683"></a>01683       <span class="keywordflow">if</span> (!<a class="code" href="l__parms_8c.html#4e81593e5d5157a86ef115b9b6049e64">look_for_forced_param</a> (name, ppi_in-&gt;<a class="code" href="structparm__parse__info__st.html#9bed9131e54df85ba3dacc6e598386cb">command_line_list</a>))
<a name="l01684"></a>01684         {
<a name="l01685"></a>01685           <span class="keywordflow">if</span> (!dev_parm || <a class="code" href="l__parms_8c.html#e4e406bd7aa9be4a24b2a33ea728e4db">L_warn_dev_parm_not_defined</a>)
<a name="l01686"></a>01686             {
<a name="l01687"></a>01687               <a class="code" href="l__parms_8c.html#85b066cb30b7b9673e83af5767eb0acd">L_add_parm_not_defined</a> (name, <a class="code" href="l__parms_8c.html#64158f38584b29f5a0cfcecd40f8ac89">current_section_name1</a>,
<a name="l01688"></a>01688                                       <a class="code" href="l__parms_8c.html#f4165fc0be67b713ba10168fa0fb8698">current_section_name2</a>);
<a name="l01689"></a>01689             }
<a name="l01690"></a>01690           <span class="keywordflow">return</span>;
<a name="l01691"></a>01691         }
<a name="l01692"></a>01692       <span class="keywordflow">else</span>
<a name="l01693"></a>01693         <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = <a class="code" href="l__parms_8c.html#aaa6fc5fe57512c37755e5316453c0fa">L_get_parm_table_entry</a> (list, name);
<a name="l01694"></a>01694     }
<a name="l01695"></a>01695 
<a name="l01696"></a>01696   <span class="comment">/* set string parameter to setting */</span>
<a name="l01697"></a>01697   <a class="code" href="l__parms_8c.html#d2ff90330481ecb555f26f90a1d3c152">L_set_parm_s</a> (ptr, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value);
<a name="l01698"></a>01698 
<a name="l01699"></a>01699   <span class="keywordflow">return</span>;
<a name="l01700"></a>01700 }
<a name="l01701"></a>01701 
<a name="l01702"></a>01702 <span class="comment">/* Reads in an float parameter.  Nothing else may be on the line. </span>
<a name="l01703"></a>01703 <span class="comment"> */</span>
<a name="l01704"></a>01704 <span class="keywordtype">void</span>
<a name="l01705"></a><a class="code" href="l__parms_8h.html#69d2c69fef1a9100a445b1bac6dbce60">01705</a> <a class="code" href="l__parms_8c.html#69d2c69fef1a9100a445b1bac6dbce60">L_read_parm_f</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi_in, <span class="keywordtype">char</span> *<a class="code" href="c__basic_8c.html#5ac083a645d964373f022d03df4849c8">name</a>, <span class="keywordtype">float</span> *ptr)
<a name="l01706"></a>01706 {
<a name="l01707"></a>01707   <a class="code" href="structparm__table__list.html">Parm_Table_List</a> *<a class="code" href="structlist.html">list</a>;
<a name="l01708"></a>01708   <a class="code" href="structparm__table__node.html">Parm_Table_Node</a> *<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l01709"></a>01709   <span class="keywordtype">char</span> *end_ptr;
<a name="l01710"></a>01710   <span class="keywordtype">int</span> dev_parm;
<a name="l01711"></a>01711 
<a name="l01712"></a>01712   list = ppi_in-&gt;<a class="code" href="structparm__parse__info__st.html#b703c181b4299e93d8fb87c10294096d">parm_list</a>;
<a name="l01713"></a>01713   <span class="comment">/* Strip leading whitespace */</span>
<a name="l01714"></a>01714   <span class="keywordflow">while</span> (isspace (*name))
<a name="l01715"></a>01715     name++;
<a name="l01716"></a>01716 
<a name="l01717"></a>01717   <span class="comment">/* If leading char '?', then dev parm (warn on different flag) */</span>
<a name="l01718"></a>01718   dev_parm = 0;
<a name="l01719"></a>01719   <span class="keywordflow">if</span> (*name == <span class="charliteral">'?'</span>)
<a name="l01720"></a>01720     {
<a name="l01721"></a>01721       dev_parm = 1;
<a name="l01722"></a>01722       name++;
<a name="l01723"></a>01723     }
<a name="l01724"></a>01724 
<a name="l01725"></a>01725   <span class="comment">/* Do we have this paramater in the buffer, if no, return */</span>
<a name="l01726"></a>01726   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = <a class="code" href="l__parms_8c.html#aaa6fc5fe57512c37755e5316453c0fa">L_get_parm_table_entry</a> (list, name);
<a name="l01727"></a>01727   <span class="keywordflow">if</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01728"></a>01728     {
<a name="l01729"></a>01729       <span class="keywordflow">if</span> (!<a class="code" href="l__parms_8c.html#4e81593e5d5157a86ef115b9b6049e64">look_for_forced_param</a> (name, ppi_in-&gt;<a class="code" href="structparm__parse__info__st.html#9bed9131e54df85ba3dacc6e598386cb">command_line_list</a>))
<a name="l01730"></a>01730         {
<a name="l01731"></a>01731           <span class="keywordflow">if</span> (!dev_parm || <a class="code" href="l__parms_8c.html#e4e406bd7aa9be4a24b2a33ea728e4db">L_warn_dev_parm_not_defined</a>)
<a name="l01732"></a>01732             {
<a name="l01733"></a>01733               <a class="code" href="l__parms_8c.html#85b066cb30b7b9673e83af5767eb0acd">L_add_parm_not_defined</a> (name, <a class="code" href="l__parms_8c.html#64158f38584b29f5a0cfcecd40f8ac89">current_section_name1</a>,
<a name="l01734"></a>01734                                       <a class="code" href="l__parms_8c.html#f4165fc0be67b713ba10168fa0fb8698">current_section_name2</a>);
<a name="l01735"></a>01735             }
<a name="l01736"></a>01736           <span class="keywordflow">return</span>;
<a name="l01737"></a>01737         }
<a name="l01738"></a>01738       <span class="keywordflow">else</span>
<a name="l01739"></a>01739         <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = <a class="code" href="l__parms_8c.html#aaa6fc5fe57512c37755e5316453c0fa">L_get_parm_table_entry</a> (list, name);
<a name="l01740"></a>01740     }
<a name="l01741"></a>01741 
<a name="l01742"></a>01742   <span class="comment">/* Read in as double, converted to float */</span>
<a name="l01743"></a>01743   *ptr = strtod (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value, &amp;end_ptr);
<a name="l01744"></a>01744 
<a name="l01745"></a>01745   <span class="comment">/* Make sure properly read in */</span>
<a name="l01746"></a>01746   <span class="keywordflow">if</span> (*end_ptr != 0)
<a name="l01747"></a>01747     {
<a name="l01748"></a>01748       <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"%s line %i parameter %s: invalid float '%s'"</span>,
<a name="l01749"></a>01749               <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_file_name, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_line_no, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name,
<a name="l01750"></a>01750               <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value);
<a name="l01751"></a>01751     }
<a name="l01752"></a>01752 
<a name="l01753"></a>01753   <span class="keywordflow">return</span>;
<a name="l01754"></a>01754 }
<a name="l01755"></a>01755 
<a name="l01756"></a>01756 <span class="comment">/* Reads in an double parameter.  Nothing else may be on the line. </span>
<a name="l01757"></a>01757 <span class="comment"> */</span>
<a name="l01758"></a>01758 <span class="keywordtype">void</span>
<a name="l01759"></a><a class="code" href="l__parms_8h.html#a4e8c282fc28f81f6ece6a572d0b9b12">01759</a> <a class="code" href="l__parms_8c.html#a4e8c282fc28f81f6ece6a572d0b9b12">L_read_parm_lf</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi_in, <span class="keywordtype">char</span> *<a class="code" href="c__basic_8c.html#5ac083a645d964373f022d03df4849c8">name</a>, <span class="keywordtype">double</span> *ptr)
<a name="l01760"></a>01760 {
<a name="l01761"></a>01761   <a class="code" href="structparm__table__list.html">Parm_Table_List</a> *<a class="code" href="structlist.html">list</a>;
<a name="l01762"></a>01762   <a class="code" href="structparm__table__node.html">Parm_Table_Node</a> *<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>;
<a name="l01763"></a>01763   <span class="keywordtype">char</span> *end_ptr;
<a name="l01764"></a>01764   <span class="keywordtype">int</span> dev_parm;
<a name="l01765"></a>01765 
<a name="l01766"></a>01766   list = ppi_in-&gt;<a class="code" href="structparm__parse__info__st.html#b703c181b4299e93d8fb87c10294096d">parm_list</a>;
<a name="l01767"></a>01767   <span class="comment">/* Strip leading whitespace */</span>
<a name="l01768"></a>01768   <span class="keywordflow">while</span> (isspace (*name))
<a name="l01769"></a>01769     name++;
<a name="l01770"></a>01770 
<a name="l01771"></a>01771   <span class="comment">/* If leading char '?', then dev parm (warn on different flag) */</span>
<a name="l01772"></a>01772   dev_parm = 0;
<a name="l01773"></a>01773   <span class="keywordflow">if</span> (*name == <span class="charliteral">'?'</span>)
<a name="l01774"></a>01774     {
<a name="l01775"></a>01775       dev_parm = 1;
<a name="l01776"></a>01776       name++;
<a name="l01777"></a>01777     }
<a name="l01778"></a>01778 
<a name="l01779"></a>01779   <span class="comment">/* Do we have this paramater in the buffer, if no, return */</span>
<a name="l01780"></a>01780   <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = <a class="code" href="l__parms_8c.html#aaa6fc5fe57512c37755e5316453c0fa">L_get_parm_table_entry</a> (list, name);
<a name="l01781"></a>01781   <span class="keywordflow">if</span> (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01782"></a>01782     {
<a name="l01783"></a>01783       <span class="keywordflow">if</span> (!<a class="code" href="l__parms_8c.html#4e81593e5d5157a86ef115b9b6049e64">look_for_forced_param</a> (name, ppi_in-&gt;<a class="code" href="structparm__parse__info__st.html#9bed9131e54df85ba3dacc6e598386cb">command_line_list</a>))
<a name="l01784"></a>01784         {
<a name="l01785"></a>01785           <span class="keywordflow">if</span> (!dev_parm || <a class="code" href="l__parms_8c.html#e4e406bd7aa9be4a24b2a33ea728e4db">L_warn_dev_parm_not_defined</a>)
<a name="l01786"></a>01786             {
<a name="l01787"></a>01787               <a class="code" href="l__parms_8c.html#85b066cb30b7b9673e83af5767eb0acd">L_add_parm_not_defined</a> (name, <a class="code" href="l__parms_8c.html#64158f38584b29f5a0cfcecd40f8ac89">current_section_name1</a>,
<a name="l01788"></a>01788                                       <a class="code" href="l__parms_8c.html#f4165fc0be67b713ba10168fa0fb8698">current_section_name2</a>);
<a name="l01789"></a>01789             }
<a name="l01790"></a>01790           <span class="keywordflow">return</span>;
<a name="l01791"></a>01791         }
<a name="l01792"></a>01792       <span class="keywordflow">else</span>
<a name="l01793"></a>01793         <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a> = <a class="code" href="l__parms_8c.html#aaa6fc5fe57512c37755e5316453c0fa">L_get_parm_table_entry</a> (list, name);
<a name="l01794"></a>01794     }
<a name="l01795"></a>01795 
<a name="l01796"></a>01796   <span class="comment">/* Read in as double, converted to float */</span>
<a name="l01797"></a>01797   *ptr = strtod (<a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value, &amp;end_ptr);
<a name="l01798"></a>01798 
<a name="l01799"></a>01799   <span class="comment">/* Make sure properly read in */</span>
<a name="l01800"></a>01800   <span class="keywordflow">if</span> (*end_ptr != 0)
<a name="l01801"></a>01801     {
<a name="l01802"></a>01802       <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"%s line %i parameter %s: invalid double '%s'"</span>,
<a name="l01803"></a>01803               <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_file_name, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;parm_line_no, <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;name,
<a name="l01804"></a>01804               <a class="code" href="dataflow_8c.html#69971143e908d3fc31e596632d5a4073">node</a>-&gt;value);
<a name="l01805"></a>01805     }
<a name="l01806"></a>01806 
<a name="l01807"></a>01807   <span class="keywordflow">return</span>;
<a name="l01808"></a>01808 }
<a name="l01809"></a>01809 
<a name="l01810"></a>01810 
<a name="l01811"></a>01811 <span class="comment">/*</span>
<a name="l01812"></a>01812 <span class="comment"> * Gets next parameter line, partially parsed.</span>
<a name="l01813"></a>01813 <span class="comment"> * Returns 1 if successful, 0 otherwise.</span>
<a name="l01814"></a>01814 <span class="comment"> */</span>
<a name="l01815"></a>01815 <span class="keyword">static</span> <span class="keywordtype">int</span>
<a name="l01816"></a><a class="code" href="l__parms_8c.html#c08a9d9f28e265fdc4c89644b5dd64c7">01816</a> <a class="code" href="l__parms_8c.html#c08a9d9f28e265fdc4c89644b5dd64c7">L_get_next_parm</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi)
<a name="l01817"></a>01817 {
<a name="l01818"></a>01818   <span class="keywordtype">char</span> *ptr, *parm;
<a name="l01819"></a>01819   <span class="keywordtype">char</span> *setting_ptr;
<a name="l01820"></a>01820   <span class="keywordtype">int</span> count, i;
<a name="l01821"></a>01821 
<a name="l01822"></a>01822   <span class="keywordflow">while</span> (fgets (ppi-&gt;<a class="code" href="structparm__parse__info__st.html#c665658a60ac4b3e797cff7c3c6f3ef7">line_buf</a>, <a class="code" href="l__parms_8h.html#a607c62ad2844f14adaaf6df59576b10">PARM_LINE_MAX</a>, ppi-&gt;<a class="code" href="structparm__parse__info__st.html#6155e6a99d067e72711907b6b38c8860">file</a>) != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01823"></a>01823     {
<a name="l01824"></a>01824       ppi-&gt;<a class="code" href="structparm__parse__info__st.html#273f11c637779d64b112ec663692d5f4">line_no</a>++;
<a name="l01825"></a>01825 
<a name="l01826"></a>01826       ptr = ppi-&gt;<a class="code" href="structparm__parse__info__st.html#c665658a60ac4b3e797cff7c3c6f3ef7">line_buf</a>;
<a name="l01827"></a>01827 
<a name="l01828"></a>01828       <span class="comment">/* Skip whitespace */</span>
<a name="l01829"></a>01829       <span class="keywordflow">while</span> (isspace (*ptr))
<a name="l01830"></a>01830         ptr++;
<a name="l01831"></a>01831 
<a name="l01832"></a>01832       <span class="comment">/* Skip comments */</span>
<a name="l01833"></a>01833       <span class="keywordflow">if</span> ((*ptr == 0) || (*ptr == <span class="charliteral">'#'</span>))
<a name="l01834"></a>01834         <span class="keywordflow">continue</span>;
<a name="l01835"></a>01835 
<a name="l01836"></a>01836       <span class="comment">/* Copy parm to parm_buf (delimited by white space or '=') */</span>
<a name="l01837"></a>01837       parm = ppi-&gt;<a class="code" href="structparm__parse__info__st.html#5aa2d50e0585127a892d55485f4625c3">parm_buf</a>;
<a name="l01838"></a>01838       <span class="keywordflow">while</span> (!isspace (*ptr) &amp;&amp; (*ptr != <span class="charliteral">'='</span>))
<a name="l01839"></a>01839         {
<a name="l01840"></a>01840           *parm = *ptr;
<a name="l01841"></a>01841           ptr++;
<a name="l01842"></a>01842           parm++;
<a name="l01843"></a>01843         }
<a name="l01844"></a>01844       *parm = 0;
<a name="l01845"></a>01845 
<a name="l01846"></a>01846       <span class="comment">/* find beginning of parm setting */</span>
<a name="l01847"></a>01847 
<a name="l01848"></a>01848       <span class="keywordflow">while</span> (isspace (*ptr) || (*ptr == <span class="charliteral">'='</span>))
<a name="l01849"></a>01849         ptr++;
<a name="l01850"></a>01850 
<a name="l01851"></a>01851       <span class="comment">/* Point setting at beginning of setting */</span>
<a name="l01852"></a>01852       setting_ptr = ptr;
<a name="l01853"></a>01853 
<a name="l01854"></a>01854       <span class="comment">/* Remove comments and trailing whitespace from buffer */</span>
<a name="l01855"></a>01855       <span class="comment">/* First, find end of buffer or start of comment */</span>
<a name="l01856"></a>01856       <span class="keywordflow">while</span> ((*ptr != 0) &amp;&amp; (*ptr != <span class="charliteral">'#'</span>))
<a name="l01857"></a>01857         {
<a name="l01858"></a>01858           <span class="comment">/* Allow \# to be read as a # not as a begin  comment */</span>
<a name="l01859"></a>01859           <span class="keywordflow">if</span> ((*ptr == <span class="charliteral">'\\'</span>) &amp;&amp; (ptr[1] == <span class="charliteral">'#'</span>))
<a name="l01860"></a>01860             ptr += 2;
<a name="l01861"></a>01861           <span class="keywordflow">else</span>
<a name="l01862"></a>01862             ptr++;
<a name="l01863"></a>01863         }
<a name="l01864"></a>01864 
<a name="l01865"></a>01865       <span class="comment">/* If found '#', rest is comment, terminate here */</span>
<a name="l01866"></a>01866       <span class="keywordflow">if</span> (*ptr == <span class="charliteral">'#'</span>)
<a name="l01867"></a>01867         *ptr = 0;
<a name="l01868"></a>01868 
<a name="l01869"></a>01869       <span class="comment">/* Back up to character before termintation */</span>
<a name="l01870"></a>01870       ptr--;
<a name="l01871"></a>01871 
<a name="l01872"></a>01872       <span class="comment">/* Strip off trailing white space */</span>
<a name="l01873"></a>01873       <span class="keywordflow">while</span> (isspace (*ptr))
<a name="l01874"></a>01874         {
<a name="l01875"></a>01875           *ptr = 0;
<a name="l01876"></a>01876           ptr--;
<a name="l01877"></a>01877         }
<a name="l01878"></a>01878 
<a name="l01879"></a>01879       <span class="comment">/* Strip off at most one trailing ; */</span>
<a name="l01880"></a>01880       <span class="keywordflow">if</span> (*ptr == <span class="charliteral">';'</span>)
<a name="l01881"></a>01881         {
<a name="l01882"></a>01882           *ptr = 0;
<a name="l01883"></a>01883           ptr--;
<a name="l01884"></a>01884         }
<a name="l01885"></a>01885 
<a name="l01886"></a>01886       <span class="comment">/* Strip off trailing white space (after ; stripped) */</span>
<a name="l01887"></a>01887       <span class="keywordflow">while</span> (isspace (*ptr))
<a name="l01888"></a>01888         {
<a name="l01889"></a>01889           *ptr = 0;
<a name="l01890"></a>01890           ptr--;
<a name="l01891"></a>01891         }
<a name="l01892"></a>01892 
<a name="l01893"></a>01893 
<a name="l01894"></a>01894       <span class="comment">/* Expand macros in setting field, write to setting buffer */</span>
<a name="l01895"></a>01895       <a class="code" href="l__parms_8c.html#a8daa04b51e71adb5f4707982295e612">L_expand_parm_macros</a> (ppi, setting_ptr, ppi-&gt;<a class="code" href="structparm__parse__info__st.html#255049943de34c7e2cd0d3e5d6a789cc">setting</a>, <a class="code" href="l__parms_8h.html#843182a0fe4b6533e1f4deb16dd0a0d6">PARM_BUF_MAX</a>);
<a name="l01896"></a>01896 
<a name="l01897"></a>01897       <span class="comment">/* </span>
<a name="l01898"></a>01898 <span class="comment">       * Get macro definitions and put into internal list.</span>
<a name="l01899"></a>01899 <span class="comment">       * Dont return to caller, process next line.</span>
<a name="l01900"></a>01900 <span class="comment">       */</span>
<a name="l01901"></a>01901       <span class="keywordflow">if</span> (ppi-&gt;<a class="code" href="structparm__parse__info__st.html#5aa2d50e0585127a892d55485f4625c3">parm_buf</a>[0] == <span class="charliteral">'$'</span>)
<a name="l01902"></a>01902         {
<a name="l01903"></a>01903           <span class="comment">/* Make sure have exactly two '$'s in macro name */</span>
<a name="l01904"></a>01904           count = 0;
<a name="l01905"></a>01905           <span class="keywordflow">for</span> (i = 0; ppi-&gt;<a class="code" href="structparm__parse__info__st.html#5aa2d50e0585127a892d55485f4625c3">parm_buf</a>[i] != 0; i++)
<a name="l01906"></a>01906             {
<a name="l01907"></a>01907               <span class="keywordflow">if</span> (ppi-&gt;<a class="code" href="structparm__parse__info__st.html#5aa2d50e0585127a892d55485f4625c3">parm_buf</a>[i] == <span class="charliteral">'$'</span>)
<a name="l01908"></a>01908                 count++;
<a name="l01909"></a>01909               if (isspace (ppi-&gt;<a class="code" href="structparm__parse__info__st.html#5aa2d50e0585127a892d55485f4625c3">parm_buf</a>[i]))
<a name="l01910"></a>01910                 I_punt (<span class="stringliteral">"Macro name '%s' cannot have whitespace in it\n"</span>,
<a name="l01911"></a>01911                         ppi-&gt;<a class="code" href="structparm__parse__info__st.html#5aa2d50e0585127a892d55485f4625c3">parm_buf</a>);
<a name="l01912"></a>01912             }
<a name="l01913"></a>01913 
<a name="l01914"></a>01914           <span class="keywordflow">if</span> ((ppi-&gt;<a class="code" href="structparm__parse__info__st.html#5aa2d50e0585127a892d55485f4625c3">parm_buf</a>[0] != <span class="charliteral">'$'</span>) || (ppi-&gt;<a class="code" href="structparm__parse__info__st.html#5aa2d50e0585127a892d55485f4625c3">parm_buf</a>[i - 1] != <span class="charliteral">'$'</span>) ||
<a name="l01915"></a>01915               (i &lt; 3) || (count != 2))
<a name="l01916"></a>01916             I_punt (<span class="stringliteral">"Badly formed macro name '%s'\n"</span>, ppi-&gt;<a class="code" href="structparm__parse__info__st.html#5aa2d50e0585127a892d55485f4625c3">parm_buf</a>);
<a name="l01917"></a>01917 
<a name="l01918"></a>01918 
<a name="l01919"></a>01919           <a class="code" href="l__parms_8c.html#161297346e7b7187fe6b8ba6cf0ad8c9">L_define_parm_macro</a> (ppi-&gt;<a class="code" href="structparm__parse__info__st.html#96eede8ab3525eab8199d38dd5d3c7cb">internal_list</a>[ppi-&gt;<a class="code" href="structparm__parse__info__st.html#22828bed68ce338415b8382c07077278">internal_level</a>],
<a name="l01920"></a>01920                                ppi-&gt;<a class="code" href="structparm__parse__info__st.html#5aa2d50e0585127a892d55485f4625c3">parm_buf</a>, ppi-&gt;<a class="code" href="structparm__parse__info__st.html#255049943de34c7e2cd0d3e5d6a789cc">setting</a>, <a class="code" href="l__parms_8h.html#42b3b86e57349beb5811eb1a0ee11b7f">PARM_INTERNAL</a>);
<a name="l01921"></a>01921           <span class="keywordflow">continue</span>;
<a name="l01922"></a>01922         }
<a name="l01923"></a>01923 
<a name="l01924"></a>01924       <span class="comment">/* Line successfully read, return 1 */</span>
<a name="l01925"></a>01925       <span class="keywordflow">return</span> (1);
<a name="l01926"></a>01926     }
<a name="l01927"></a>01927 
<a name="l01928"></a>01928   <span class="comment">/* End of file, return 0 */</span>
<a name="l01929"></a>01929   <span class="keywordflow">return</span> (0);
<a name="l01930"></a>01930 
<a name="l01931"></a>01931 }
<a name="l01932"></a>01932 
<a name="l01933"></a>01933 
<a name="l01934"></a><a class="code" href="l__parms_8c.html#9c0558ad765472aac57bb0954a80ae97">01934</a> <span class="preprocessor">#define TNULL   0</span>
<a name="l01935"></a><a class="code" href="l__parms_8c.html#9108d631d79d040b0634d924ecddf65f">01935</a> <span class="preprocessor"></span><span class="preprocessor">#define TPLUS   1</span>
<a name="l01936"></a><a class="code" href="l__parms_8c.html#40a9113c885ef2de24d8242ee97238d8">01936</a> <span class="preprocessor"></span><span class="preprocessor">#define TMINUS  2</span>
<a name="l01937"></a><a class="code" href="l__parms_8c.html#76b814f2784fb1774481f493a4e55595">01937</a> <span class="preprocessor"></span><span class="preprocessor">#define TSTAR   3</span>
<a name="l01938"></a><a class="code" href="l__parms_8c.html#90cc25bfce659c3fea0b263002d9c325">01938</a> <span class="preprocessor"></span><span class="preprocessor">#define TSLASH  4</span>
<a name="l01939"></a><a class="code" href="l__parms_8c.html#c6e8753cb9d6d985c511eabd864875dc">01939</a> <span class="preprocessor"></span><span class="preprocessor">#define TLPARN  5</span>
<a name="l01940"></a><a class="code" href="l__parms_8c.html#2132051c32c4d62671b5760afb92bdc6">01940</a> <span class="preprocessor"></span><span class="preprocessor">#define TRPARN  6</span>
<a name="l01941"></a><a class="code" href="l__parms_8c.html#d00501132f47c93fefe8907a7023e0f0">01941</a> <span class="preprocessor"></span><span class="preprocessor">#define TNUM    7</span>
<a name="l01942"></a>01942 <span class="preprocessor"></span>
<a name="l01943"></a>01943 <span class="comment">/* Calculate the value of the complete expression.  Punt if</span>
<a name="l01944"></a>01944 <span class="comment"> * anything is left over after expression's value is calculated.</span>
<a name="l01945"></a>01945 <span class="comment"> */</span>
<a name="l01946"></a>01946 <span class="keywordtype">int</span>
<a name="l01947"></a><a class="code" href="l__parms_8c.html#62df370fac8e8f6cd66971ce843bab9c">01947</a> <a class="code" href="l__parms_8c.html#62df370fac8e8f6cd66971ce843bab9c">L_parm_calc_complete_expr</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi)
<a name="l01948"></a>01948 {
<a name="l01949"></a>01949   <span class="keywordtype">int</span> result;
<a name="l01950"></a>01950 
<a name="l01951"></a>01951   <span class="comment">/* Get the expression's value */</span>
<a name="l01952"></a>01952   result = <a class="code" href="l__parms_8c.html#649df4f104c79430336518dfcb1ae25b">L_parm_calc_expr</a> (ppi);
<a name="l01953"></a>01953 
<a name="l01954"></a>01954   <span class="comment">/* Punt if there is anything left that was not parsed */</span>
<a name="l01955"></a>01955   <span class="keywordflow">if</span> (ppi-&gt;<a class="code" href="structparm__parse__info__st.html#2473bd5d235abc51e152ae76cfb8d116">calc_ptr</a>[0] != 0)
<a name="l01956"></a>01956     {
<a name="l01957"></a>01957       <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"%s line %i: Expr formulation error.  "</span>
<a name="l01958"></a>01958               <span class="stringliteral">"Unable to process '%s'."</span>,
<a name="l01959"></a>01959               ppi-&gt;<a class="code" href="structparm__parse__info__st.html#fbf0cb338be728d03c81c82014182c55">name</a>, ppi-&gt;<a class="code" href="structparm__parse__info__st.html#273f11c637779d64b112ec663692d5f4">line_no</a>, ppi-&gt;<a class="code" href="structparm__parse__info__st.html#2473bd5d235abc51e152ae76cfb8d116">calc_ptr</a>);
<a name="l01960"></a>01960     }
<a name="l01961"></a>01961 
<a name="l01962"></a>01962   <span class="keywordflow">return</span> (result);
<a name="l01963"></a>01963 }
<a name="l01964"></a>01964 
<a name="l01965"></a>01965 <span class="keywordtype">int</span>
<a name="l01966"></a><a class="code" href="l__parms_8c.html#649df4f104c79430336518dfcb1ae25b">01966</a> <a class="code" href="l__parms_8c.html#649df4f104c79430336518dfcb1ae25b">L_parm_calc_expr</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi)
<a name="l01967"></a>01967 {
<a name="l01968"></a>01968   <span class="keywordtype">int</span> result;
<a name="l01969"></a>01969 
<a name="l01970"></a>01970   result = <a class="code" href="l__parms_8c.html#ecd188d9e927027fdad268e4732f483c">L_parm_calc_term</a> (ppi);
<a name="l01971"></a>01971 
<a name="l01972"></a>01972   <span class="keywordflow">while</span> (1)
<a name="l01973"></a>01973     {
<a name="l01974"></a>01974       <a class="code" href="l__parms_8c.html#62b8261e0d0f3321051b7dccf11ef24f">L_peek_next_token</a> (ppi);
<a name="l01975"></a>01975       <span class="keywordflow">if</span> (ppi-&gt;<a class="code" href="structparm__parse__info__st.html#f0c50859a3492770c059b24e64c54a9e">token</a> == <a class="code" href="l__parms_8c.html#9108d631d79d040b0634d924ecddf65f">TPLUS</a>)
<a name="l01976"></a>01976         {
<a name="l01977"></a>01977           <a class="code" href="l__parms_8c.html#a72a0feb27cdbf381044fe530f4b537f">L_get_next_token</a> (ppi);
<a name="l01978"></a>01978           result = result + <a class="code" href="l__parms_8c.html#ecd188d9e927027fdad268e4732f483c">L_parm_calc_term</a> (ppi);
<a name="l01979"></a>01979         }
<a name="l01980"></a>01980       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ppi-&gt;<a class="code" href="structparm__parse__info__st.html#f0c50859a3492770c059b24e64c54a9e">token</a> == <a class="code" href="l__parms_8c.html#40a9113c885ef2de24d8242ee97238d8">TMINUS</a>)
<a name="l01981"></a>01981         {
<a name="l01982"></a>01982           <a class="code" href="l__parms_8c.html#a72a0feb27cdbf381044fe530f4b537f">L_get_next_token</a> (ppi);
<a name="l01983"></a>01983           result = result - <a class="code" href="l__parms_8c.html#ecd188d9e927027fdad268e4732f483c">L_parm_calc_term</a> (ppi);
<a name="l01984"></a>01984         }
<a name="l01985"></a>01985       <span class="keywordflow">else</span>
<a name="l01986"></a>01986         <span class="keywordflow">break</span>;
<a name="l01987"></a>01987     }
<a name="l01988"></a>01988   <span class="keywordflow">return</span> (result);
<a name="l01989"></a>01989 
<a name="l01990"></a>01990 }
<a name="l01991"></a>01991 <span class="keywordtype">int</span>
<a name="l01992"></a><a class="code" href="l__parms_8c.html#ecd188d9e927027fdad268e4732f483c">01992</a> <a class="code" href="l__parms_8c.html#ecd188d9e927027fdad268e4732f483c">L_parm_calc_term</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi)
<a name="l01993"></a>01993 {
<a name="l01994"></a>01994   <span class="keywordtype">int</span> result;
<a name="l01995"></a>01995 
<a name="l01996"></a>01996   result = <a class="code" href="l__parms_8c.html#25b2cc41359c9986b0621e8e529b252a">L_parm_calc_factor</a> (ppi);
<a name="l01997"></a>01997 
<a name="l01998"></a>01998   <span class="keywordflow">while</span> (1)
<a name="l01999"></a>01999     {
<a name="l02000"></a>02000       <a class="code" href="l__parms_8c.html#62b8261e0d0f3321051b7dccf11ef24f">L_peek_next_token</a> (ppi);
<a name="l02001"></a>02001       <span class="keywordflow">if</span> (ppi-&gt;<a class="code" href="structparm__parse__info__st.html#f0c50859a3492770c059b24e64c54a9e">token</a> == <a class="code" href="l__parms_8c.html#76b814f2784fb1774481f493a4e55595">TSTAR</a>)
<a name="l02002"></a>02002         {
<a name="l02003"></a>02003           <a class="code" href="l__parms_8c.html#a72a0feb27cdbf381044fe530f4b537f">L_get_next_token</a> (ppi);
<a name="l02004"></a>02004           result = result * <a class="code" href="l__parms_8c.html#25b2cc41359c9986b0621e8e529b252a">L_parm_calc_factor</a> (ppi);
<a name="l02005"></a>02005         }
<a name="l02006"></a>02006       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ppi-&gt;<a class="code" href="structparm__parse__info__st.html#f0c50859a3492770c059b24e64c54a9e">token</a> == <a class="code" href="l__parms_8c.html#90cc25bfce659c3fea0b263002d9c325">TSLASH</a>)
<a name="l02007"></a>02007         {
<a name="l02008"></a>02008           <a class="code" href="l__parms_8c.html#a72a0feb27cdbf381044fe530f4b537f">L_get_next_token</a> (ppi);
<a name="l02009"></a>02009           result = result / <a class="code" href="l__parms_8c.html#25b2cc41359c9986b0621e8e529b252a">L_parm_calc_factor</a> (ppi);
<a name="l02010"></a>02010         }
<a name="l02011"></a>02011       <span class="keywordflow">else</span>
<a name="l02012"></a>02012         <span class="keywordflow">break</span>;
<a name="l02013"></a>02013     }
<a name="l02014"></a>02014   <span class="keywordflow">return</span> (result);
<a name="l02015"></a>02015 
<a name="l02016"></a>02016 }
<a name="l02017"></a>02017 <span class="keywordtype">int</span>
<a name="l02018"></a><a class="code" href="l__parms_8c.html#25b2cc41359c9986b0621e8e529b252a">02018</a> <a class="code" href="l__parms_8c.html#25b2cc41359c9986b0621e8e529b252a">L_parm_calc_factor</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi)
<a name="l02019"></a>02019 {
<a name="l02020"></a>02020   <span class="keywordtype">int</span> result;
<a name="l02021"></a>02021 
<a name="l02022"></a>02022   <a class="code" href="l__parms_8c.html#a72a0feb27cdbf381044fe530f4b537f">L_get_next_token</a> (ppi);
<a name="l02023"></a>02023 
<a name="l02024"></a>02024   <span class="keywordflow">switch</span> (ppi-&gt;<a class="code" href="structparm__parse__info__st.html#f0c50859a3492770c059b24e64c54a9e">token</a>)
<a name="l02025"></a>02025     {
<a name="l02026"></a>02026       <span class="comment">/* Extension to handle negative numbers */</span>
<a name="l02027"></a>02027     <span class="keywordflow">case</span> <a class="code" href="l__parms_8c.html#40a9113c885ef2de24d8242ee97238d8">TMINUS</a>:
<a name="l02028"></a>02028       <a class="code" href="l__parms_8c.html#a72a0feb27cdbf381044fe530f4b537f">L_get_next_token</a> (ppi);
<a name="l02029"></a>02029       <span class="keywordflow">if</span> (ppi-&gt;<a class="code" href="structparm__parse__info__st.html#f0c50859a3492770c059b24e64c54a9e">token</a> == <a class="code" href="l__parms_8c.html#d00501132f47c93fefe8907a7023e0f0">TNUM</a>)
<a name="l02030"></a>02030         <span class="keywordflow">return</span> (-(ppi-&gt;<a class="code" href="structparm__parse__info__st.html#90e7fa86226c56f13c03f73faefd28f8">value</a>));
<a name="l02031"></a>02031       <span class="keywordflow">else</span>
<a name="l02032"></a>02032         <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"%s line %i: parse_error, expected number after '-'."</span>,
<a name="l02033"></a>02033                 ppi-&gt;<a class="code" href="structparm__parse__info__st.html#fbf0cb338be728d03c81c82014182c55">name</a>, ppi-&gt;<a class="code" href="structparm__parse__info__st.html#273f11c637779d64b112ec663692d5f4">line_no</a>);
<a name="l02034"></a>02034     <span class="keywordflow">case</span> <a class="code" href="l__parms_8c.html#d00501132f47c93fefe8907a7023e0f0">TNUM</a>:
<a name="l02035"></a>02035       <span class="keywordflow">return</span> (ppi-&gt;<a class="code" href="structparm__parse__info__st.html#90e7fa86226c56f13c03f73faefd28f8">value</a>);
<a name="l02036"></a>02036 
<a name="l02037"></a>02037     <span class="keywordflow">case</span> <a class="code" href="l__parms_8c.html#c6e8753cb9d6d985c511eabd864875dc">TLPARN</a>:
<a name="l02038"></a>02038       result = <a class="code" href="l__parms_8c.html#649df4f104c79430336518dfcb1ae25b">L_parm_calc_expr</a> (ppi);
<a name="l02039"></a>02039       <a class="code" href="l__parms_8c.html#a72a0feb27cdbf381044fe530f4b537f">L_get_next_token</a> (ppi);
<a name="l02040"></a>02040       <span class="keywordflow">if</span> (ppi-&gt;<a class="code" href="structparm__parse__info__st.html#f0c50859a3492770c059b24e64c54a9e">token</a> != <a class="code" href="l__parms_8c.html#2132051c32c4d62671b5760afb92bdc6">TRPARN</a>)
<a name="l02041"></a>02041         <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"%s line %i: ')' expected."</span>, ppi-&gt;<a class="code" href="structparm__parse__info__st.html#fbf0cb338be728d03c81c82014182c55">name</a>, ppi-&gt;<a class="code" href="structparm__parse__info__st.html#273f11c637779d64b112ec663692d5f4">line_no</a>);
<a name="l02042"></a>02042       <span class="keywordflow">return</span> (result);
<a name="l02043"></a>02043 
<a name="l02044"></a>02044     <span class="keywordflow">case</span> <a class="code" href="l__parms_8c.html#2132051c32c4d62671b5760afb92bdc6">TRPARN</a>:
<a name="l02045"></a>02045       <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"%s line %i: unexpected ')' before '%s'."</span>,
<a name="l02046"></a>02046               ppi-&gt;<a class="code" href="structparm__parse__info__st.html#fbf0cb338be728d03c81c82014182c55">name</a>, ppi-&gt;<a class="code" href="structparm__parse__info__st.html#273f11c637779d64b112ec663692d5f4">line_no</a>, ppi-&gt;<a class="code" href="structparm__parse__info__st.html#2473bd5d235abc51e152ae76cfb8d116">calc_ptr</a>);
<a name="l02047"></a>02047 
<a name="l02048"></a>02048     <span class="keywordflow">default</span>:
<a name="l02049"></a>02049       <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"%s line %i: Expression formulation error before '%s'."</span>,
<a name="l02050"></a>02050               ppi-&gt;<a class="code" href="structparm__parse__info__st.html#fbf0cb338be728d03c81c82014182c55">name</a>, ppi-&gt;<a class="code" href="structparm__parse__info__st.html#273f11c637779d64b112ec663692d5f4">line_no</a>, ppi-&gt;<a class="code" href="structparm__parse__info__st.html#2473bd5d235abc51e152ae76cfb8d116">calc_ptr</a>);
<a name="l02051"></a>02051 
<a name="l02052"></a>02052     }
<a name="l02053"></a>02053 
<a name="l02054"></a>02054   <span class="comment">/* Should never get here */</span>
<a name="l02055"></a>02055   exit (1);
<a name="l02056"></a>02056   <span class="keywordflow">return</span> (0);
<a name="l02057"></a>02057 }
<a name="l02058"></a>02058 
<a name="l02059"></a>02059 <span class="keywordtype">int</span>
<a name="l02060"></a><a class="code" href="l__parms_8c.html#a72a0feb27cdbf381044fe530f4b537f">02060</a> <a class="code" href="l__parms_8c.html#a72a0feb27cdbf381044fe530f4b537f">L_get_next_token</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi)
<a name="l02061"></a>02061 {
<a name="l02062"></a>02062   <span class="keywordtype">int</span> len;
<a name="l02063"></a>02063   len = <a class="code" href="l__parms_8c.html#62b8261e0d0f3321051b7dccf11ef24f">L_peek_next_token</a> (ppi);
<a name="l02064"></a>02064   ppi-&gt;<a class="code" href="structparm__parse__info__st.html#2473bd5d235abc51e152ae76cfb8d116">calc_ptr</a> += len;
<a name="l02065"></a>02065   <span class="keywordflow">return</span> (len);
<a name="l02066"></a>02066 }
<a name="l02067"></a>02067 
<a name="l02068"></a>02068 <span class="keywordtype">int</span>
<a name="l02069"></a><a class="code" href="l__parms_8c.html#62b8261e0d0f3321051b7dccf11ef24f">02069</a> <a class="code" href="l__parms_8c.html#62b8261e0d0f3321051b7dccf11ef24f">L_peek_next_token</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi)
<a name="l02070"></a>02070 {
<a name="l02071"></a>02071   <span class="keywordtype">char</span> *ptr;
<a name="l02072"></a>02072 
<a name="l02073"></a>02073   ptr = ppi-&gt;<a class="code" href="structparm__parse__info__st.html#2473bd5d235abc51e152ae76cfb8d116">calc_ptr</a>;
<a name="l02074"></a>02074 
<a name="l02075"></a>02075   <span class="comment">/* Skip over leading whitespace */</span>
<a name="l02076"></a>02076   <span class="keywordflow">while</span> (isspace (*ptr))
<a name="l02077"></a>02077     ptr++;
<a name="l02078"></a>02078 
<a name="l02079"></a>02079   <span class="comment">/* Return 0 at end of string */</span>
<a name="l02080"></a>02080   <span class="keywordflow">if</span> (*ptr == 0)
<a name="l02081"></a>02081     {
<a name="l02082"></a>02082       ppi-&gt;<a class="code" href="structparm__parse__info__st.html#f0c50859a3492770c059b24e64c54a9e">token</a> = <a class="code" href="l__parms_8c.html#9c0558ad765472aac57bb0954a80ae97">TNULL</a>;
<a name="l02083"></a>02083       <span class="keywordflow">return</span> (0);
<a name="l02084"></a>02084     }
<a name="l02085"></a>02085 
<a name="l02086"></a>02086   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isdigit (*ptr))
<a name="l02087"></a>02087     {
<a name="l02088"></a>02088       ppi-&gt;<a class="code" href="structparm__parse__info__st.html#f0c50859a3492770c059b24e64c54a9e">token</a> = <a class="code" href="l__parms_8c.html#d00501132f47c93fefe8907a7023e0f0">TNUM</a>;
<a name="l02089"></a>02089       ppi-&gt;<a class="code" href="structparm__parse__info__st.html#90e7fa86226c56f13c03f73faefd28f8">value</a> = (int) strtol (ptr, &amp;ptr, 0);
<a name="l02090"></a>02090     }
<a name="l02091"></a>02091   <span class="keywordflow">else</span>
<a name="l02092"></a>02092     {
<a name="l02093"></a>02093       <span class="keywordflow">switch</span> (*ptr)
<a name="l02094"></a>02094         {
<a name="l02095"></a>02095         <span class="keywordflow">case</span> <span class="charliteral">'+'</span>:
<a name="l02096"></a>02096           ppi-&gt;<a class="code" href="structparm__parse__info__st.html#f0c50859a3492770c059b24e64c54a9e">token</a> = <a class="code" href="l__parms_8c.html#9108d631d79d040b0634d924ecddf65f">TPLUS</a>;
<a name="l02097"></a>02097           <span class="keywordflow">break</span>;
<a name="l02098"></a>02098         <span class="keywordflow">case</span> <span class="charliteral">'-'</span>:
<a name="l02099"></a>02099           ppi-&gt;<a class="code" href="structparm__parse__info__st.html#f0c50859a3492770c059b24e64c54a9e">token</a> = <a class="code" href="l__parms_8c.html#40a9113c885ef2de24d8242ee97238d8">TMINUS</a>;
<a name="l02100"></a>02100           <span class="keywordflow">break</span>;
<a name="l02101"></a>02101         <span class="keywordflow">case</span> <span class="charliteral">'*'</span>:
<a name="l02102"></a>02102           ppi-&gt;<a class="code" href="structparm__parse__info__st.html#f0c50859a3492770c059b24e64c54a9e">token</a> = <a class="code" href="l__parms_8c.html#76b814f2784fb1774481f493a4e55595">TSTAR</a>;
<a name="l02103"></a>02103           <span class="keywordflow">break</span>;
<a name="l02104"></a>02104         <span class="keywordflow">case</span> <span class="charliteral">'/'</span>:
<a name="l02105"></a>02105           ppi-&gt;<a class="code" href="structparm__parse__info__st.html#f0c50859a3492770c059b24e64c54a9e">token</a> = <a class="code" href="l__parms_8c.html#90cc25bfce659c3fea0b263002d9c325">TSLASH</a>;
<a name="l02106"></a>02106           <span class="keywordflow">break</span>;
<a name="l02107"></a>02107         <span class="keywordflow">case</span> <span class="charliteral">'('</span>:
<a name="l02108"></a>02108           ppi-&gt;<a class="code" href="structparm__parse__info__st.html#f0c50859a3492770c059b24e64c54a9e">token</a> = <a class="code" href="l__parms_8c.html#c6e8753cb9d6d985c511eabd864875dc">TLPARN</a>;
<a name="l02109"></a>02109           <span class="keywordflow">break</span>;
<a name="l02110"></a>02110         <span class="keywordflow">case</span> <span class="charliteral">')'</span>:
<a name="l02111"></a>02111           ppi-&gt;<a class="code" href="structparm__parse__info__st.html#f0c50859a3492770c059b24e64c54a9e">token</a> = <a class="code" href="l__parms_8c.html#2132051c32c4d62671b5760afb92bdc6">TRPARN</a>;
<a name="l02112"></a>02112           <span class="keywordflow">break</span>;
<a name="l02113"></a>02113         <span class="keywordflow">default</span>:
<a name="l02114"></a>02114           <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"%s line %i: Parse error at '%c' in '%s'."</span>,
<a name="l02115"></a>02115                   ppi-&gt;<a class="code" href="structparm__parse__info__st.html#fbf0cb338be728d03c81c82014182c55">name</a>, ppi-&gt;<a class="code" href="structparm__parse__info__st.html#273f11c637779d64b112ec663692d5f4">line_no</a>, *ptr, ptr);
<a name="l02116"></a>02116         }
<a name="l02117"></a>02117       ptr++;
<a name="l02118"></a>02118     }
<a name="l02119"></a>02119   <span class="keywordflow">return</span> (ptr - ppi-&gt;<a class="code" href="structparm__parse__info__st.html#2473bd5d235abc51e152ae76cfb8d116">calc_ptr</a>);
<a name="l02120"></a>02120 }
<a name="l02121"></a>02121 <span class="keywordtype">void</span>
<a name="l02122"></a><a class="code" href="l__parms_8c.html#b374997ea213e0a415182ce94e5a3cf8">02122</a> <a class="code" href="l__parms_8c.html#b374997ea213e0a415182ce94e5a3cf8">L_read_parm_section_defaults</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi,
<a name="l02123"></a>02123                               <a class="code" href="structparm__section__info.html">Parm_Section_Info</a> * psi,
<a name="l02124"></a>02124                               <span class="keywordtype">char</span> *defaults_file_name)
<a name="l02125"></a>02125 {
<a name="l02126"></a>02126   <span class="keywordtype">char</span> *old_name;
<a name="l02127"></a>02127   FILE *old_file;
<a name="l02128"></a>02128   <span class="keywordtype">int</span> old_line_no;
<a name="l02129"></a>02129   <span class="keywordtype">char</span> <a class="code" href="c__basic_8c.html#5ac083a645d964373f022d03df4849c8">name</a>[<a class="code" href="l__parms_8h.html#a607c62ad2844f14adaaf6df59576b10">PARM_LINE_MAX</a>];
<a name="l02130"></a>02130 
<a name="l02131"></a>02131   <span class="comment">/* Ignore defaults_file_name of declaration (for back compatablity */</span>
<a name="l02132"></a>02132   <span class="keywordflow">if</span> (<a class="code" href="l__parms_8c.html#4765bf6935180114326aeea11d1c65ae">L_pmatch</a> (defaults_file_name, <span class="stringliteral">"declaration"</span>))
<a name="l02133"></a>02133     <span class="keywordflow">return</span>;
<a name="l02134"></a>02134 
<a name="l02135"></a>02135   <span class="comment">/* Save the name of the file, (FILE *), and line no of parm file</span>
<a name="l02136"></a>02136 <span class="comment">   * currently reading </span>
<a name="l02137"></a>02137 <span class="comment">   */</span>
<a name="l02138"></a>02138   old_name = ppi-&gt;<a class="code" href="structparm__parse__info__st.html#fbf0cb338be728d03c81c82014182c55">name</a>;
<a name="l02139"></a>02139   old_file = ppi-&gt;<a class="code" href="structparm__parse__info__st.html#6155e6a99d067e72711907b6b38c8860">file</a>;
<a name="l02140"></a>02140   old_line_no = ppi-&gt;<a class="code" href="structparm__parse__info__st.html#273f11c637779d64b112ec663692d5f4">line_no</a>;
<a name="l02141"></a>02141 
<a name="l02142"></a>02142   <span class="comment">/* Increment current level */</span>
<a name="l02143"></a>02143   ppi-&gt;<a class="code" href="structparm__parse__info__st.html#22828bed68ce338415b8382c07077278">internal_level</a>++;
<a name="l02144"></a>02144 
<a name="l02145"></a>02145   <span class="comment">/* Make sure we haven't recursed too deep */</span>
<a name="l02146"></a>02146   <span class="keywordflow">if</span> (ppi-&gt;<a class="code" href="structparm__parse__info__st.html#22828bed68ce338415b8382c07077278">internal_level</a> &gt;= <a class="code" href="l__parms_8h.html#0524a320539156a7ce4de15c44565130">PARM_LEVEL_MAX</a>)
<a name="l02147"></a>02147     {
<a name="l02148"></a>02148       <span class="keywordflow">if</span> (psi-&gt;<a class="code" href="structparm__section__info.html#1ebefcdb6e2d367be0618352f96bb5ab">name2</a> == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l02149"></a>02149         {
<a name="l02150"></a>02150           <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"Recursed too many times reading parameter defaults "</span>
<a name="l02151"></a>02151                   <span class="stringliteral">" for '%s'."</span>, psi-&gt;<a class="code" href="structparm__section__info.html#0ed3c04dbc4547f374256137350f810a">name1</a>);
<a name="l02152"></a>02152         }
<a name="l02153"></a>02153       <span class="keywordflow">else</span>
<a name="l02154"></a>02154         {
<a name="l02155"></a>02155           <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"Recursed too many times reading parameter defaults "</span>
<a name="l02156"></a>02156                   <span class="stringliteral">" for '%s' aka '%s'."</span>, psi-&gt;<a class="code" href="structparm__section__info.html#0ed3c04dbc4547f374256137350f810a">name1</a>, psi-&gt;<a class="code" href="structparm__section__info.html#1ebefcdb6e2d367be0618352f96bb5ab">name2</a>);
<a name="l02157"></a>02157         }
<a name="l02158"></a>02158     }
<a name="l02159"></a>02159 
<a name="l02160"></a>02160   <span class="comment">/* Create macro list for this level */</span>
<a name="l02161"></a>02161   ppi-&gt;<a class="code" href="structparm__parse__info__st.html#96eede8ab3525eab8199d38dd5d3c7cb">internal_list</a>[ppi-&gt;<a class="code" href="structparm__parse__info__st.html#22828bed68ce338415b8382c07077278">internal_level</a>] = <a class="code" href="l__parms_8c.html#c192c48345f8281ee12dbeabb46b8185">L_create_parm_macro_list</a> ();
<a name="l02162"></a>02162 
<a name="l02163"></a>02163   <span class="comment">/* Open defaults level */</span>
<a name="l02164"></a>02164   <span class="keywordflow">if</span> ((ppi-&gt;<a class="code" href="structparm__parse__info__st.html#6155e6a99d067e72711907b6b38c8860">file</a> = fopen (defaults_file_name, <span class="stringliteral">"r"</span>)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l02165"></a>02165     {
<a name="l02166"></a>02166       <span class="keywordflow">if</span> (psi-&gt;<a class="code" href="structparm__section__info.html#1ebefcdb6e2d367be0618352f96bb5ab">name2</a> == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l02167"></a>02167         {
<a name="l02168"></a>02168           <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"Unable to open parameter defaults file '%s'.\n"</span>
<a name="l02169"></a>02169                   <span class="stringliteral">"Defaults file for '%s' and specified in '%s'"</span>,
<a name="l02170"></a>02170                   defaults_file_name, psi-&gt;<a class="code" href="structparm__section__info.html#0ed3c04dbc4547f374256137350f810a">name1</a>, ppi-&gt;<a class="code" href="structparm__parse__info__st.html#fbf0cb338be728d03c81c82014182c55">name</a>);
<a name="l02171"></a>02171         }
<a name="l02172"></a>02172       <span class="keywordflow">else</span>
<a name="l02173"></a>02173         {
<a name="l02174"></a>02174           <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"Unable to open parameter defaults file '%s'.\n"</span>
<a name="l02175"></a>02175                   <span class="stringliteral">"Defaults file for '%s' aka '%s' and specified in '%s'"</span>,
<a name="l02176"></a>02176                   defaults_file_name, psi-&gt;<a class="code" href="structparm__section__info.html#0ed3c04dbc4547f374256137350f810a">name1</a>, psi-&gt;<a class="code" href="structparm__section__info.html#1ebefcdb6e2d367be0618352f96bb5ab">name2</a>, ppi-&gt;<a class="code" href="structparm__parse__info__st.html#fbf0cb338be728d03c81c82014182c55">name</a>);
<a name="l02177"></a>02177         }
<a name="l02178"></a>02178     }
<a name="l02179"></a>02179 
<a name="l02180"></a>02180   <span class="comment">/* Need to copy defaults file name into buffer, because reading</span>
<a name="l02181"></a>02181 <span class="comment">   * a parameter will destory the value in defaults_file_name)</span>
<a name="l02182"></a>02182 <span class="comment">   */</span>
<a name="l02183"></a>02183   strcpy (name, defaults_file_name);
<a name="l02184"></a>02184   ppi-&gt;<a class="code" href="structparm__parse__info__st.html#fbf0cb338be728d03c81c82014182c55">name</a> = name;
<a name="l02185"></a>02185   ppi-&gt;<a class="code" href="structparm__parse__info__st.html#273f11c637779d64b112ec663692d5f4">line_no</a> = 0;
<a name="l02186"></a>02186 
<a name="l02187"></a>02187   <span class="comment">/* Read the default parm section */</span>
<a name="l02188"></a>02188   <a class="code" href="l__parms_8c.html#13f4fc5e49389c952f6c36b2b36d0765">L_read_parm_sections</a> (ppi, psi);
<a name="l02189"></a>02189 
<a name="l02190"></a>02190   <span class="comment">/* Close defaults parameter file */</span>
<a name="l02191"></a>02191   fclose (ppi-&gt;<a class="code" href="structparm__parse__info__st.html#6155e6a99d067e72711907b6b38c8860">file</a>);
<a name="l02192"></a>02192 
<a name="l02193"></a>02193   <span class="comment">/* Free internal macro list for this level */</span>
<a name="l02194"></a>02194   <a class="code" href="l__parms_8c.html#d4b06aa55eb13d77d7d2884ae752aef8">L_free_parm_macro_list</a> (ppi-&gt;<a class="code" href="structparm__parse__info__st.html#96eede8ab3525eab8199d38dd5d3c7cb">internal_list</a>[ppi-&gt;<a class="code" href="structparm__parse__info__st.html#22828bed68ce338415b8382c07077278">internal_level</a>]);
<a name="l02195"></a>02195 
<a name="l02196"></a>02196   <span class="comment">/* Restore old level */</span>
<a name="l02197"></a>02197   ppi-&gt;<a class="code" href="structparm__parse__info__st.html#22828bed68ce338415b8382c07077278">internal_level</a>--;
<a name="l02198"></a>02198 
<a name="l02199"></a>02199   <span class="comment">/* Restore old file name, (FILE *), and line no */</span>
<a name="l02200"></a>02200   ppi-&gt;<a class="code" href="structparm__parse__info__st.html#fbf0cb338be728d03c81c82014182c55">name</a> = old_name;
<a name="l02201"></a>02201   ppi-&gt;<a class="code" href="structparm__parse__info__st.html#6155e6a99d067e72711907b6b38c8860">file</a> = old_file;
<a name="l02202"></a>02202   ppi-&gt;<a class="code" href="structparm__parse__info__st.html#273f11c637779d64b112ec663692d5f4">line_no</a> = old_line_no;
<a name="l02203"></a>02203 }
<a name="l02204"></a>02204 
<a name="l02205"></a>02205 <span class="keywordtype">void</span>
<a name="l02206"></a><a class="code" href="l__parms_8c.html#13f4fc5e49389c952f6c36b2b36d0765">02206</a> <a class="code" href="l__parms_8c.html#13f4fc5e49389c952f6c36b2b36d0765">L_read_parm_sections</a> (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi, <a class="code" href="structparm__section__info.html">Parm_Section_Info</a> * psi)
<a name="l02207"></a>02207 {
<a name="l02208"></a>02208   <span class="keywordtype">int</span> section_match, first_match_line, first_match_found;
<a name="l02209"></a>02209   <span class="keywordtype">char</span> *first_match_name;
<a name="l02210"></a>02210   <span class="keywordtype">char</span> *default_defaults_path;
<a name="l02211"></a>02211   <span class="keywordtype">int</span> default_defaults_path_line;
<a name="l02212"></a>02212   <span class="keywordtype">int</span> nest;
<a name="l02213"></a>02213 
<a name="l02214"></a>02214   <span class="comment">/* Initialize found counters */</span>
<a name="l02215"></a>02215   psi-&gt;<a class="code" href="structparm__section__info.html#f722597a763587b98074d254c4aecba4">found</a>[ppi-&gt;<a class="code" href="structparm__parse__info__st.html#22828bed68ce338415b8382c07077278">internal_level</a>] = 0;
<a name="l02216"></a>02216 
<a name="l02217"></a>02217   <span class="comment">/* Initialize default_defaults_path variables */</span>
<a name="l02218"></a>02218   default_defaults_path = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l02219"></a>02219   default_defaults_path_line = 0;
<a name="l02220"></a>02220 
<a name="l02221"></a>02221   <span class="comment">/* Initialize first match found variables */</span>
<a name="l02222"></a>02222   first_match_found = 0;
<a name="l02223"></a>02223   first_match_line = 0;
<a name="l02224"></a>02224   first_match_name = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l02225"></a>02225   <span class="keywordflow">while</span> (<a class="code" href="l__parms_8c.html#c08a9d9f28e265fdc4c89644b5dd64c7">L_get_next_parm</a> (ppi))
<a name="l02226"></a>02226     {
<a name="l02227"></a>02227       section_match = 0;
<a name="l02228"></a>02228       <span class="comment">/* Detect default defaults_path specification -JCG 10/13/98 */</span>
<a name="l02229"></a>02229       <span class="keywordflow">if</span> (<a class="code" href="l__parms_8c.html#4765bf6935180114326aeea11d1c65ae">L_pmatch</a> (ppi-&gt;parm_buf, <span class="stringliteral">"(*"</span>))
<a name="l02230"></a>02230         {
<a name="l02231"></a>02231           <span class="keywordflow">if</span> (default_defaults_path != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l02232"></a>02232             {
<a name="l02233"></a>02233               fprintf (stderr,
<a name="l02234"></a>02234                        <span class="stringliteral">"IGNORING REDUNDANT DEFAULT 'DEFAULTS PATH' "</span>
<a name="l02235"></a>02235                        <span class="stringliteral">"SPECIFICATION:\n"</span>);
<a name="l02236"></a>02236               fprintf (stderr, <span class="stringliteral">"  PROCESSED: '%s' at line %i of '%s'\n"</span>,
<a name="l02237"></a>02237                        default_defaults_path, default_defaults_path_line,
<a name="l02238"></a>02238                        ppi-&gt;name);
<a name="l02239"></a>02239               fprintf (stderr, <span class="stringliteral">"  IGNORED:   '%s' at line %i of '%s'\n\n"</span>,
<a name="l02240"></a>02240                        ppi-&gt;setting, ppi-&gt;line_no, ppi-&gt;name);
<a name="l02241"></a>02241             }
<a name="l02242"></a>02242           <span class="keywordflow">else</span>
<a name="l02243"></a>02243             {
<a name="l02244"></a>02244               <span class="comment">/* Get the line number of the default defaults_path spec */</span>
<a name="l02245"></a>02245               default_defaults_path_line = ppi-&gt;line_no;
<a name="l02246"></a>02246 
<a name="l02247"></a>02247               <span class="comment">/* Make sure default defaults_path specified! */</span>
<a name="l02248"></a>02248               <span class="keywordflow">if</span> ((ppi-&gt;setting[0] == 0))
<a name="l02249"></a>02249                 {
<a name="l02250"></a>02250                   <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a>(<span class="stringliteral">"A 'defaults_path' expected after '(*' on "</span>
<a name="l02251"></a>02251                          <span class="stringliteral">"line %i of '%s'."</span>,
<a name="l02252"></a>02252                      ppi-&gt;line_no, ppi-&gt;name);
<a name="l02253"></a>02253                 }
<a name="l02254"></a>02254 
<a name="l02255"></a>02255               <span class="comment">/* Strdup defaults_path, since setting will go away */</span>
<a name="l02256"></a>02256               default_defaults_path = strdup (ppi-&gt;setting);
<a name="l02257"></a>02257             }
<a name="l02258"></a>02258 
<a name="l02259"></a>02259           <span class="comment">/* The rest of the section MUST be empty! */</span>
<a name="l02260"></a>02260           <span class="keywordflow">if</span> (!<a class="code" href="l__parms_8c.html#c08a9d9f28e265fdc4c89644b5dd64c7">L_get_next_parm</a> (ppi))
<a name="l02261"></a>02261             {
<a name="l02262"></a>02262               <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"Expected 'end)' after '(*' on line %i of '%s'."</span>,
<a name="l02263"></a>02263                       ppi-&gt;line_no, ppi-&gt;name);
<a name="l02264"></a>02264             }
<a name="l02265"></a>02265 
<a name="l02266"></a>02266           <span class="comment">/* Make sure have end)! */</span>
<a name="l02267"></a>02267           <span class="keywordflow">if</span> (!<a class="code" href="l__parms_8c.html#4765bf6935180114326aeea11d1c65ae">L_pmatch</a> (ppi-&gt;parm_buf, <span class="stringliteral">"end)"</span>))
<a name="l02268"></a>02268             {
<a name="l02269"></a>02269               <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"Expected 'end)' not '%s' after '(*'\n"</span>
<a name="l02270"></a>02270                       <span class="stringliteral">"on line %i of '%s'."</span>,
<a name="l02271"></a>02271                       ppi-&gt;parm_buf, ppi-&gt;line_no, ppi-&gt;name);
<a name="l02272"></a>02272             }
<a name="l02273"></a>02273 
<a name="l02274"></a>02274           <span class="comment">/* Mark that we don't need to skip the rest of the section! */</span>
<a name="l02275"></a>02275           section_match = 1;
<a name="l02276"></a>02276         }
<a name="l02277"></a>02277 
<a name="l02278"></a>02278       <span class="comment">/* Search for a match to the specified sections */</span>
<a name="l02279"></a>02279       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="l__parms_8c.html#4765bf6935180114326aeea11d1c65ae">L_pmatch</a> (ppi-&gt;parm_buf, psi-&gt;<a class="code" href="structparm__section__info.html#0ed3c04dbc4547f374256137350f810a">name1</a>))
<a name="l02280"></a>02280         {
<a name="l02281"></a>02281           <span class="comment">/* Print out warning if this section already seen */</span>
<a name="l02282"></a>02282           <span class="keywordflow">if</span> (first_match_found)
<a name="l02283"></a>02283             {
<a name="l02284"></a>02284               fprintf (stderr,
<a name="l02285"></a>02285                        <span class="stringliteral">"IGNORING REDUNDANT PARAMETER SECTION DEFINITIONS:\n"</span>);
<a name="l02286"></a>02286               fprintf (stderr, <span class="stringliteral">"  PROCESSED: '%s' at line %i of '%s'\n"</span>,
<a name="l02287"></a>02287                        first_match_name, first_match_line, ppi-&gt;name);
<a name="l02288"></a>02288               fprintf (stderr, <span class="stringliteral">"  IGNORED:   '%s' at line %i of '%s'\n\n"</span>,
<a name="l02289"></a>02289                        psi-&gt;<a class="code" href="structparm__section__info.html#0ed3c04dbc4547f374256137350f810a">name1</a>, ppi-&gt;line_no, ppi-&gt;name);
<a name="l02290"></a>02290             }
<a name="l02291"></a>02291           <span class="keywordflow">else</span>
<a name="l02292"></a>02292             {
<a name="l02293"></a>02293               <span class="comment">/* Get the line number of the section name match */</span>
<a name="l02294"></a>02294               first_match_line = ppi-&gt;line_no;
<a name="l02295"></a>02295 
<a name="l02296"></a>02296               <span class="comment">/* Get the section name that matched */</span>
<a name="l02297"></a>02297               first_match_name = psi-&gt;<a class="code" href="structparm__section__info.html#0ed3c04dbc4547f374256137350f810a">name1</a>;
<a name="l02298"></a>02298 
<a name="l02299"></a>02299               <span class="comment">/* The name after the section is taken to be the</span>
<a name="l02300"></a>02300 <span class="comment">               * name of a 'defaults' file that should be read first</span>
<a name="l02301"></a>02301 <span class="comment">               */</span>
<a name="l02302"></a>02302               <span class="keywordflow">if</span> (ppi-&gt;setting[0] != 0)
<a name="l02303"></a>02303                 {
<a name="l02304"></a>02304                   <a class="code" href="l__parms_8c.html#b374997ea213e0a415182ce94e5a3cf8">L_read_parm_section_defaults</a> (ppi, psi, ppi-&gt;setting);
<a name="l02305"></a>02305                 }
<a name="l02306"></a>02306 
<a name="l02307"></a>02307               <span class="comment">/* Increment number of times found */</span>
<a name="l02308"></a>02308               psi-&gt;<a class="code" href="structparm__section__info.html#f722597a763587b98074d254c4aecba4">found</a>[ppi-&gt;internal_level]++;
<a name="l02309"></a>02309 
<a name="l02310"></a>02310               <span class="comment">/* Mark that this section name was used */</span>
<a name="l02311"></a>02311               <a class="code" href="l__parms_8c.html#b3618a90780bdfe2c9d4bb6609c3c654">section_name1_used</a> = 1;
<a name="l02312"></a>02312 
<a name="l02313"></a>02313               <span class="comment">/* Load the parameters into the hash table */</span>
<a name="l02314"></a>02314               <span class="keywordflow">while</span> (<a class="code" href="l__parms_8c.html#c08a9d9f28e265fdc4c89644b5dd64c7">L_get_next_parm</a> (ppi) &amp;&amp;
<a name="l02315"></a>02315                      !<a class="code" href="l__parms_8c.html#4765bf6935180114326aeea11d1c65ae">L_pmatch</a> (ppi-&gt;parm_buf, <span class="stringliteral">"end)"</span>))
<a name="l02316"></a>02316                 {
<a name="l02317"></a>02317                   <a class="code" href="l__parms_8c.html#68767fcc02492c969cdc624ed22854fe">L_add_to_parm_table_list</a> (psi-&gt;<a class="code" href="structparm__section__info.html#a019a27e8f978548cf66a53f5bb453d9">parm_list</a>, ppi, psi-&gt;<a class="code" href="structparm__section__info.html#0ed3c04dbc4547f374256137350f810a">name1</a>,
<a name="l02318"></a>02318                                             psi-&gt;<a class="code" href="structparm__section__info.html#1ebefcdb6e2d367be0618352f96bb5ab">name2</a>);
<a name="l02319"></a>02319                 }
<a name="l02320"></a>02320               section_match = 1;
<a name="l02321"></a>02321 
<a name="l02322"></a>02322               <span class="comment">/* Mark that we have found the section we are looking for */</span>
<a name="l02323"></a>02323               first_match_found = 1;
<a name="l02324"></a>02324             }
<a name="l02325"></a>02325         }
<a name="l02326"></a>02326 
<a name="l02327"></a>02327       <span class="comment">/* Allow matching of either name1 or name2 </span>
<a name="l02328"></a>02328 <span class="comment">       * If name two matched, switch "section" alias's to let warnings</span>
<a name="l02329"></a>02329 <span class="comment">       * know what section the parameter really came from.</span>
<a name="l02330"></a>02330 <span class="comment">       */</span>
<a name="l02331"></a>02331       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((psi-&gt;<a class="code" href="structparm__section__info.html#1ebefcdb6e2d367be0618352f96bb5ab">name2</a> != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; <a class="code" href="l__parms_8c.html#4765bf6935180114326aeea11d1c65ae">L_pmatch</a> (ppi-&gt;parm_buf, psi-&gt;<a class="code" href="structparm__section__info.html#1ebefcdb6e2d367be0618352f96bb5ab">name2</a>))
<a name="l02332"></a>02332         {
<a name="l02333"></a>02333           <span class="comment">/* Print out warning if this section already seen */</span>
<a name="l02334"></a>02334           <span class="keywordflow">if</span> (first_match_found)
<a name="l02335"></a>02335             {
<a name="l02336"></a>02336               fprintf (stderr,
<a name="l02337"></a>02337                        <span class="stringliteral">"IGNORING REDUNDANT PARAMETER SECTION DEFINITIONS:\n"</span>);
<a name="l02338"></a>02338               fprintf (stderr, <span class="stringliteral">"  PROCESSED: '%s' at line %i of '%s'\n"</span>,
<a name="l02339"></a>02339                        first_match_name, first_match_line, ppi-&gt;name);
<a name="l02340"></a>02340               fprintf (stderr, <span class="stringliteral">"  IGNORED:   '%s' at line %i of '%s'\n\n"</span>,
<a name="l02341"></a>02341                        psi-&gt;<a class="code" href="structparm__section__info.html#1ebefcdb6e2d367be0618352f96bb5ab">name2</a>, ppi-&gt;line_no, ppi-&gt;name);
<a name="l02342"></a>02342             }
<a name="l02343"></a>02343           <span class="keywordflow">else</span>
<a name="l02344"></a>02344             {
<a name="l02345"></a>02345               <span class="comment">/* Get the line number of the section name match */</span>
<a name="l02346"></a>02346               first_match_line = ppi-&gt;line_no;
<a name="l02347"></a>02347 
<a name="l02348"></a>02348               <span class="comment">/* Get the section name that matched */</span>
<a name="l02349"></a>02349               first_match_name = psi-&gt;<a class="code" href="structparm__section__info.html#1ebefcdb6e2d367be0618352f96bb5ab">name2</a>;
<a name="l02350"></a>02350 
<a name="l02351"></a>02351               <span class="comment">/* The name after the section is taken to be the</span>
<a name="l02352"></a>02352 <span class="comment">               * name of a 'defaults' file that should be read first</span>
<a name="l02353"></a>02353 <span class="comment">               */</span>
<a name="l02354"></a>02354               <span class="keywordflow">if</span> (ppi-&gt;setting[0] != 0)
<a name="l02355"></a>02355                 {
<a name="l02356"></a>02356                   <a class="code" href="l__parms_8c.html#b374997ea213e0a415182ce94e5a3cf8">L_read_parm_section_defaults</a> (ppi, psi, ppi-&gt;setting);
<a name="l02357"></a>02357                 }
<a name="l02358"></a>02358 
<a name="l02359"></a>02359               <span class="comment">/* Increment number of times found */</span>
<a name="l02360"></a>02360               psi-&gt;<a class="code" href="structparm__section__info.html#f722597a763587b98074d254c4aecba4">found</a>[ppi-&gt;internal_level]++;
<a name="l02361"></a>02361 
<a name="l02362"></a>02362               <span class="comment">/* Mark that this section name was used */</span>
<a name="l02363"></a>02363               <a class="code" href="l__parms_8c.html#eb7d3d952cc4201c1cdee122eee1958c">section_name2_used</a> = 1;
<a name="l02364"></a>02364 
<a name="l02365"></a>02365               <span class="comment">/* Load the parameters into the hash table */</span>
<a name="l02366"></a>02366               <span class="keywordflow">while</span> (<a class="code" href="l__parms_8c.html#c08a9d9f28e265fdc4c89644b5dd64c7">L_get_next_parm</a> (ppi)
<a name="l02367"></a>02367                      &amp;&amp; !<a class="code" href="l__parms_8c.html#4765bf6935180114326aeea11d1c65ae">L_pmatch</a> (ppi-&gt;parm_buf, <span class="stringliteral">"end)"</span>))
<a name="l02368"></a>02368                 <a class="code" href="l__parms_8c.html#68767fcc02492c969cdc624ed22854fe">L_add_to_parm_table_list</a> (psi-&gt;<a class="code" href="structparm__section__info.html#a019a27e8f978548cf66a53f5bb453d9">parm_list</a>, ppi, psi-&gt;<a class="code" href="structparm__section__info.html#1ebefcdb6e2d367be0618352f96bb5ab">name2</a>,
<a name="l02369"></a>02369                                           psi-&gt;<a class="code" href="structparm__section__info.html#0ed3c04dbc4547f374256137350f810a">name1</a>);
<a name="l02370"></a>02370               section_match = 1;
<a name="l02371"></a>02371 
<a name="l02372"></a>02372               <span class="comment">/* Mark that we have found the first definition of this</span>
<a name="l02373"></a>02373 <span class="comment">               */</span>
<a name="l02374"></a>02374               first_match_found = 1;
<a name="l02375"></a>02375             }
<a name="l02376"></a>02376         }
<a name="l02377"></a>02377 
<a name="l02378"></a>02378       <span class="keywordflow">if</span> (!section_match)
<a name="l02379"></a>02379         {                       <span class="comment">/* Skip over the current section */</span>
<a name="l02380"></a>02380           nest = 1;
<a name="l02381"></a>02381           <span class="keywordflow">while</span> ((nest != 0) &amp;&amp; (<a class="code" href="l__parms_8c.html#c08a9d9f28e265fdc4c89644b5dd64c7">L_get_next_parm</a> (ppi)))
<a name="l02382"></a>02382             <span class="keywordflow">if</span> (ppi-&gt;parm_buf[0] == <span class="charliteral">'('</span>)
<a name="l02383"></a>02383               nest++;
<a name="l02384"></a>02384             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="l__parms_8c.html#4765bf6935180114326aeea11d1c65ae">L_pmatch</a> (ppi-&gt;parm_buf, <span class="stringliteral">"end)"</span>))
<a name="l02385"></a>02385               nest--;
<a name="l02386"></a>02386         }
<a name="l02387"></a>02387     }
<a name="l02388"></a>02388 
<a name="l02389"></a>02389   <span class="comment">/* Use default 'defaults_path' if section not explicitly found in</span>
<a name="l02390"></a>02390 <span class="comment">   * file, otherwise punt. -JCG 10/13/98</span>
<a name="l02391"></a>02391 <span class="comment">   */</span>
<a name="l02392"></a>02392   <span class="keywordflow">if</span> (psi-&gt;<a class="code" href="structparm__section__info.html#f722597a763587b98074d254c4aecba4">found</a>[ppi-&gt;internal_level] == 0)
<a name="l02393"></a>02393     {
<a name="l02394"></a>02394       <span class="keywordflow">if</span> (default_defaults_path != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l02395"></a>02395         {
<a name="l02396"></a>02396           <span class="comment">/* Read in section from default_defaults_path */</span>
<a name="l02397"></a>02397           <a class="code" href="l__parms_8c.html#b374997ea213e0a415182ce94e5a3cf8">L_read_parm_section_defaults</a> (ppi, psi, default_defaults_path);
<a name="l02398"></a>02398         }
<a name="l02399"></a>02399       <span class="keywordflow">else</span>
<a name="l02400"></a>02400         {
<a name="l02401"></a>02401           <span class="comment">/* Print messages for all parameter sections not found */</span>
<a name="l02402"></a>02402           <span class="keywordflow">if</span> (psi-&gt;<a class="code" href="structparm__section__info.html#1ebefcdb6e2d367be0618352f96bb5ab">name2</a> == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l02403"></a>02403             {
<a name="l02404"></a>02404               fprintf (stderr,
<a name="l02405"></a>02405                        <span class="stringliteral">"Error: cannot find parameter file section '%s'.\n"</span>,
<a name="l02406"></a>02406                        psi-&gt;<a class="code" href="structparm__section__info.html#0ed3c04dbc4547f374256137350f810a">name1</a>);
<a name="l02407"></a>02407             }
<a name="l02408"></a>02408           <span class="keywordflow">else</span>
<a name="l02409"></a>02409             {
<a name="l02410"></a>02410               fprintf (stderr,
<a name="l02411"></a>02411                        <span class="stringliteral">"Error: cannot find parameter file section '%s' "</span>
<a name="l02412"></a>02412                        <span class="stringliteral">"aka '%s'.\n"</span>, psi-&gt;<a class="code" href="structparm__section__info.html#0ed3c04dbc4547f374256137350f810a">name1</a>, psi-&gt;<a class="code" href="structparm__section__info.html#1ebefcdb6e2d367be0618352f96bb5ab">name2</a>);
<a name="l02413"></a>02413             }
<a name="l02414"></a>02414 
<a name="l02415"></a>02415           <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"Cannot continue: missing parameter file section in %s."</span>,
<a name="l02416"></a>02416                   ppi-&gt;name);
<a name="l02417"></a>02417         }
<a name="l02418"></a>02418     }
<a name="l02419"></a>02419 
<a name="l02420"></a>02420   <span class="comment">/* Free default_defaults_path if strduped */</span>
<a name="l02421"></a>02421   <span class="keywordflow">if</span> (default_defaults_path != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l02422"></a>02422     free (default_defaults_path);
<a name="l02423"></a>02423 }
<a name="l02424"></a>02424 
<a name="l02425"></a>02425 <span class="comment">/* Enhanced load parameters to accept up to two equivalent names</span>
<a name="l02426"></a>02426 <span class="comment"> * for a section.  This functionality was added to allow the Trimaran</span>
<a name="l02427"></a>02427 <span class="comment"> * release to "rename" some IMPACT parameter sections (namely,</span>
<a name="l02428"></a>02428 <span class="comment"> * global, file, arch, RegAlloc, and Scheduler). -JCG 5/19/98</span>
<a name="l02429"></a>02429 <span class="comment"> *</span>
<a name="l02430"></a>02430 <span class="comment"> * Used by the "classic" and "new" interfaces below.</span>
<a name="l02431"></a>02431 <span class="comment"> */</span>
<a name="l02432"></a>02432 <span class="keywordtype">void</span>
<a name="l02433"></a><a class="code" href="l__parms_8c.html#ed7d1db7730c25bb4f8eda913ba2fc9b">02433</a> <a class="code" href="l__parms_8c.html#ed7d1db7730c25bb4f8eda913ba2fc9b">_L_load_parameters</a> (<span class="keywordtype">char</span> *parm_file_name,
<a name="l02434"></a>02434                     <a class="code" href="structparm__macro__list.html">Parm_Macro_List</a> * command_line_macro_list,
<a name="l02435"></a>02435                     <span class="keywordtype">char</span> *section_name1, <span class="keywordtype">char</span> *section_name2,
<a name="l02436"></a>02436                     <span class="keywordtype">void</span> (*read_func) (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi))
<a name="l02437"></a>02437 {
<a name="l02438"></a>02438   <a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> ppi;
<a name="l02439"></a>02439   <a class="code" href="structparm__section__info.html">Parm_Section_Info</a> *psi;
<a name="l02440"></a>02440 
<a name="l02441"></a>02441 
<a name="l02442"></a>02442   <span class="comment">/* Set file name */</span>
<a name="l02443"></a>02443   ppi.<a class="code" href="structparm__parse__info__st.html#fbf0cb338be728d03c81c82014182c55">name</a> = parm_file_name;
<a name="l02444"></a>02444   ppi.<a class="code" href="structparm__parse__info__st.html#273f11c637779d64b112ec663692d5f4">line_no</a> = 0;
<a name="l02445"></a>02445 
<a name="l02446"></a>02446   <span class="comment">/* Initialize macro lists */</span>
<a name="l02447"></a>02447   ppi.<a class="code" href="structparm__parse__info__st.html#9bed9131e54df85ba3dacc6e598386cb">command_line_list</a> = command_line_macro_list;
<a name="l02448"></a>02448   ppi.<a class="code" href="structparm__parse__info__st.html#96eede8ab3525eab8199d38dd5d3c7cb">internal_list</a>[0] = <a class="code" href="l__parms_8c.html#c192c48345f8281ee12dbeabb46b8185">L_create_parm_macro_list</a> ();
<a name="l02449"></a>02449   ppi.<a class="code" href="structparm__parse__info__st.html#22828bed68ce338415b8382c07077278">internal_level</a> = 0;
<a name="l02450"></a>02450 
<a name="l02451"></a>02451   <span class="comment">/* </span>
<a name="l02452"></a>02452 <span class="comment">   * Copy the parse strings and functions to call, and</span>
<a name="l02453"></a>02453 <span class="comment">   * Allocate array so can mark when section found</span>
<a name="l02454"></a>02454 <span class="comment">   */</span>
<a name="l02455"></a>02455   psi = (<a class="code" href="structparm__section__info.html">Parm_Section_Info</a> *) malloc (<span class="keyword">sizeof</span> (<a class="code" href="structparm__section__info.html">Parm_Section_Info</a>));
<a name="l02456"></a>02456   <span class="keywordflow">if</span> (psi == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l02457"></a>02457     <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"Out of memory"</span>);
<a name="l02458"></a>02458 
<a name="l02459"></a>02459   <span class="comment">/* JCG, malloced incorrect size (used sizeof instead of strlen).  </span>
<a name="l02460"></a>02460 <span class="comment">   * Changed to strdup. </span>
<a name="l02461"></a>02461 <span class="comment">   */</span>
<a name="l02462"></a>02462   psi-&gt;<a class="code" href="structparm__section__info.html#0ed3c04dbc4547f374256137350f810a">name1</a> = strdup (section_name1);
<a name="l02463"></a>02463   <span class="keywordflow">if</span> (section_name2 != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l02464"></a>02464     psi-&gt;<a class="code" href="structparm__section__info.html#1ebefcdb6e2d367be0618352f96bb5ab">name2</a> = strdup (section_name2);
<a name="l02465"></a>02465   <span class="keywordflow">else</span>
<a name="l02466"></a>02466     psi-&gt;<a class="code" href="structparm__section__info.html#1ebefcdb6e2d367be0618352f96bb5ab">name2</a> = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l02467"></a>02467 
<a name="l02468"></a>02468   psi-&gt;<a class="code" href="structparm__section__info.html#9cc883c37209d8fc578883271ae1fec7">read_func</a> = read_func;
<a name="l02469"></a>02469   psi-&gt;<a class="code" href="structparm__section__info.html#a019a27e8f978548cf66a53f5bb453d9">parm_list</a> = <a class="code" href="l__parms_8c.html#aa30776a4ea3af977de79575a3d39027">L_create_parm_table_list</a> ();
<a name="l02470"></a>02470   <a class="code" href="l__parms_8c.html#bea3a267ff4c64fa5666dc5d59c6384a">parameter_list</a> = psi-&gt;<a class="code" href="structparm__section__info.html#a019a27e8f978548cf66a53f5bb453d9">parm_list</a>;
<a name="l02471"></a>02471 
<a name="l02472"></a>02472   <span class="comment">/* initialize the input start pointer for parameters */</span>
<a name="l02473"></a>02473   <a class="code" href="l__parms_8c.html#40b9004e8ee8e4c9b4cd1f20945241b4">start_node_of_input</a> = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l02474"></a>02474 
<a name="l02475"></a>02475   <span class="keywordflow">if</span> ((ppi.<a class="code" href="structparm__parse__info__st.html#6155e6a99d067e72711907b6b38c8860">file</a> = fopen (parm_file_name, <span class="stringliteral">"r"</span>)) == <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l02476"></a>02476     {
<a name="l02477"></a>02477       fprintf (stderr, <span class="stringliteral">"Unable to open parameter file '%s'.\n "</span>,
<a name="l02478"></a>02478                parm_file_name);
<a name="l02479"></a>02479       <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"Check setting of environment variable STD_PARMS_FILE."</span>);
<a name="l02480"></a>02480     }
<a name="l02481"></a>02481 
<a name="l02482"></a>02482   <span class="comment">/* initailize the warn list pointer to null.</span>
<a name="l02483"></a>02483 <span class="comment">   * the pointer must be initialized for the warnings to be added correctly.</span>
<a name="l02484"></a>02484 <span class="comment">   */</span>
<a name="l02485"></a>02485   <span class="keywordflow">if</span> ((<a class="code" href="l__parms_8c.html#95c32800b7e93bd491ac6054521d1519">warn_list</a> = (<a class="code" href="structparm__warn__list.html">Parm_Warn_List</a> *) malloc (<span class="keyword">sizeof</span> (<a class="code" href="structparm__warn__list.html">Parm_Warn_List</a>))) ==
<a name="l02486"></a>02486       <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l02487"></a>02487     <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"out of memory"</span>);
<a name="l02488"></a>02488   <a class="code" href="l__parms_8c.html#95c32800b7e93bd491ac6054521d1519">warn_list</a>-&gt;<a class="code" href="structparm__warn__list.html#010b718d3b92e1e097412e3292756e07">head</a> = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l02489"></a>02489 
<a name="l02490"></a>02490   <span class="comment">/* Initially neither name is used */</span>
<a name="l02491"></a>02491   <a class="code" href="l__parms_8c.html#b3618a90780bdfe2c9d4bb6609c3c654">section_name1_used</a> = 0;
<a name="l02492"></a>02492   <a class="code" href="l__parms_8c.html#eb7d3d952cc4201c1cdee122eee1958c">section_name2_used</a> = 0;
<a name="l02493"></a>02493 
<a name="l02494"></a>02494   <a class="code" href="l__parms_8c.html#13f4fc5e49389c952f6c36b2b36d0765">L_read_parm_sections</a> (&amp;ppi, psi);
<a name="l02495"></a>02495 
<a name="l02496"></a>02496   <a class="code" href="l__parms_8c.html#0cff626f34e757eb416f847b3dff5c9f">L_add_forced_parms</a> (&amp;ppi, psi-&gt;<a class="code" href="structparm__section__info.html#a019a27e8f978548cf66a53f5bb453d9">parm_list</a>);
<a name="l02497"></a>02497 
<a name="l02498"></a>02498   <span class="comment">/* Set "current_section_name1&amp;2" based on what section names</span>
<a name="l02499"></a>02499 <span class="comment">   * were actually used while reading parameters.</span>
<a name="l02500"></a>02500 <span class="comment">   */</span>
<a name="l02501"></a>02501   <span class="comment">/* If only name1 used, don't use name2 at all in messages */</span>
<a name="l02502"></a>02502   <span class="keywordflow">if</span> (<a class="code" href="l__parms_8c.html#b3618a90780bdfe2c9d4bb6609c3c654">section_name1_used</a> &amp;&amp; (!<a class="code" href="l__parms_8c.html#eb7d3d952cc4201c1cdee122eee1958c">section_name2_used</a>))
<a name="l02503"></a>02503     {
<a name="l02504"></a>02504       <a class="code" href="l__parms_8c.html#64158f38584b29f5a0cfcecd40f8ac89">current_section_name1</a> = psi-&gt;<a class="code" href="structparm__section__info.html#0ed3c04dbc4547f374256137350f810a">name1</a>;
<a name="l02505"></a>02505       <a class="code" href="l__parms_8c.html#f4165fc0be67b713ba10168fa0fb8698">current_section_name2</a> = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l02506"></a>02506     }
<a name="l02507"></a>02507   <span class="comment">/* If only name2 used, don't use name1 at all in messages */</span>
<a name="l02508"></a>02508   <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((!<a class="code" href="l__parms_8c.html#b3618a90780bdfe2c9d4bb6609c3c654">section_name1_used</a>) &amp;&amp; <a class="code" href="l__parms_8c.html#eb7d3d952cc4201c1cdee122eee1958c">section_name2_used</a>)
<a name="l02509"></a>02509     {
<a name="l02510"></a>02510       <a class="code" href="l__parms_8c.html#64158f38584b29f5a0cfcecd40f8ac89">current_section_name1</a> = psi-&gt;<a class="code" href="structparm__section__info.html#1ebefcdb6e2d367be0618352f96bb5ab">name2</a>;
<a name="l02511"></a>02511       <a class="code" href="l__parms_8c.html#f4165fc0be67b713ba10168fa0fb8698">current_section_name2</a> = <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l02512"></a>02512 
<a name="l02513"></a>02513       <span class="comment">/* If turned on, warn external users that they are using the "old" </span>
<a name="l02514"></a>02514 <span class="comment">       * version of the parameter file section name.</span>
<a name="l02515"></a>02515 <span class="comment">       */</span>
<a name="l02516"></a>02516       <span class="keywordflow">if</span> (<a class="code" href="l__parms_8c.html#a6c1f01f3f17239261b3d73364478201">L_warn_old_parm_section_name_used</a>)
<a name="l02517"></a>02517         {
<a name="l02518"></a>02518           fprintf (stderr,
<a name="l02519"></a>02519                    <span class="stringliteral">"\nWarning: Read parameters from '%s' (old name) "</span>
<a name="l02520"></a>02520                    <span class="stringliteral">"because unable\n"</span>
<a name="l02521"></a>02521                    <span class="stringliteral">"         to find '%s' (new name) in\n"</span>
<a name="l02522"></a>02522                    <span class="stringliteral">"         '%s'.\n\n"</span>,
<a name="l02523"></a>02523                    psi-&gt;<a class="code" href="structparm__section__info.html#1ebefcdb6e2d367be0618352f96bb5ab">name2</a>, psi-&gt;<a class="code" href="structparm__section__info.html#0ed3c04dbc4547f374256137350f810a">name1</a>, parm_file_name);
<a name="l02524"></a>02524         }
<a name="l02525"></a>02525     }
<a name="l02526"></a>02526   <span class="comment">/* If both names are used, use both in messages */</span>
<a name="l02527"></a>02527   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="l__parms_8c.html#b3618a90780bdfe2c9d4bb6609c3c654">section_name1_used</a> &amp;&amp; <a class="code" href="l__parms_8c.html#eb7d3d952cc4201c1cdee122eee1958c">section_name2_used</a>)
<a name="l02528"></a>02528     {
<a name="l02529"></a>02529       <a class="code" href="l__parms_8c.html#64158f38584b29f5a0cfcecd40f8ac89">current_section_name1</a> = psi-&gt;<a class="code" href="structparm__section__info.html#0ed3c04dbc4547f374256137350f810a">name1</a>;
<a name="l02530"></a>02530       <a class="code" href="l__parms_8c.html#f4165fc0be67b713ba10168fa0fb8698">current_section_name2</a> = psi-&gt;<a class="code" href="structparm__section__info.html#1ebefcdb6e2d367be0618352f96bb5ab">name2</a>;
<a name="l02531"></a>02531 
<a name="l02532"></a>02532       <span class="comment">/* If turned on, warn external users that they are using a mixture of</span>
<a name="l02533"></a>02533 <span class="comment">       * the "old" and "new" version of the parameter file section name.</span>
<a name="l02534"></a>02534 <span class="comment">       */</span>
<a name="l02535"></a>02535       <span class="keywordflow">if</span> (<a class="code" href="l__parms_8c.html#a6c1f01f3f17239261b3d73364478201">L_warn_old_parm_section_name_used</a>)
<a name="l02536"></a>02536         {
<a name="l02537"></a>02537           fprintf (stderr,
<a name="l02538"></a>02538                    <span class="stringliteral">"\nWarning: Mixture of '%s' (new name) and "</span>
<a name="l02539"></a>02539                    <span class="stringliteral">"'%s' (old name)\n"</span>
<a name="l02540"></a>02540                    <span class="stringliteral">"         found in '%s'.\n\n"</span>,
<a name="l02541"></a>02541                    psi-&gt;<a class="code" href="structparm__section__info.html#0ed3c04dbc4547f374256137350f810a">name1</a>, psi-&gt;<a class="code" href="structparm__section__info.html#1ebefcdb6e2d367be0618352f96bb5ab">name2</a>, parm_file_name);
<a name="l02542"></a>02542         }
<a name="l02543"></a>02543     }
<a name="l02544"></a>02544   <span class="comment">/* Should never get here */</span>
<a name="l02545"></a>02545   <span class="keywordflow">else</span>
<a name="l02546"></a>02546     {
<a name="l02547"></a>02547       <span class="keywordflow">if</span> (psi-&gt;<a class="code" href="structparm__section__info.html#1ebefcdb6e2d367be0618352f96bb5ab">name2</a> != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l02548"></a>02548         {
<a name="l02549"></a>02549           <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"_L_load_parameters: Neither section %s or %s used!"</span>,
<a name="l02550"></a>02550                   psi-&gt;<a class="code" href="structparm__section__info.html#0ed3c04dbc4547f374256137350f810a">name1</a>, psi-&gt;<a class="code" href="structparm__section__info.html#1ebefcdb6e2d367be0618352f96bb5ab">name2</a>);
<a name="l02551"></a>02551         }
<a name="l02552"></a>02552       <span class="keywordflow">else</span>
<a name="l02553"></a>02553         {
<a name="l02554"></a>02554           <a class="code" href="l__parms_8c.html#5ec5a66d831525f9fc1286cff963e964">I_punt</a> (<span class="stringliteral">"_L_load_parameters: Section not used!"</span>, psi-&gt;<a class="code" href="structparm__section__info.html#0ed3c04dbc4547f374256137350f810a">name1</a>);
<a name="l02555"></a>02555         }
<a name="l02556"></a>02556     }
<a name="l02557"></a>02557 
<a name="l02558"></a>02558   ppi.<a class="code" href="structparm__parse__info__st.html#b703c181b4299e93d8fb87c10294096d">parm_list</a> = psi-&gt;<a class="code" href="structparm__section__info.html#a019a27e8f978548cf66a53f5bb453d9">parm_list</a>;
<a name="l02559"></a>02559 
<a name="l02560"></a>02560   <span class="comment">/* JCG 1/18/95 added &amp; to front of ppi so that it is passed by reference</span>
<a name="l02561"></a>02561 <span class="comment">   * as read_func is expecting.</span>
<a name="l02562"></a>02562 <span class="comment">   * Our compilers hid this bug because the structure is about 10k and</span>
<a name="l02563"></a>02563 <span class="comment">   * they passed it by reference anyway. :)</span>
<a name="l02564"></a>02564 <span class="comment">   */</span>
<a name="l02565"></a>02565   psi-&gt;<a class="code" href="structparm__section__info.html#9cc883c37209d8fc578883271ae1fec7">read_func</a> (&amp;ppi);
<a name="l02566"></a>02566   <a class="code" href="l__parms_8c.html#e48a84c9930f422e28906cecb4240390">L_add_parm_not_used</a> (psi-&gt;<a class="code" href="structparm__section__info.html#a019a27e8f978548cf66a53f5bb453d9">parm_list</a>, <a class="code" href="l__parms_8c.html#64158f38584b29f5a0cfcecd40f8ac89">current_section_name1</a>,
<a name="l02567"></a>02567                        <a class="code" href="l__parms_8c.html#f4165fc0be67b713ba10168fa0fb8698">current_section_name2</a>);
<a name="l02568"></a>02568 
<a name="l02569"></a>02569   <a class="code" href="l__parms_8c.html#f725b05a5b630bdea7d8b719c8f50f61">L_show_parms_warnings</a> ();
<a name="l02570"></a>02570 
<a name="l02571"></a>02571   <span class="comment">/* Free the allocated memory */</span>
<a name="l02572"></a>02572   free (psi-&gt;<a class="code" href="structparm__section__info.html#0ed3c04dbc4547f374256137350f810a">name1</a>);
<a name="l02573"></a>02573   <span class="keywordflow">if</span> (psi-&gt;<a class="code" href="structparm__section__info.html#1ebefcdb6e2d367be0618352f96bb5ab">name2</a> != <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l02574"></a>02574     free (psi-&gt;<a class="code" href="structparm__section__info.html#1ebefcdb6e2d367be0618352f96bb5ab">name2</a>);
<a name="l02575"></a>02575   <a class="code" href="l__parms_8c.html#eff2896ccf418f5e001f57d42e928740">L_free_parm_table_list</a> (psi-&gt;<a class="code" href="structparm__section__info.html#a019a27e8f978548cf66a53f5bb453d9">parm_list</a>);
<a name="l02576"></a>02576 
<a name="l02577"></a>02577   free (psi);
<a name="l02578"></a>02578 
<a name="l02579"></a>02579   fclose (ppi.<a class="code" href="structparm__parse__info__st.html#6155e6a99d067e72711907b6b38c8860">file</a>);
<a name="l02580"></a>02580 
<a name="l02581"></a>02581   <span class="comment">/* Free internal macro list */</span>
<a name="l02582"></a>02582   <a class="code" href="l__parms_8c.html#d4b06aa55eb13d77d7d2884ae752aef8">L_free_parm_macro_list</a> (ppi.<a class="code" href="structparm__parse__info__st.html#96eede8ab3525eab8199d38dd5d3c7cb">internal_list</a>[0]);
<a name="l02583"></a>02583 }
<a name="l02584"></a>02584 
<a name="l02585"></a>02585 <span class="comment">/* Classic interface for when section name is not aliased  -JCG 5/19/98 */</span>
<a name="l02586"></a>02586 <span class="keywordtype">void</span>
<a name="l02587"></a><a class="code" href="l__parms_8h.html#80475b4cf1dc53921096f8756a16b542">02587</a> <a class="code" href="l__parms_8c.html#80475b4cf1dc53921096f8756a16b542">L_load_parameters</a> (<span class="keywordtype">char</span> *parm_file_name,
<a name="l02588"></a>02588                    <a class="code" href="structparm__macro__list.html">Parm_Macro_List</a> * command_line_macro_list,
<a name="l02589"></a>02589                    <span class="keywordtype">char</span> *section, <span class="keywordtype">void</span> (*read_func) (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi))
<a name="l02590"></a>02590 {
<a name="l02591"></a>02591 
<a name="l02592"></a>02592   <a class="code" href="l__parms_8c.html#ed7d1db7730c25bb4f8eda913ba2fc9b">_L_load_parameters</a> (parm_file_name, command_line_macro_list,
<a name="l02593"></a>02593                       section, <a class="code" href="i__global_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, read_func);
<a name="l02594"></a>02594 }
<a name="l02595"></a>02595 
<a name="l02596"></a>02596 <span class="comment">/* New interface for when section name is aliased  -JCG 5/19/98</span>
<a name="l02597"></a>02597 <span class="comment"> * Allows both an "new" and "old" name for a section to be used. */</span>
<a name="l02598"></a>02598 <span class="keywordtype">void</span>
<a name="l02599"></a><a class="code" href="l__parms_8h.html#bcb88cfb83d54c9c10936af2ca0c6155">02599</a> <a class="code" href="l__parms_8c.html#bcb88cfb83d54c9c10936af2ca0c6155">L_load_parameters_aliased</a> (<span class="keywordtype">char</span> *parm_file_name,
<a name="l02600"></a>02600                            <a class="code" href="structparm__macro__list.html">Parm_Macro_List</a> * command_line_macro_list,
<a name="l02601"></a>02601                            <span class="keywordtype">char</span> *new_section_name,
<a name="l02602"></a>02602                            <span class="keywordtype">char</span> *old_section_name,
<a name="l02603"></a>02603                            <span class="keywordtype">void</span> (*read_func) (<a class="code" href="structparm__parse__info__st.html">Parm_Parse_Info</a> * ppi))
<a name="l02604"></a>02604 {
<a name="l02605"></a>02605 
<a name="l02606"></a>02606   <a class="code" href="l__parms_8c.html#ed7d1db7730c25bb4f8eda913ba2fc9b">_L_load_parameters</a> (parm_file_name, command_line_macro_list,
<a name="l02607"></a>02607                       new_section_name, old_section_name, read_func);
<a name="l02608"></a>02608 }
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sat Aug 30 17:58:20 2014 for libimpact by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
