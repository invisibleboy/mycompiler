\section{block\_\-sparse\_\-array.c File Reference}
\label{block__sparse__array_8c}\index{block_sparse_array.c@{block\_\-sparse\_\-array.c}}
{\tt \#include $<$config.h$>$}\par
{\tt \#include $<$stdlib.h$>$}\par
{\tt \#include $<$malloc.h$>$}\par
{\tt \#include $<$string.h$>$}\par
{\tt \#include $<$stdio.h$>$}\par
{\tt \#include $<$library/i\_\-error.h$>$}\par
{\tt \#include \char`\"{}block\_\-sparse\_\-array.h\char`\"{}}\par
\subsection*{Functions}
\begin{CompactItemize}
\item 
static void \bf{Allocate\-Data} (\bf{Block\-Sparse\-Array} block, int index, int length)
\item 
static \bf{Block\-Sparse\-Array} \bf{Extract\-Block} (\bf{Block\-Sparse\-Array} block, int index, int length)
\item 
static void \bf{Merge\-Blocks} (\bf{Block\-Sparse\-Array} $\ast$array, int index, int length)
\item 
static int \bf{Get\-Block} (\bf{Block\-Sparse\-Array} $\ast$array, int index)
\item 
static void \bf{Get\-Or\-Add\-Block} (\bf{Block\-Sparse\-Array} $\ast$array, int index, int length)
\item 
\bf{Block\-Sparse\-Array} \bf{New\-Block\-Sparse\-Array} ()
\item 
void \bf{Free\-Block\-Sparse\-Array} (\bf{Block\-Sparse\-Array} array)
\item 
void \bf{Block\-Sparse\-Array\-Set} (\bf{Block\-Sparse\-Array} $\ast$array, int index, void $\ast$data)
\item 
void \bf{Block\-Sparse\-Array\-Clear} (\bf{Block\-Sparse\-Array} $\ast$array, int index)
\item 
void $\ast$ \bf{Block\-Sparse\-Array\-Get} (\bf{Block\-Sparse\-Array} $\ast$array, int index)
\item 
int \bf{Block\-Sparse\-Array\-Get\-First\-Index} (\bf{Block\-Sparse\-Array} $\ast$array)
\item 
int \bf{Block\-Sparse\-Array\-Get\-Next\-Index} (\bf{Block\-Sparse\-Array} $\ast$array, int index)
\item 
int \bf{Block\-Sparse\-Array\-Get\-First\-Non\-Zero\-Index} (\bf{Block\-Sparse\-Array} $\ast$array)
\item 
int \bf{Block\-Sparse\-Array\-Get\-Next\-Non\-Zero\-Index} (\bf{Block\-Sparse\-Array} $\ast$array, int index)
\item 
void $\ast$ \bf{Block\-Sparse\-Array\-Get\-First\-Non\-Zero} (\bf{Block\-Sparse\-Array} $\ast$array, int $\ast$index)
\item 
void $\ast$ \bf{Block\-Sparse\-Array\-Get\-Next\-Non\-Zero} (\bf{Block\-Sparse\-Array} $\ast$array, int $\ast$index)
\item 
void \bf{Block\-Sparse\-Array\-Set\-Option} (\bf{Block\-Sparse\-Array} array, int option)
\item 
void \bf{Block\-Sparse\-Array\-Clr\-Option} (\bf{Block\-Sparse\-Array} array, int option)
\item 
void \bf{Block\-Sparse\-Array\-Prepare} (\bf{Block\-Sparse\-Array} $\ast$array, int index, int length)
\item 
void \bf{Block\-Sparse\-Array\-Compact} (\bf{Block\-Sparse\-Array} $\ast$array)
\item 
void \bf{Block\-Sparse\-Array\-Dump} (\bf{Block\-Sparse\-Array} array, FILE $\ast$out, void($\ast$print\_\-func)(FILE $\ast$out, void $\ast$data))
\end{CompactItemize}


\subsection{Function Documentation}
\index{block_sparse_array.c@{block\_\-sparse\_\-array.c}!AllocateData@{AllocateData}}
\index{AllocateData@{AllocateData}!block_sparse_array.c@{block\_\-sparse\_\-array.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static void Allocate\-Data (\bf{Block\-Sparse\-Array} {\em block}, int {\em index}, int {\em length})\hspace{0.3cm}{\tt  [static]}}\label{block__sparse__array_8c_e39caf7cb864a4002117f1ad0af68dd5}




Definition at line 597 of file block\_\-sparse\_\-array.c.

References BSA\_\-BLOCK\_\-INDEX, BSA\_\-BLOCK\_\-LENGTH, \_\-Block\-Sparse\-Array::data, \_\-Block\-Sparse\-Array::first\_\-index, I\_\-punt(), \_\-Block\-Sparse\-Array::length, and NULL.

Referenced by Extract\-Block(), Get\-Or\-Add\-Block(), and Merge\-Blocks().\index{block_sparse_array.c@{block\_\-sparse\_\-array.c}!BlockSparseArrayClear@{BlockSparseArrayClear}}
\index{BlockSparseArrayClear@{BlockSparseArrayClear}!block_sparse_array.c@{block\_\-sparse\_\-array.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Block\-Sparse\-Array\-Clear (\bf{Block\-Sparse\-Array} $\ast$ {\em array}, int {\em index})}\label{block__sparse__array_8c_addb19ecae936e51d15d2054eeffdbe1}




Definition at line 156 of file block\_\-sparse\_\-array.c.

References Get\-Or\-Add\-Block(), I\_\-punt(), and NULL.\index{block_sparse_array.c@{block\_\-sparse\_\-array.c}!BlockSparseArrayClrOption@{BlockSparseArrayClrOption}}
\index{BlockSparseArrayClrOption@{BlockSparseArrayClrOption}!block_sparse_array.c@{block\_\-sparse\_\-array.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Block\-Sparse\-Array\-Clr\-Option (\bf{Block\-Sparse\-Array} {\em array}, int {\em option})}\label{block__sparse__array_8c_c0a4eb2f032ed20389a564bf174c98fe}




Definition at line 403 of file block\_\-sparse\_\-array.c.

References \_\-Block\-Sparse\-Array::next, \_\-Block\-Sparse\-Array::options, and \_\-Block\-Sparse\-Array::prev.

Referenced by Merge\-Blocks().\index{block_sparse_array.c@{block\_\-sparse\_\-array.c}!BlockSparseArrayCompact@{BlockSparseArrayCompact}}
\index{BlockSparseArrayCompact@{BlockSparseArrayCompact}!block_sparse_array.c@{block\_\-sparse\_\-array.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Block\-Sparse\-Array\-Compact (\bf{Block\-Sparse\-Array} $\ast$ {\em array})}\label{block__sparse__array_8c_ca4448964f6ae7164e8e6b7e3fdebdc8}




Definition at line 431 of file block\_\-sparse\_\-array.c.

References BLOCK\_\-SIZE, BSA\_\-BLOCK\_\-INDEX, \_\-Block\-Sparse\-Array::data, Extract\-Block(), \_\-Block\-Sparse\-Array::first\_\-index, \_\-Block\-Sparse\-Array::length, \_\-Block\-Sparse\-Array::next, NULL, and \_\-Block\-Sparse\-Array::prev.\index{block_sparse_array.c@{block\_\-sparse\_\-array.c}!BlockSparseArrayDump@{BlockSparseArrayDump}}
\index{BlockSparseArrayDump@{BlockSparseArrayDump}!block_sparse_array.c@{block\_\-sparse\_\-array.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Block\-Sparse\-Array\-Dump (\bf{Block\-Sparse\-Array} {\em array}, FILE $\ast$ {\em out}, void($\ast$)(FILE $\ast$out, void $\ast$data) {\em print\_\-func})}\label{block__sparse__array_8c_235c49b2a1c0bba47b344568ed490866}




Definition at line 552 of file block\_\-sparse\_\-array.c.

References \_\-Block\-Sparse\-Array::next, and \_\-Block\-Sparse\-Array::prev.\index{block_sparse_array.c@{block\_\-sparse\_\-array.c}!BlockSparseArrayGet@{BlockSparseArrayGet}}
\index{BlockSparseArrayGet@{BlockSparseArrayGet}!block_sparse_array.c@{block\_\-sparse\_\-array.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ Block\-Sparse\-Array\-Get (\bf{Block\-Sparse\-Array} $\ast$ {\em array}, int {\em index})}\label{block__sparse__array_8c_1c50d98a3304ccd73b83a89417606ca5}




Definition at line 172 of file block\_\-sparse\_\-array.c.

References Get\-Block(), and NULL.\index{block_sparse_array.c@{block\_\-sparse\_\-array.c}!BlockSparseArrayGetFirstIndex@{BlockSparseArrayGetFirstIndex}}
\index{BlockSparseArrayGetFirstIndex@{BlockSparseArrayGetFirstIndex}!block_sparse_array.c@{block\_\-sparse\_\-array.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Block\-Sparse\-Array\-Get\-First\-Index (\bf{Block\-Sparse\-Array} $\ast$ {\em array})}\label{block__sparse__array_8c_6adb292385a6ca7a1e64b7bd9d196597}




Definition at line 185 of file block\_\-sparse\_\-array.c.\index{block_sparse_array.c@{block\_\-sparse\_\-array.c}!BlockSparseArrayGetFirstNonZero@{BlockSparseArrayGetFirstNonZero}}
\index{BlockSparseArrayGetFirstNonZero@{BlockSparseArrayGetFirstNonZero}!block_sparse_array.c@{block\_\-sparse\_\-array.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ Block\-Sparse\-Array\-Get\-First\-Non\-Zero (\bf{Block\-Sparse\-Array} $\ast$ {\em array}, int $\ast$ {\em index})}\label{block__sparse__array_8c_19a09bd1a8a10ecb044eb709c4758329}




Definition at line 311 of file block\_\-sparse\_\-array.c.

References \_\-Block\-Sparse\-Array::data, \_\-Block\-Sparse\-Array::first\_\-index, \_\-Block\-Sparse\-Array::length, \_\-Block\-Sparse\-Array::next, NULL, and \_\-Block\-Sparse\-Array::prev.\index{block_sparse_array.c@{block\_\-sparse\_\-array.c}!BlockSparseArrayGetFirstNonZeroIndex@{BlockSparseArrayGetFirstNonZeroIndex}}
\index{BlockSparseArrayGetFirstNonZeroIndex@{BlockSparseArrayGetFirstNonZeroIndex}!block_sparse_array.c@{block\_\-sparse\_\-array.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Block\-Sparse\-Array\-Get\-First\-Non\-Zero\-Index (\bf{Block\-Sparse\-Array} $\ast$ {\em array})}\label{block__sparse__array_8c_f411bba4c8aad6b1feff3fe14c860bf9}




Definition at line 236 of file block\_\-sparse\_\-array.c.

References \_\-Block\-Sparse\-Array::data, \_\-Block\-Sparse\-Array::first\_\-index, \_\-Block\-Sparse\-Array::length, \_\-Block\-Sparse\-Array::next, NULL, and \_\-Block\-Sparse\-Array::prev.\index{block_sparse_array.c@{block\_\-sparse\_\-array.c}!BlockSparseArrayGetNextIndex@{BlockSparseArrayGetNextIndex}}
\index{BlockSparseArrayGetNextIndex@{BlockSparseArrayGetNextIndex}!block_sparse_array.c@{block\_\-sparse\_\-array.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Block\-Sparse\-Array\-Get\-Next\-Index (\bf{Block\-Sparse\-Array} $\ast$ {\em array}, int {\em index})}\label{block__sparse__array_8c_e8d38d30d99d06ccbc76c978f2325646}




Definition at line 201 of file block\_\-sparse\_\-array.c.

References Get\-Block().\index{block_sparse_array.c@{block\_\-sparse\_\-array.c}!BlockSparseArrayGetNextNonZero@{BlockSparseArrayGetNextNonZero}}
\index{BlockSparseArrayGetNextNonZero@{BlockSparseArrayGetNextNonZero}!block_sparse_array.c@{block\_\-sparse\_\-array.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ Block\-Sparse\-Array\-Get\-Next\-Non\-Zero (\bf{Block\-Sparse\-Array} $\ast$ {\em array}, int $\ast$ {\em index})}\label{block__sparse__array_8c_2224a6eace237cc92f0c74744ab68247}




Definition at line 342 of file block\_\-sparse\_\-array.c.

References \_\-Block\-Sparse\-Array::data, \_\-Block\-Sparse\-Array::first\_\-index, Get\-Block(), \_\-Block\-Sparse\-Array::length, \_\-Block\-Sparse\-Array::next, and NULL.\index{block_sparse_array.c@{block\_\-sparse\_\-array.c}!BlockSparseArrayGetNextNonZeroIndex@{BlockSparseArrayGetNextNonZeroIndex}}
\index{BlockSparseArrayGetNextNonZeroIndex@{BlockSparseArrayGetNextNonZeroIndex}!block_sparse_array.c@{block\_\-sparse\_\-array.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Block\-Sparse\-Array\-Get\-Next\-Non\-Zero\-Index (\bf{Block\-Sparse\-Array} $\ast$ {\em array}, int {\em index})}\label{block__sparse__array_8c_2bc3cfe3a80e7f68cada4de4f38ab232}




Definition at line 264 of file block\_\-sparse\_\-array.c.

References \_\-Block\-Sparse\-Array::data, \_\-Block\-Sparse\-Array::first\_\-index, Get\-Block(), \_\-Block\-Sparse\-Array::length, \_\-Block\-Sparse\-Array::next, and NULL.\index{block_sparse_array.c@{block\_\-sparse\_\-array.c}!BlockSparseArrayPrepare@{BlockSparseArrayPrepare}}
\index{BlockSparseArrayPrepare@{BlockSparseArrayPrepare}!block_sparse_array.c@{block\_\-sparse\_\-array.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Block\-Sparse\-Array\-Prepare (\bf{Block\-Sparse\-Array} $\ast$ {\em array}, int {\em index}, int {\em length})}\label{block__sparse__array_8c_7f0e8079e206ab4caa1e80ee4418770d}




Definition at line 421 of file block\_\-sparse\_\-array.c.

References Get\-Or\-Add\-Block().\index{block_sparse_array.c@{block\_\-sparse\_\-array.c}!BlockSparseArraySet@{BlockSparseArraySet}}
\index{BlockSparseArraySet@{BlockSparseArraySet}!block_sparse_array.c@{block\_\-sparse\_\-array.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Block\-Sparse\-Array\-Set (\bf{Block\-Sparse\-Array} $\ast$ {\em array}, int {\em index}, void $\ast$ {\em data})}\label{block__sparse__array_8c_1cbcf4fa36138a9fd05f2517fc2fe5ea}




Definition at line 132 of file block\_\-sparse\_\-array.c.

References BSA\_\-WARN\_\-ON\_\-OVERWRITE, Get\-Or\-Add\-Block(), I\_\-punt(), I\_\-warn(), and NULL.\index{block_sparse_array.c@{block\_\-sparse\_\-array.c}!BlockSparseArraySetOption@{BlockSparseArraySetOption}}
\index{BlockSparseArraySetOption@{BlockSparseArraySetOption}!block_sparse_array.c@{block\_\-sparse\_\-array.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Block\-Sparse\-Array\-Set\-Option (\bf{Block\-Sparse\-Array} {\em array}, int {\em option})}\label{block__sparse__array_8c_8a80d175ad7bb329b089b3e9de62a2c7}




Definition at line 389 of file block\_\-sparse\_\-array.c.

References \_\-Block\-Sparse\-Array::next, \_\-Block\-Sparse\-Array::options, and \_\-Block\-Sparse\-Array::prev.\index{block_sparse_array.c@{block\_\-sparse\_\-array.c}!ExtractBlock@{ExtractBlock}}
\index{ExtractBlock@{ExtractBlock}!block_sparse_array.c@{block\_\-sparse\_\-array.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static \bf{Block\-Sparse\-Array} Extract\-Block (\bf{Block\-Sparse\-Array} {\em block}, int {\em index}, int {\em length})\hspace{0.3cm}{\tt  [static]}}\label{block__sparse__array_8c_a548621584dd685e3899f74ea057b6a4}




Definition at line 617 of file block\_\-sparse\_\-array.c.

References Allocate\-Data(), \_\-Block\-Sparse\-Array::data, \_\-Block\-Sparse\-Array::first\_\-index, \_\-Block\-Sparse\-Array::length, New\-Block\-Sparse\-Array(), and \_\-Block\-Sparse\-Array::options.

Referenced by Block\-Sparse\-Array\-Compact().\index{block_sparse_array.c@{block\_\-sparse\_\-array.c}!FreeBlockSparseArray@{FreeBlockSparseArray}}
\index{FreeBlockSparseArray@{FreeBlockSparseArray}!block_sparse_array.c@{block\_\-sparse\_\-array.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Free\-Block\-Sparse\-Array (\bf{Block\-Sparse\-Array} {\em array})}\label{block__sparse__array_8c_7291c7747788fe0ae7e0bd8a0284f852}




Definition at line 96 of file block\_\-sparse\_\-array.c.

References BSA\_\-CHECK\_\-NULL\_\-ON\_\-FREE, \_\-Block\-Sparse\-Array::data, \_\-Block\-Sparse\-Array::first\_\-index, Free\-Block\-Sparse\-Array(), I\_\-warn(), \_\-Block\-Sparse\-Array::length, \_\-Block\-Sparse\-Array::next, NULL, \_\-Block\-Sparse\-Array::options, and \_\-Block\-Sparse\-Array::prev.

Referenced by Free\-Block\-Sparse\-Array(), and Merge\-Blocks().\index{block_sparse_array.c@{block\_\-sparse\_\-array.c}!GetBlock@{GetBlock}}
\index{GetBlock@{GetBlock}!block_sparse_array.c@{block\_\-sparse\_\-array.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static int Get\-Block (\bf{Block\-Sparse\-Array} $\ast$ {\em array}, int {\em index})\hspace{0.3cm}{\tt  [static]}}\label{block__sparse__array_8c_5994e103574776b45fc60c6a2806fa16}




Definition at line 739 of file block\_\-sparse\_\-array.c.

References \_\-Block\-Sparse\-Array::first\_\-index, \_\-Block\-Sparse\-Array::length, \_\-Block\-Sparse\-Array::next, NULL, and \_\-Block\-Sparse\-Array::prev.

Referenced by Block\-Sparse\-Array\-Get(), Block\-Sparse\-Array\-Get\-Next\-Index(), Block\-Sparse\-Array\-Get\-Next\-Non\-Zero(), Block\-Sparse\-Array\-Get\-Next\-Non\-Zero\-Index(), and Merge\-Blocks().\index{block_sparse_array.c@{block\_\-sparse\_\-array.c}!GetOrAddBlock@{GetOrAddBlock}}
\index{GetOrAddBlock@{GetOrAddBlock}!block_sparse_array.c@{block\_\-sparse\_\-array.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static void Get\-Or\-Add\-Block (\bf{Block\-Sparse\-Array} $\ast$ {\em array}, int {\em index}, int {\em length})\hspace{0.3cm}{\tt  [static]}}\label{block__sparse__array_8c_dd79f6f9fc689b08c9348092df9fcd82}




Definition at line 780 of file block\_\-sparse\_\-array.c.

References Allocate\-Data(), BSA\_\-BLOCK\_\-INDEX, BSA\_\-BLOCK\_\-LENGTH, \_\-Block\-Sparse\-Array::first\_\-index, I\_\-punt(), \_\-Block\-Sparse\-Array::length, Merge\-Blocks(), New\-Block\-Sparse\-Array(), \_\-Block\-Sparse\-Array::next, NULL, and \_\-Block\-Sparse\-Array::prev.

Referenced by Block\-Sparse\-Array\-Clear(), Block\-Sparse\-Array\-Prepare(), and Block\-Sparse\-Array\-Set().\index{block_sparse_array.c@{block\_\-sparse\_\-array.c}!MergeBlocks@{MergeBlocks}}
\index{MergeBlocks@{MergeBlocks}!block_sparse_array.c@{block\_\-sparse\_\-array.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static void Merge\-Blocks (\bf{Block\-Sparse\-Array} $\ast$ {\em array}, int {\em index}, int {\em length})\hspace{0.3cm}{\tt  [static]}}\label{block__sparse__array_8c_7566e8b8b809ba4a0abcafa6ad6d3e06}




Definition at line 644 of file block\_\-sparse\_\-array.c.

References Allocate\-Data(), BLOCK\_\-SIZE, Block\-Sparse\-Array\-Clr\-Option(), BSA\_\-CHECK\_\-NULL\_\-ON\_\-FREE, \_\-Block\-Sparse\-Array::data, \_\-Block\-Sparse\-Array::first\_\-index, Free\-Block\-Sparse\-Array(), Get\-Block(), \_\-Block\-Sparse\-Array::length, New\-Block\-Sparse\-Array(), \_\-Block\-Sparse\-Array::next, NULL, and \_\-Block\-Sparse\-Array::prev.

Referenced by Get\-Or\-Add\-Block().\index{block_sparse_array.c@{block\_\-sparse\_\-array.c}!NewBlockSparseArray@{NewBlockSparseArray}}
\index{NewBlockSparseArray@{NewBlockSparseArray}!block_sparse_array.c@{block\_\-sparse\_\-array.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\bf{Block\-Sparse\-Array} New\-Block\-Sparse\-Array ()}\label{block__sparse__array_8c_4070ef3b8cd4519b49811f88002197a5}




Definition at line 81 of file block\_\-sparse\_\-array.c.

References I\_\-punt(), and NULL.

Referenced by Extract\-Block(), Get\-Or\-Add\-Block(), and Merge\-Blocks().