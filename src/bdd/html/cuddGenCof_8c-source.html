<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>libbdd: cuddGenCof.c Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>cuddGenCof.c</h1><a href="cuddGenCof_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00049"></a>00049 <span class="comment">/* 10/29/02 REK Adding config.h */</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &lt;config.h&gt;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &lt;bdd/util.h&gt;</span>
<a name="l00052"></a>00052 <span class="preprocessor">#include &lt;bdd/st.h&gt;</span>
<a name="l00053"></a>00053 <span class="preprocessor">#include &lt;bdd/cuddInt.h&gt;</span>
<a name="l00054"></a>00054 
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="comment">/*---------------------------------------------------------------------------*/</span>
<a name="l00057"></a>00057 <span class="comment">/* Constant declarations                                                     */</span>
<a name="l00058"></a>00058 <span class="comment">/*---------------------------------------------------------------------------*/</span>
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 <span class="comment">/* Codes for edge markings in Cudd_bddLICompaction.  The codes are defined</span>
<a name="l00061"></a>00061 <span class="comment">** so that they can be bitwise ORed to implement the code priority scheme.</span>
<a name="l00062"></a>00062 <span class="comment">*/</span>
<a name="l00063"></a><a class="code" href="cuddGenCof_8c.html#58e6e08b6d6eecaa27751fe9daa7572f">00063</a> <span class="preprocessor">#define DD_LIC_DC 0</span>
<a name="l00064"></a><a class="code" href="cuddGenCof_8c.html#38013a854f3a3668b3884fa41ce4bb97">00064</a> <span class="preprocessor"></span><span class="preprocessor">#define DD_LIC_1  1</span>
<a name="l00065"></a><a class="code" href="cuddGenCof_8c.html#47f751f28a0a4c6bcbf8a7a0b00d7c5c">00065</a> <span class="preprocessor"></span><span class="preprocessor">#define DD_LIC_0  2</span>
<a name="l00066"></a><a class="code" href="cuddGenCof_8c.html#9dff231f69b4be9b27fc2eddde0c4fa6">00066</a> <span class="preprocessor"></span><span class="preprocessor">#define DD_LIC_NL 3</span>
<a name="l00067"></a>00067 <span class="preprocessor"></span>
<a name="l00068"></a>00068 <span class="comment">/*---------------------------------------------------------------------------*/</span>
<a name="l00069"></a>00069 <span class="comment">/* Stucture declarations                                                     */</span>
<a name="l00070"></a>00070 <span class="comment">/*---------------------------------------------------------------------------*/</span>
<a name="l00071"></a>00071 
<a name="l00072"></a>00072 
<a name="l00073"></a>00073 <span class="comment">/*---------------------------------------------------------------------------*/</span>
<a name="l00074"></a>00074 <span class="comment">/* Type declarations                                                         */</span>
<a name="l00075"></a>00075 <span class="comment">/*---------------------------------------------------------------------------*/</span>
<a name="l00076"></a>00076 
<a name="l00077"></a>00077 <span class="comment">/* Key for the cache used in the edge marking phase. */</span>
<a name="l00078"></a><a class="code" href="structMarkCacheKey.html">00078</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structMarkCacheKey.html">MarkCacheKey</a> {
<a name="l00079"></a><a class="code" href="structMarkCacheKey.html#8c719eb87ecb7f0b2f8ada1a375de814">00079</a>     <a class="code" href="structDdNode.html">DdNode</a> *<a class="code" href="structMarkCacheKey.html#8c719eb87ecb7f0b2f8ada1a375de814">f</a>;
<a name="l00080"></a><a class="code" href="structMarkCacheKey.html#06bf4f869966be347c5ac10292004cff">00080</a>     <a class="code" href="structDdNode.html">DdNode</a> *<a class="code" href="structMarkCacheKey.html#06bf4f869966be347c5ac10292004cff">c</a>;
<a name="l00081"></a>00081 } <a class="code" href="structMarkCacheKey.html">MarkCacheKey</a>;
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 <span class="comment">/*---------------------------------------------------------------------------*/</span>
<a name="l00084"></a>00084 <span class="comment">/* Variable declarations                                                     */</span>
<a name="l00085"></a>00085 <span class="comment">/*---------------------------------------------------------------------------*/</span>
<a name="l00086"></a>00086 
<a name="l00087"></a>00087 <span class="preprocessor">#ifndef lint</span>
<a name="l00088"></a><a class="code" href="cuddGenCof_8c.html#15755406c65f1ac3ea34ce661b57b54e">00088</a> <span class="preprocessor"></span><span class="keyword">static</span> <span class="keywordtype">char</span> rcsid[] <a class="code" href="cuddInt_8h.html#d884f6728fb2a3fc752281d959f51d90">DD_UNUSED</a> = <span class="stringliteral">"$Id: cuddGenCof.c,v 1.1.1.1 2005/04/18 17:40:17 mchu Exp $"</span>;
<a name="l00089"></a>00089 <span class="preprocessor">#endif</span>
<a name="l00090"></a>00090 <span class="preprocessor"></span>
<a name="l00091"></a>00091 <span class="comment">/*---------------------------------------------------------------------------*/</span>
<a name="l00092"></a>00092 <span class="comment">/* Macro declarations                                                        */</span>
<a name="l00093"></a>00093 <span class="comment">/*---------------------------------------------------------------------------*/</span>
<a name="l00094"></a>00094 
<a name="l00095"></a>00095 
<a name="l00098"></a>00098 <span class="comment">/*---------------------------------------------------------------------------*/</span>
<a name="l00099"></a>00099 <span class="comment">/* Static function prototypes                                                */</span>
<a name="l00100"></a>00100 <span class="comment">/*---------------------------------------------------------------------------*/</span>
<a name="l00101"></a>00101 
<a name="l00102"></a>00102 <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="cuddGenCof_8c.html#5eaea32f6ed375be93c707ce4f5fea3d">cuddBddConstrainDecomp</a> <a class="code" href="cudd_8h.html#c567d4fddb379109f084370bc6947492">ARGS</a>((<a class="code" href="structDdManager.html">DdManager</a> *dd, <a class="code" href="structDdNode.html">DdNode</a> *f, <a class="code" href="structDdNode.html">DdNode</a> **decomp));
<a name="l00103"></a>00103 <span class="keyword">static</span> <a class="code" href="structDdNode.html">DdNode</a> * <a class="code" href="cuddGenCof_8c.html#544d6fe00d57c345745125eb2f426269">cuddBddCharToVect</a> <a class="code" href="cudd_8h.html#c567d4fddb379109f084370bc6947492">ARGS</a>((<a class="code" href="structDdManager.html">DdManager</a> *dd, <a class="code" href="structDdNode.html">DdNode</a> *f, <a class="code" href="structDdNode.html">DdNode</a> *x));
<a name="l00104"></a>00104 <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="cuddGenCof_8c.html#6816dc82d29be25bac7eec5068866537">cuddBddLICMarkEdges</a> <a class="code" href="cudd_8h.html#c567d4fddb379109f084370bc6947492">ARGS</a>((<a class="code" href="structDdManager.html">DdManager</a> *dd, <a class="code" href="structDdNode.html">DdNode</a> *f, <a class="code" href="structDdNode.html">DdNode</a> *c, <a class="code" href="structst__table.html">st_table</a> *table, <a class="code" href="structst__table.html">st_table</a> *cache));
<a name="l00105"></a>00105 <span class="keyword">static</span> <a class="code" href="structDdNode.html">DdNode</a> * <a class="code" href="cuddGenCof_8c.html#030d33ea12ccc3211150fb6a56899bd3">cuddBddLICBuildResult</a> <a class="code" href="cudd_8h.html#c567d4fddb379109f084370bc6947492">ARGS</a>((<a class="code" href="structDdManager.html">DdManager</a> *dd, <a class="code" href="structDdNode.html">DdNode</a> *f, <a class="code" href="structst__table.html">st_table</a> *cache, <a class="code" href="structst__table.html">st_table</a> *table));
<a name="l00106"></a>00106 <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="cuddGenCof_8c.html#d3e5cecf15bdf16ccbb6fe67cfcdc995">MarkCacheHash</a> <a class="code" href="cudd_8h.html#c567d4fddb379109f084370bc6947492">ARGS</a>((<span class="keywordtype">char</span> *ptr, <span class="keywordtype">int</span> modulus));
<a name="l00107"></a>00107 <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="cuddGenCof_8c.html#5721a32e1d89799cd08e782e87a64c39">MarkCacheCompare</a> <a class="code" href="cudd_8h.html#c567d4fddb379109f084370bc6947492">ARGS</a>((<span class="keyword">const</span> <span class="keywordtype">char</span> *ptr1, <span class="keyword">const</span> <span class="keywordtype">char</span> *ptr2));
<a name="l00108"></a>00108 <span class="keyword">static</span> <span class="keyword">enum</span> <a class="code" href="st_8h.html#0c6a172fd99de7928916e65034ed8b1f">st_retval</a> <a class="code" href="cuddGenCof_8c.html#58bfa50bf07c637bdae80489407eb17a">MarkCacheCleanUp</a> <a class="code" href="cudd_8h.html#c567d4fddb379109f084370bc6947492">ARGS</a>((<span class="keywordtype">char</span> *key, <span class="keywordtype">char</span> *value, <span class="keywordtype">char</span> *arg));
<a name="l00109"></a>00109 <span class="keyword">static</span> <a class="code" href="structDdNode.html">DdNode</a> * <a class="code" href="cuddGenCof_8c.html#95af9893c405bea9e49dba8632e8abb3">cuddBddSqueeze</a> <a class="code" href="cudd_8h.html#c567d4fddb379109f084370bc6947492">ARGS</a>((<a class="code" href="structDdManager.html">DdManager</a> *dd, <a class="code" href="structDdNode.html">DdNode</a> *l, <a class="code" href="structDdNode.html">DdNode</a> *u));
<a name="l00110"></a>00110 
<a name="l00114"></a>00114 <span class="comment">/*---------------------------------------------------------------------------*/</span>
<a name="l00115"></a>00115 <span class="comment">/* Definition of exported functions                                          */</span>
<a name="l00116"></a>00116 <span class="comment">/*---------------------------------------------------------------------------*/</span>
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 
<a name="l00141"></a>00141 <a class="code" href="structDdNode.html">DdNode</a> *
<a name="l00142"></a><a class="code" href="cuddGenCof_8c.html#250f801a2e5814da9d67a3436f0e3376">00142</a> <a class="code" href="cuddGenCof_8c.html#250f801a2e5814da9d67a3436f0e3376">Cudd_bddConstrain</a>(
<a name="l00143"></a>00143   <a class="code" href="structDdManager.html">DdManager</a> * dd,
<a name="l00144"></a>00144   <a class="code" href="structDdNode.html">DdNode</a> * f,
<a name="l00145"></a>00145   <a class="code" href="structDdNode.html">DdNode</a> * c)
<a name="l00146"></a>00146 {
<a name="l00147"></a>00147     <a class="code" href="structDdNode.html">DdNode</a> *res;
<a name="l00148"></a>00148 
<a name="l00149"></a>00149     <span class="keywordflow">do</span> {
<a name="l00150"></a>00150         dd-&gt;<a class="code" href="structDdManager.html#b8c81b5f0658b90c2c3bd339123a1f7a">reordered</a> = 0;
<a name="l00151"></a>00151         res = <a class="code" href="cuddGenCof_8c.html#6311f1cc598ee0f3681a76baec8c6d53">cuddBddConstrainRecur</a>(dd,f,c);
<a name="l00152"></a>00152     } <span class="keywordflow">while</span> (dd-&gt;<a class="code" href="structDdManager.html#b8c81b5f0658b90c2c3bd339123a1f7a">reordered</a> == 1);
<a name="l00153"></a>00153     <span class="keywordflow">return</span>(res);
<a name="l00154"></a>00154 
<a name="l00155"></a>00155 } <span class="comment">/* end of Cudd_bddConstrain */</span>
<a name="l00156"></a>00156 
<a name="l00157"></a>00157 
<a name="l00173"></a>00173 <a class="code" href="structDdNode.html">DdNode</a> *
<a name="l00174"></a><a class="code" href="cuddGenCof_8c.html#3c8d8bb0210e368eb7258b2961c3cf3e">00174</a> <a class="code" href="cuddGenCof_8c.html#3c8d8bb0210e368eb7258b2961c3cf3e">Cudd_bddRestrict</a>(
<a name="l00175"></a>00175   <a class="code" href="structDdManager.html">DdManager</a> * dd,
<a name="l00176"></a>00176   <a class="code" href="structDdNode.html">DdNode</a> * f,
<a name="l00177"></a>00177   <a class="code" href="structDdNode.html">DdNode</a> * c)
<a name="l00178"></a>00178 {
<a name="l00179"></a>00179     <a class="code" href="structDdNode.html">DdNode</a> *suppF, *suppC, *commonSupport;
<a name="l00180"></a>00180     <a class="code" href="structDdNode.html">DdNode</a> *cplus, *res;
<a name="l00181"></a>00181     <span class="keywordtype">int</span> retval;
<a name="l00182"></a>00182     <span class="keywordtype">int</span> sizeF, sizeRes;
<a name="l00183"></a>00183 
<a name="l00184"></a>00184     <span class="comment">/* Check terminal cases here to avoid computing supports in trivial cases.</span>
<a name="l00185"></a>00185 <span class="comment">    ** This also allows us notto check later for the case c == 0, in which</span>
<a name="l00186"></a>00186 <span class="comment">    ** there is no common support. */</span>
<a name="l00187"></a>00187     <span class="keywordflow">if</span> (c == <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(<a class="code" href="cuddInt_8h.html#0fc86b7b0c157b7fa3738661d65a22d7">DD_ONE</a>(dd))) <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(<a class="code" href="cuddInt_8h.html#0fc86b7b0c157b7fa3738661d65a22d7">DD_ONE</a>(dd)));
<a name="l00188"></a>00188     <span class="keywordflow">if</span> (<a class="code" href="cudd_8h.html#35e63bfe07b09cd6f2508742cc37af38">Cudd_IsConstant</a>(f)) <span class="keywordflow">return</span>(f);
<a name="l00189"></a>00189     <span class="keywordflow">if</span> (f == c) <span class="keywordflow">return</span>(<a class="code" href="cuddInt_8h.html#0fc86b7b0c157b7fa3738661d65a22d7">DD_ONE</a>(dd));
<a name="l00190"></a>00190     <span class="keywordflow">if</span> (f == <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(c)) <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(<a class="code" href="cuddInt_8h.html#0fc86b7b0c157b7fa3738661d65a22d7">DD_ONE</a>(dd)));
<a name="l00191"></a>00191 
<a name="l00192"></a>00192     <span class="comment">/* Check if supports intersect. */</span>
<a name="l00193"></a>00193     retval = <a class="code" href="cuddUtil_8c.html#2caf3183bbb7822b76bacd8b70aebc94">Cudd_ClassifySupport</a>(dd,f,c,&amp;commonSupport,&amp;suppF,&amp;suppC);
<a name="l00194"></a>00194     <span class="keywordflow">if</span> (retval == 0) {
<a name="l00195"></a>00195         <span class="keywordflow">return</span>(NULL);
<a name="l00196"></a>00196     }
<a name="l00197"></a>00197     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(commonSupport); <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(suppF); <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(suppC);
<a name="l00198"></a>00198     <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,suppF);
<a name="l00199"></a>00199 
<a name="l00200"></a>00200     <span class="keywordflow">if</span> (commonSupport == <a class="code" href="cuddInt_8h.html#0fc86b7b0c157b7fa3738661d65a22d7">DD_ONE</a>(dd)) {
<a name="l00201"></a>00201         <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,commonSupport);
<a name="l00202"></a>00202         <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,suppC);
<a name="l00203"></a>00203         <span class="keywordflow">return</span>(f);
<a name="l00204"></a>00204     }
<a name="l00205"></a>00205     <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,commonSupport);
<a name="l00206"></a>00206 
<a name="l00207"></a>00207     <span class="comment">/* Abstract from c the variables that do not appear in f. */</span>
<a name="l00208"></a>00208     cplus = <a class="code" href="cuddBddAbs_8c.html#38ddb1590403cc2c2d6c382b68835269">Cudd_bddExistAbstract</a>(dd, c, suppC);
<a name="l00209"></a>00209     <span class="keywordflow">if</span> (cplus == NULL) {
<a name="l00210"></a>00210         <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,suppC);
<a name="l00211"></a>00211         <span class="keywordflow">return</span>(NULL);
<a name="l00212"></a>00212     }
<a name="l00213"></a>00213     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(cplus);
<a name="l00214"></a>00214     <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,suppC);
<a name="l00215"></a>00215 
<a name="l00216"></a>00216     <span class="keywordflow">do</span> {
<a name="l00217"></a>00217         dd-&gt;reordered = 0;
<a name="l00218"></a>00218         res = <a class="code" href="cuddGenCof_8c.html#c7fd377dc8f0df6472ca0fe6df41ae48">cuddBddRestrictRecur</a>(dd, f, cplus);
<a name="l00219"></a>00219     } <span class="keywordflow">while</span> (dd-&gt;reordered == 1);
<a name="l00220"></a>00220     <span class="keywordflow">if</span> (res == NULL) {
<a name="l00221"></a>00221         <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,cplus);
<a name="l00222"></a>00222         <span class="keywordflow">return</span>(NULL);
<a name="l00223"></a>00223     }
<a name="l00224"></a>00224     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(res);
<a name="l00225"></a>00225     <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,cplus);
<a name="l00226"></a>00226     <span class="comment">/* Make restric safe by returning the smaller of the input and the</span>
<a name="l00227"></a>00227 <span class="comment">    ** result. */</span>
<a name="l00228"></a>00228     sizeF = <a class="code" href="cuddUtil_8c.html#95cf613390a7dbeaad14b3963d68de24">Cudd_DagSize</a>(f);
<a name="l00229"></a>00229     sizeRes = <a class="code" href="cuddUtil_8c.html#95cf613390a7dbeaad14b3963d68de24">Cudd_DagSize</a>(res);
<a name="l00230"></a>00230     <span class="keywordflow">if</span> (sizeF &lt;= sizeRes) {
<a name="l00231"></a>00231         <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, res);
<a name="l00232"></a>00232         <span class="keywordflow">return</span>(f);
<a name="l00233"></a>00233     } <span class="keywordflow">else</span> {
<a name="l00234"></a>00234         <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(res);
<a name="l00235"></a>00235         <span class="keywordflow">return</span>(res);
<a name="l00236"></a>00236     }
<a name="l00237"></a>00237 
<a name="l00238"></a>00238 } <span class="comment">/* end of Cudd_bddRestrict */</span>
<a name="l00239"></a>00239 
<a name="l00240"></a>00240 
<a name="l00261"></a>00261 <a class="code" href="structDdNode.html">DdNode</a> *
<a name="l00262"></a><a class="code" href="cuddGenCof_8c.html#3bdc53bb832fb6b57528e7d5ceef7944">00262</a> <a class="code" href="cuddGenCof_8c.html#3bdc53bb832fb6b57528e7d5ceef7944">Cudd_addConstrain</a>(
<a name="l00263"></a>00263   <a class="code" href="structDdManager.html">DdManager</a> * dd,
<a name="l00264"></a>00264   <a class="code" href="structDdNode.html">DdNode</a> * f,
<a name="l00265"></a>00265   <a class="code" href="structDdNode.html">DdNode</a> * c)
<a name="l00266"></a>00266 {
<a name="l00267"></a>00267     <a class="code" href="structDdNode.html">DdNode</a> *res;
<a name="l00268"></a>00268 
<a name="l00269"></a>00269     <span class="keywordflow">do</span> {
<a name="l00270"></a>00270         dd-&gt;<a class="code" href="structDdManager.html#b8c81b5f0658b90c2c3bd339123a1f7a">reordered</a> = 0;
<a name="l00271"></a>00271         res = <a class="code" href="cuddGenCof_8c.html#bb45bdb200e1e4e975b20925130a6c66">cuddAddConstrainRecur</a>(dd,f,c);
<a name="l00272"></a>00272     } <span class="keywordflow">while</span> (dd-&gt;<a class="code" href="structDdManager.html#b8c81b5f0658b90c2c3bd339123a1f7a">reordered</a> == 1);
<a name="l00273"></a>00273     <span class="keywordflow">return</span>(res);
<a name="l00274"></a>00274 
<a name="l00275"></a>00275 } <span class="comment">/* end of Cudd_addConstrain */</span>
<a name="l00276"></a>00276 
<a name="l00277"></a>00277 
<a name="l00296"></a>00296 <a class="code" href="structDdNode.html">DdNode</a> **
<a name="l00297"></a><a class="code" href="cuddGenCof_8c.html#aaf0b345123f5065ac6b2ea951b7bfe8">00297</a> <a class="code" href="cuddGenCof_8c.html#aaf0b345123f5065ac6b2ea951b7bfe8">Cudd_bddConstrainDecomp</a>(
<a name="l00298"></a>00298   <a class="code" href="structDdManager.html">DdManager</a> * dd,
<a name="l00299"></a>00299   <a class="code" href="structDdNode.html">DdNode</a> * f)
<a name="l00300"></a>00300 {
<a name="l00301"></a>00301     <a class="code" href="structDdNode.html">DdNode</a> **decomp;
<a name="l00302"></a>00302     <span class="keywordtype">int</span> res;
<a name="l00303"></a>00303     <span class="keywordtype">int</span> i;
<a name="l00304"></a>00304 
<a name="l00305"></a>00305     <span class="comment">/* Create an initialize decomposition array. */</span>
<a name="l00306"></a>00306     decomp = <a class="code" href="util_8h.html#21755cdb11c76954a33c653579810f3a">ALLOC</a>(<a class="code" href="structDdNode.html">DdNode</a> *,dd-&gt;<a class="code" href="structDdManager.html#5fc169bc41431f1a0645f64c753457e3">size</a>);
<a name="l00307"></a>00307     <span class="keywordflow">if</span> (decomp == NULL) {
<a name="l00308"></a>00308         dd-&gt;<a class="code" href="structDdManager.html#e0690f123fc2c3f0ca9a1cfd18923a37">errorCode</a> = <a class="code" href="cudd_8h.html#27114b4342bc1b987f35d751eae2444b0db98cf2462f40577e6c83a60b095111">CUDD_MEMORY_OUT</a>;
<a name="l00309"></a>00309         <span class="keywordflow">return</span>(NULL);
<a name="l00310"></a>00310     }
<a name="l00311"></a>00311     <span class="keywordflow">for</span> (i = 0; i &lt; dd-&gt;<a class="code" href="structDdManager.html#5fc169bc41431f1a0645f64c753457e3">size</a>; i++) {
<a name="l00312"></a>00312         decomp[i] = NULL;
<a name="l00313"></a>00313     }
<a name="l00314"></a>00314     <span class="keywordflow">do</span> {
<a name="l00315"></a>00315         dd-&gt;<a class="code" href="structDdManager.html#b8c81b5f0658b90c2c3bd339123a1f7a">reordered</a> = 0;
<a name="l00316"></a>00316         <span class="comment">/* Clean up the decomposition array in case reordering took place. */</span>
<a name="l00317"></a>00317         <span class="keywordflow">for</span> (i = 0; i &lt; dd-&gt;<a class="code" href="structDdManager.html#5fc169bc41431f1a0645f64c753457e3">size</a>; i++) {
<a name="l00318"></a>00318             <span class="keywordflow">if</span> (decomp[i] != NULL) {
<a name="l00319"></a>00319                 <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, decomp[i]);
<a name="l00320"></a>00320                 decomp[i] = NULL;
<a name="l00321"></a>00321             }
<a name="l00322"></a>00322         }
<a name="l00323"></a>00323         res = <a class="code" href="cuddGenCof_8c.html#5eaea32f6ed375be93c707ce4f5fea3d">cuddBddConstrainDecomp</a>(dd,f,decomp);
<a name="l00324"></a>00324     } <span class="keywordflow">while</span> (dd-&gt;<a class="code" href="structDdManager.html#b8c81b5f0658b90c2c3bd339123a1f7a">reordered</a> == 1);
<a name="l00325"></a>00325     <span class="keywordflow">if</span> (res == 0) {
<a name="l00326"></a>00326         <a class="code" href="util_8h.html#a279a8302d25fa9dfeb3e00161aee784">FREE</a>(decomp);
<a name="l00327"></a>00327         <span class="keywordflow">return</span>(NULL);
<a name="l00328"></a>00328     }
<a name="l00329"></a>00329     <span class="comment">/* Missing components are constant ones. */</span>
<a name="l00330"></a>00330     <span class="keywordflow">for</span> (i = 0; i &lt; dd-&gt;<a class="code" href="structDdManager.html#5fc169bc41431f1a0645f64c753457e3">size</a>; i++) {
<a name="l00331"></a>00331         <span class="keywordflow">if</span> (decomp[i] == NULL) {
<a name="l00332"></a>00332             decomp[i] = <a class="code" href="cuddInt_8h.html#0fc86b7b0c157b7fa3738661d65a22d7">DD_ONE</a>(dd);
<a name="l00333"></a>00333             <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(decomp[i]);
<a name="l00334"></a>00334         }
<a name="l00335"></a>00335     }
<a name="l00336"></a>00336     <span class="keywordflow">return</span>(decomp);
<a name="l00337"></a>00337 
<a name="l00338"></a>00338 } <span class="comment">/* end of Cudd_bddConstrainDecomp */</span>
<a name="l00339"></a>00339 
<a name="l00340"></a>00340 
<a name="l00356"></a>00356 <a class="code" href="structDdNode.html">DdNode</a> *
<a name="l00357"></a><a class="code" href="cuddGenCof_8c.html#4ab16f58da620eb1c2e927426aea22c7">00357</a> <a class="code" href="cuddGenCof_8c.html#4ab16f58da620eb1c2e927426aea22c7">Cudd_addRestrict</a>(
<a name="l00358"></a>00358   <a class="code" href="structDdManager.html">DdManager</a> * dd,
<a name="l00359"></a>00359   <a class="code" href="structDdNode.html">DdNode</a> * f,
<a name="l00360"></a>00360   <a class="code" href="structDdNode.html">DdNode</a> * c)
<a name="l00361"></a>00361 {
<a name="l00362"></a>00362     <a class="code" href="structDdNode.html">DdNode</a> *supp_f, *supp_c;
<a name="l00363"></a>00363     <a class="code" href="structDdNode.html">DdNode</a> *res, *commonSupport;
<a name="l00364"></a>00364     <span class="keywordtype">int</span> intersection;
<a name="l00365"></a>00365     <span class="keywordtype">int</span> sizeF, sizeRes;
<a name="l00366"></a>00366 
<a name="l00367"></a>00367     <span class="comment">/* Check if supports intersect. */</span>
<a name="l00368"></a>00368     supp_f = <a class="code" href="cuddUtil_8c.html#9e1f8e5b8efe97330f8650e1378ad172">Cudd_Support</a>(dd, f);
<a name="l00369"></a>00369     <span class="keywordflow">if</span> (supp_f == NULL) {
<a name="l00370"></a>00370         <span class="keywordflow">return</span>(NULL);
<a name="l00371"></a>00371     }
<a name="l00372"></a>00372     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(supp_f);
<a name="l00373"></a>00373     supp_c = <a class="code" href="cuddUtil_8c.html#9e1f8e5b8efe97330f8650e1378ad172">Cudd_Support</a>(dd, c);
<a name="l00374"></a>00374     <span class="keywordflow">if</span> (supp_c == NULL) {
<a name="l00375"></a>00375         <a class="code" href="cuddRef_8c.html#0944d022761660bf481167b78759f599">Cudd_RecursiveDeref</a>(dd,supp_f);
<a name="l00376"></a>00376         <span class="keywordflow">return</span>(NULL);
<a name="l00377"></a>00377     }
<a name="l00378"></a>00378     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(supp_c);
<a name="l00379"></a>00379     commonSupport = <a class="code" href="cuddLiteral_8c.html#32b953384d8f552c774055694db06ba4">Cudd_bddLiteralSetIntersection</a>(dd, supp_f, supp_c);
<a name="l00380"></a>00380     <span class="keywordflow">if</span> (commonSupport == NULL) {
<a name="l00381"></a>00381         <a class="code" href="cuddRef_8c.html#0944d022761660bf481167b78759f599">Cudd_RecursiveDeref</a>(dd,supp_f);
<a name="l00382"></a>00382         <a class="code" href="cuddRef_8c.html#0944d022761660bf481167b78759f599">Cudd_RecursiveDeref</a>(dd,supp_c);
<a name="l00383"></a>00383         <span class="keywordflow">return</span>(NULL);
<a name="l00384"></a>00384     }
<a name="l00385"></a>00385     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(commonSupport);
<a name="l00386"></a>00386     <a class="code" href="cuddRef_8c.html#0944d022761660bf481167b78759f599">Cudd_RecursiveDeref</a>(dd,supp_f);
<a name="l00387"></a>00387     <a class="code" href="cuddRef_8c.html#0944d022761660bf481167b78759f599">Cudd_RecursiveDeref</a>(dd,supp_c);
<a name="l00388"></a>00388     intersection = commonSupport != <a class="code" href="cuddInt_8h.html#0fc86b7b0c157b7fa3738661d65a22d7">DD_ONE</a>(dd);
<a name="l00389"></a>00389     <a class="code" href="cuddRef_8c.html#0944d022761660bf481167b78759f599">Cudd_RecursiveDeref</a>(dd,commonSupport);
<a name="l00390"></a>00390 
<a name="l00391"></a>00391     <span class="keywordflow">if</span> (intersection) {
<a name="l00392"></a>00392         <span class="keywordflow">do</span> {
<a name="l00393"></a>00393             dd-&gt;<a class="code" href="structDdManager.html#b8c81b5f0658b90c2c3bd339123a1f7a">reordered</a> = 0;
<a name="l00394"></a>00394             res = <a class="code" href="cuddGenCof_8c.html#560239ea1d3da12ff14b214f0adf17a4">cuddAddRestrictRecur</a>(dd, f, c);
<a name="l00395"></a>00395         } <span class="keywordflow">while</span> (dd-&gt;<a class="code" href="structDdManager.html#b8c81b5f0658b90c2c3bd339123a1f7a">reordered</a> == 1);
<a name="l00396"></a>00396         sizeF = <a class="code" href="cuddUtil_8c.html#95cf613390a7dbeaad14b3963d68de24">Cudd_DagSize</a>(f);
<a name="l00397"></a>00397         sizeRes = <a class="code" href="cuddUtil_8c.html#95cf613390a7dbeaad14b3963d68de24">Cudd_DagSize</a>(res);
<a name="l00398"></a>00398         <span class="keywordflow">if</span> (sizeF &lt;= sizeRes) {
<a name="l00399"></a>00399             <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(res);
<a name="l00400"></a>00400             <a class="code" href="cuddRef_8c.html#0944d022761660bf481167b78759f599">Cudd_RecursiveDeref</a>(dd, res);
<a name="l00401"></a>00401             <span class="keywordflow">return</span>(f);
<a name="l00402"></a>00402         } <span class="keywordflow">else</span> {
<a name="l00403"></a>00403             <span class="keywordflow">return</span>(res);
<a name="l00404"></a>00404         }
<a name="l00405"></a>00405     } <span class="keywordflow">else</span> {
<a name="l00406"></a>00406         <span class="keywordflow">return</span>(f);
<a name="l00407"></a>00407     }
<a name="l00408"></a>00408 
<a name="l00409"></a>00409 } <span class="comment">/* end of Cudd_addRestrict */</span>
<a name="l00410"></a>00410 
<a name="l00411"></a>00411 
<a name="l00435"></a>00435 <a class="code" href="structDdNode.html">DdNode</a> **
<a name="l00436"></a><a class="code" href="cuddGenCof_8c.html#1a4482b94e76db44ff22087277d09b4d">00436</a> <a class="code" href="cuddGenCof_8c.html#1a4482b94e76db44ff22087277d09b4d">Cudd_bddCharToVect</a>(
<a name="l00437"></a>00437   <a class="code" href="structDdManager.html">DdManager</a> * dd,
<a name="l00438"></a>00438   <a class="code" href="structDdNode.html">DdNode</a> * f)
<a name="l00439"></a>00439 {
<a name="l00440"></a>00440     <span class="keywordtype">int</span> i, j;
<a name="l00441"></a>00441     <a class="code" href="structDdNode.html">DdNode</a> **vect;
<a name="l00442"></a>00442     <a class="code" href="structDdNode.html">DdNode</a> *res = NULL;
<a name="l00443"></a>00443 
<a name="l00444"></a>00444     <span class="keywordflow">if</span> (f == <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(<a class="code" href="cuddInt_8h.html#0fc86b7b0c157b7fa3738661d65a22d7">DD_ONE</a>(dd))) <span class="keywordflow">return</span>(NULL);
<a name="l00445"></a>00445 
<a name="l00446"></a>00446     vect = <a class="code" href="util_8h.html#21755cdb11c76954a33c653579810f3a">ALLOC</a>(<a class="code" href="structDdNode.html">DdNode</a> *, dd-&gt;<a class="code" href="structDdManager.html#5fc169bc41431f1a0645f64c753457e3">size</a>);
<a name="l00447"></a>00447     <span class="keywordflow">if</span> (vect == NULL) {
<a name="l00448"></a>00448         dd-&gt;<a class="code" href="structDdManager.html#e0690f123fc2c3f0ca9a1cfd18923a37">errorCode</a> = <a class="code" href="cudd_8h.html#27114b4342bc1b987f35d751eae2444b0db98cf2462f40577e6c83a60b095111">CUDD_MEMORY_OUT</a>;
<a name="l00449"></a>00449         <span class="keywordflow">return</span>(NULL);
<a name="l00450"></a>00450     }
<a name="l00451"></a>00451 
<a name="l00452"></a>00452     <span class="keywordflow">do</span> {
<a name="l00453"></a>00453         dd-&gt;<a class="code" href="structDdManager.html#b8c81b5f0658b90c2c3bd339123a1f7a">reordered</a> = 0;
<a name="l00454"></a>00454         <span class="keywordflow">for</span> (i = 0; i &lt; dd-&gt;<a class="code" href="structDdManager.html#5fc169bc41431f1a0645f64c753457e3">size</a>; i++) {
<a name="l00455"></a>00455             res = <a class="code" href="cuddGenCof_8c.html#544d6fe00d57c345745125eb2f426269">cuddBddCharToVect</a>(dd,f,dd-&gt;<a class="code" href="structDdManager.html#70f75f877a9e8f1b7a1c219cd4675ce1">vars</a>[dd-&gt;<a class="code" href="structDdManager.html#8a017e5ed0025b952c284a41e5991b0f">invperm</a>[i]]);
<a name="l00456"></a>00456             if (res == NULL) {
<a name="l00457"></a>00457                 <span class="comment">/* Clean up the vector array in case reordering took place. */</span>
<a name="l00458"></a>00458                 <span class="keywordflow">for</span> (j = 0; j &lt; i; j++) {
<a name="l00459"></a>00459                     <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, vect[dd-&gt;<a class="code" href="structDdManager.html#8a017e5ed0025b952c284a41e5991b0f">invperm</a>[j]]);
<a name="l00460"></a>00460                 }
<a name="l00461"></a>00461                 <span class="keywordflow">break</span>;
<a name="l00462"></a>00462             }
<a name="l00463"></a>00463             <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(res);
<a name="l00464"></a>00464             vect[dd-&gt;<a class="code" href="structDdManager.html#8a017e5ed0025b952c284a41e5991b0f">invperm</a>[i]] = res;
<a name="l00465"></a>00465         }
<a name="l00466"></a>00466     } <span class="keywordflow">while</span> (dd-&gt;<a class="code" href="structDdManager.html#b8c81b5f0658b90c2c3bd339123a1f7a">reordered</a> == 1);
<a name="l00467"></a>00467     <span class="keywordflow">if</span> (res == NULL) {
<a name="l00468"></a>00468         <a class="code" href="util_8h.html#a279a8302d25fa9dfeb3e00161aee784">FREE</a>(vect);
<a name="l00469"></a>00469         <span class="keywordflow">return</span>(NULL);
<a name="l00470"></a>00470     }
<a name="l00471"></a>00471     <span class="keywordflow">return</span>(vect);
<a name="l00472"></a>00472 
<a name="l00473"></a>00473 } <span class="comment">/* end of Cudd_bddCharToVect */</span>
<a name="l00474"></a>00474 
<a name="l00475"></a>00475 
<a name="l00495"></a>00495 <a class="code" href="structDdNode.html">DdNode</a> *
<a name="l00496"></a><a class="code" href="cuddGenCof_8c.html#6c23e53c189d45d06b68a9a52b724141">00496</a> <a class="code" href="cuddGenCof_8c.html#6c23e53c189d45d06b68a9a52b724141">Cudd_bddLICompaction</a>(
<a name="l00497"></a>00497   <a class="code" href="structDdManager.html">DdManager</a> * dd <span class="comment">/* manager */</span>,
<a name="l00498"></a>00498   <a class="code" href="structDdNode.html">DdNode</a> * f <span class="comment">/* function to be minimized */</span>,
<a name="l00499"></a>00499   <a class="code" href="structDdNode.html">DdNode</a> * c <span class="comment">/* constraint (care set) */</span>)
<a name="l00500"></a>00500 {
<a name="l00501"></a>00501     <a class="code" href="structDdNode.html">DdNode</a> *res;
<a name="l00502"></a>00502 
<a name="l00503"></a>00503     <span class="keywordflow">do</span> {
<a name="l00504"></a>00504         dd-&gt;<a class="code" href="structDdManager.html#b8c81b5f0658b90c2c3bd339123a1f7a">reordered</a> = 0;
<a name="l00505"></a>00505         res = <a class="code" href="cuddGenCof_8c.html#6ac4647d91d277c68197d1860239dfbc">cuddBddLICompaction</a>(dd,f,c);
<a name="l00506"></a>00506     } <span class="keywordflow">while</span> (dd-&gt;<a class="code" href="structDdManager.html#b8c81b5f0658b90c2c3bd339123a1f7a">reordered</a> == 1);
<a name="l00507"></a>00507     <span class="keywordflow">return</span>(res);
<a name="l00508"></a>00508 
<a name="l00509"></a>00509 } <span class="comment">/* end of Cudd_bddLICompaction */</span>
<a name="l00510"></a>00510 
<a name="l00511"></a>00511 
<a name="l00527"></a>00527 <a class="code" href="structDdNode.html">DdNode</a> *
<a name="l00528"></a><a class="code" href="cuddGenCof_8c.html#fbc2329b3d7a6cb0b8adc5582fc7fe2c">00528</a> <a class="code" href="cuddGenCof_8c.html#fbc2329b3d7a6cb0b8adc5582fc7fe2c">Cudd_bddSqueeze</a>(
<a name="l00529"></a>00529   <a class="code" href="structDdManager.html">DdManager</a> * dd <span class="comment">/* manager */</span>,
<a name="l00530"></a>00530   <a class="code" href="structDdNode.html">DdNode</a> * l <span class="comment">/* lower bound */</span>,
<a name="l00531"></a>00531   <a class="code" href="structDdNode.html">DdNode</a> * u <span class="comment">/* upper bound */</span>)
<a name="l00532"></a>00532 {
<a name="l00533"></a>00533     <a class="code" href="structDdNode.html">DdNode</a> *res;
<a name="l00534"></a>00534     <span class="keywordtype">int</span> sizeRes, sizeL, sizeU;
<a name="l00535"></a>00535 
<a name="l00536"></a>00536     <span class="keywordflow">do</span> {
<a name="l00537"></a>00537         dd-&gt;<a class="code" href="structDdManager.html#b8c81b5f0658b90c2c3bd339123a1f7a">reordered</a> = 0;
<a name="l00538"></a>00538         res = <a class="code" href="cuddGenCof_8c.html#95af9893c405bea9e49dba8632e8abb3">cuddBddSqueeze</a>(dd,l,u);
<a name="l00539"></a>00539     } <span class="keywordflow">while</span> (dd-&gt;<a class="code" href="structDdManager.html#b8c81b5f0658b90c2c3bd339123a1f7a">reordered</a> == 1);
<a name="l00540"></a>00540     <span class="keywordflow">if</span> (res == NULL) <span class="keywordflow">return</span>(NULL);
<a name="l00541"></a>00541     <span class="comment">/* We now compare the result with the bounds and return the smallest.</span>
<a name="l00542"></a>00542 <span class="comment">    ** We first compare to u, so that in case l == 0 and u == 1, we return</span>
<a name="l00543"></a>00543 <span class="comment">    ** 0 as in other minimization algorithms. */</span>
<a name="l00544"></a>00544     sizeRes = <a class="code" href="cuddUtil_8c.html#95cf613390a7dbeaad14b3963d68de24">Cudd_DagSize</a>(res);
<a name="l00545"></a>00545     sizeU = <a class="code" href="cuddUtil_8c.html#95cf613390a7dbeaad14b3963d68de24">Cudd_DagSize</a>(u);
<a name="l00546"></a>00546     <span class="keywordflow">if</span> (sizeU &lt;= sizeRes) {
<a name="l00547"></a>00547         <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(res);
<a name="l00548"></a>00548         <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,res);
<a name="l00549"></a>00549         res = u;
<a name="l00550"></a>00550         sizeRes = sizeU;
<a name="l00551"></a>00551     }
<a name="l00552"></a>00552     sizeL = <a class="code" href="cuddUtil_8c.html#95cf613390a7dbeaad14b3963d68de24">Cudd_DagSize</a>(l);
<a name="l00553"></a>00553     <span class="keywordflow">if</span> (sizeL &lt;= sizeRes) {
<a name="l00554"></a>00554         <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(res);
<a name="l00555"></a>00555         <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,res);
<a name="l00556"></a>00556         res = l;
<a name="l00557"></a>00557         sizeRes = sizeL;
<a name="l00558"></a>00558     }
<a name="l00559"></a>00559     <span class="keywordflow">return</span>(res);
<a name="l00560"></a>00560 
<a name="l00561"></a>00561 } <span class="comment">/* end of Cudd_bddSqueeze */</span>
<a name="l00562"></a>00562 
<a name="l00563"></a>00563 
<a name="l00578"></a>00578 <a class="code" href="structDdNode.html">DdNode</a> *
<a name="l00579"></a><a class="code" href="cuddGenCof_8c.html#f47227c86f08d37cd5fd8ea2a89afcb7">00579</a> <a class="code" href="cuddGenCof_8c.html#f47227c86f08d37cd5fd8ea2a89afcb7">Cudd_bddMinimize</a>(
<a name="l00580"></a>00580   <a class="code" href="structDdManager.html">DdManager</a> * dd,
<a name="l00581"></a>00581   <a class="code" href="structDdNode.html">DdNode</a> * f,
<a name="l00582"></a>00582   <a class="code" href="structDdNode.html">DdNode</a> * c)
<a name="l00583"></a>00583 {
<a name="l00584"></a>00584     <a class="code" href="structDdNode.html">DdNode</a> *cplus, *res;
<a name="l00585"></a>00585 
<a name="l00586"></a>00586     <span class="keywordflow">if</span> (c == <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(<a class="code" href="cuddInt_8h.html#0fc86b7b0c157b7fa3738661d65a22d7">DD_ONE</a>(dd))) <span class="keywordflow">return</span>(c);
<a name="l00587"></a>00587     <span class="keywordflow">if</span> (<a class="code" href="cudd_8h.html#35e63bfe07b09cd6f2508742cc37af38">Cudd_IsConstant</a>(f)) <span class="keywordflow">return</span>(f);
<a name="l00588"></a>00588     <span class="keywordflow">if</span> (f == c) <span class="keywordflow">return</span>(<a class="code" href="cuddInt_8h.html#0fc86b7b0c157b7fa3738661d65a22d7">DD_ONE</a>(dd));
<a name="l00589"></a>00589     <span class="keywordflow">if</span> (f == <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(c)) <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(<a class="code" href="cuddInt_8h.html#0fc86b7b0c157b7fa3738661d65a22d7">DD_ONE</a>(dd)));
<a name="l00590"></a>00590 
<a name="l00591"></a>00591     cplus = <a class="code" href="cuddApprox_8c.html#88270c8ded877c10677d563b7041df38">Cudd_RemapOverApprox</a>(dd,c,0,0,1.0);
<a name="l00592"></a>00592     <span class="keywordflow">if</span> (cplus == NULL) <span class="keywordflow">return</span>(NULL);
<a name="l00593"></a>00593     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(cplus);
<a name="l00594"></a>00594     res = <a class="code" href="cuddGenCof_8c.html#6c23e53c189d45d06b68a9a52b724141">Cudd_bddLICompaction</a>(dd,f,cplus);
<a name="l00595"></a>00595     <span class="keywordflow">if</span> (res == NULL) {
<a name="l00596"></a>00596         <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,cplus);
<a name="l00597"></a>00597         <span class="keywordflow">return</span>(NULL);
<a name="l00598"></a>00598     }
<a name="l00599"></a>00599     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(res);
<a name="l00600"></a>00600     <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,cplus);
<a name="l00601"></a>00601     <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(res);
<a name="l00602"></a>00602     <span class="keywordflow">return</span>(res);
<a name="l00603"></a>00603 
<a name="l00604"></a>00604 } <span class="comment">/* end of Cudd_bddMinimize */</span>
<a name="l00605"></a>00605 
<a name="l00606"></a>00606 
<a name="l00625"></a>00625 <a class="code" href="structDdNode.html">DdNode</a> *
<a name="l00626"></a><a class="code" href="cuddGenCof_8c.html#bbc5a582b85170a4c365e852b98c37da">00626</a> <a class="code" href="cuddGenCof_8c.html#bbc5a582b85170a4c365e852b98c37da">Cudd_SubsetCompress</a>(
<a name="l00627"></a>00627   <a class="code" href="structDdManager.html">DdManager</a> * dd <span class="comment">/* manager */</span>,
<a name="l00628"></a>00628   <a class="code" href="structDdNode.html">DdNode</a> * f <span class="comment">/* BDD whose subset is sought */</span>,
<a name="l00629"></a>00629   <span class="keywordtype">int</span>  nvars <span class="comment">/* number of variables in the support of f */</span>,
<a name="l00630"></a>00630   <span class="keywordtype">int</span>  threshold <span class="comment">/* maximum number of nodes in the subset */</span>)
<a name="l00631"></a>00631 {
<a name="l00632"></a>00632     <a class="code" href="structDdNode.html">DdNode</a> *res, *tmp1, *tmp2;
<a name="l00633"></a>00633 
<a name="l00634"></a>00634     tmp1 = <a class="code" href="cuddSubsetSP_8c.html#890a2da46a4d6cec913e2ae57a9ab626">Cudd_SubsetShortPaths</a>(dd, f, nvars, threshold, 0);
<a name="l00635"></a>00635     <span class="keywordflow">if</span> (tmp1 == NULL) <span class="keywordflow">return</span>(NULL);
<a name="l00636"></a>00636     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(tmp1);
<a name="l00637"></a>00637     tmp2 = <a class="code" href="cuddApprox_8c.html#05f3e8b16e5df2eb681a68e6ee6906f3">Cudd_RemapUnderApprox</a>(dd,tmp1,nvars,0,1.0);
<a name="l00638"></a>00638     <span class="keywordflow">if</span> (tmp2 == NULL) {
<a name="l00639"></a>00639         <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,tmp1);
<a name="l00640"></a>00640         <span class="keywordflow">return</span>(NULL);
<a name="l00641"></a>00641     }
<a name="l00642"></a>00642     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(tmp2);
<a name="l00643"></a>00643     <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,tmp1);
<a name="l00644"></a>00644     res = <a class="code" href="cuddGenCof_8c.html#fbc2329b3d7a6cb0b8adc5582fc7fe2c">Cudd_bddSqueeze</a>(dd,tmp2,f);
<a name="l00645"></a>00645     <span class="keywordflow">if</span> (res == NULL) {
<a name="l00646"></a>00646         <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,tmp2);
<a name="l00647"></a>00647         <span class="keywordflow">return</span>(NULL);
<a name="l00648"></a>00648     }
<a name="l00649"></a>00649     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(res);
<a name="l00650"></a>00650     <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,tmp2);
<a name="l00651"></a>00651     <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(res);
<a name="l00652"></a>00652     <span class="keywordflow">return</span>(res);
<a name="l00653"></a>00653 
<a name="l00654"></a>00654 } <span class="comment">/* end of Cudd_SubsetCompress */</span>
<a name="l00655"></a>00655 
<a name="l00656"></a>00656 
<a name="l00675"></a>00675 <a class="code" href="structDdNode.html">DdNode</a> *
<a name="l00676"></a><a class="code" href="cuddGenCof_8c.html#194308bd7e4afce7aa668833f8a4e2ff">00676</a> <a class="code" href="cuddGenCof_8c.html#194308bd7e4afce7aa668833f8a4e2ff">Cudd_SupersetCompress</a>(
<a name="l00677"></a>00677   <a class="code" href="structDdManager.html">DdManager</a> * dd <span class="comment">/* manager */</span>,
<a name="l00678"></a>00678   <a class="code" href="structDdNode.html">DdNode</a> * f <span class="comment">/* BDD whose superset is sought */</span>,
<a name="l00679"></a>00679   <span class="keywordtype">int</span>  nvars <span class="comment">/* number of variables in the support of f */</span>,
<a name="l00680"></a>00680   <span class="keywordtype">int</span>  threshold <span class="comment">/* maximum number of nodes in the superset */</span>)
<a name="l00681"></a>00681 {
<a name="l00682"></a>00682     <a class="code" href="structDdNode.html">DdNode</a> *subset;
<a name="l00683"></a>00683 
<a name="l00684"></a>00684     subset = <a class="code" href="cuddGenCof_8c.html#bbc5a582b85170a4c365e852b98c37da">Cudd_SubsetCompress</a>(dd, <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(f),nvars,threshold);
<a name="l00685"></a>00685 
<a name="l00686"></a>00686     <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#e870da95e89a703e939161fe08b899f9">Cudd_NotCond</a>(subset, (subset != NULL)));
<a name="l00687"></a>00687 
<a name="l00688"></a>00688 } <span class="comment">/* end of Cudd_SupersetCompress */</span>
<a name="l00689"></a>00689 
<a name="l00690"></a>00690 
<a name="l00691"></a>00691 <span class="comment">/*---------------------------------------------------------------------------*/</span>
<a name="l00692"></a>00692 <span class="comment">/* Definition of internal functions                                          */</span>
<a name="l00693"></a>00693 <span class="comment">/*---------------------------------------------------------------------------*/</span>
<a name="l00694"></a>00694 
<a name="l00695"></a>00695 
<a name="l00708"></a>00708 <a class="code" href="structDdNode.html">DdNode</a> *
<a name="l00709"></a><a class="code" href="cuddGenCof_8c.html#6311f1cc598ee0f3681a76baec8c6d53">00709</a> <a class="code" href="cuddGenCof_8c.html#6311f1cc598ee0f3681a76baec8c6d53">cuddBddConstrainRecur</a>(
<a name="l00710"></a>00710   <a class="code" href="structDdManager.html">DdManager</a> * dd,
<a name="l00711"></a>00711   <a class="code" href="structDdNode.html">DdNode</a> * f,
<a name="l00712"></a>00712   <a class="code" href="structDdNode.html">DdNode</a> * c)
<a name="l00713"></a>00713 {
<a name="l00714"></a>00714     <a class="code" href="structDdNode.html">DdNode</a>       *Fv, *Fnv, *Cv, *Cnv, *t, *e, *r;
<a name="l00715"></a>00715     <a class="code" href="structDdNode.html">DdNode</a>       *<a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>, *<a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>;
<a name="l00716"></a>00716     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> topf, topc;
<a name="l00717"></a>00717     <span class="keywordtype">int</span>          index;
<a name="l00718"></a>00718     <span class="keywordtype">int</span>          comple = 0;
<a name="l00719"></a>00719 
<a name="l00720"></a>00720     <a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a> = <a class="code" href="cuddInt_8h.html#0fc86b7b0c157b7fa3738661d65a22d7">DD_ONE</a>(dd);
<a name="l00721"></a>00721     <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a> = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(<a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>);
<a name="l00722"></a>00722 
<a name="l00723"></a>00723     <span class="comment">/* Trivial cases. */</span>
<a name="l00724"></a>00724     <span class="keywordflow">if</span> (c == <a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>)               <span class="keywordflow">return</span>(f);
<a name="l00725"></a>00725     <span class="keywordflow">if</span> (c == <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>)              <span class="keywordflow">return</span>(<a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>);
<a name="l00726"></a>00726     <span class="keywordflow">if</span> (<a class="code" href="cudd_8h.html#35e63bfe07b09cd6f2508742cc37af38">Cudd_IsConstant</a>(f))     <span class="keywordflow">return</span>(f);
<a name="l00727"></a>00727     <span class="keywordflow">if</span> (f == c)                 <span class="keywordflow">return</span>(<a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>);
<a name="l00728"></a>00728     <span class="keywordflow">if</span> (f == <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(c))       <span class="keywordflow">return</span>(zero);
<a name="l00729"></a>00729 
<a name="l00730"></a>00730     <span class="comment">/* Make canonical to increase the utilization of the cache. */</span>
<a name="l00731"></a>00731     <span class="keywordflow">if</span> (<a class="code" href="cudd_8h.html#35322518c24f65f44eda9623083cb62c">Cudd_IsComplement</a>(f)) {
<a name="l00732"></a>00732         f = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(f);
<a name="l00733"></a>00733         comple = 1;
<a name="l00734"></a>00734     }
<a name="l00735"></a>00735     <span class="comment">/* Now f is a regular pointer to a non-constant node; c is also</span>
<a name="l00736"></a>00736 <span class="comment">    ** non-constant, but may be complemented.</span>
<a name="l00737"></a>00737 <span class="comment">    */</span>
<a name="l00738"></a>00738 
<a name="l00739"></a>00739     <span class="comment">/* Check the cache. */</span>
<a name="l00740"></a>00740     r = <a class="code" href="cuddCache_8c.html#2db1ee9c4d273f23a89e8724360e293f">cuddCacheLookup2</a>(dd, <a class="code" href="cuddGenCof_8c.html#250f801a2e5814da9d67a3436f0e3376">Cudd_bddConstrain</a>, f, c);
<a name="l00741"></a>00741     <span class="keywordflow">if</span> (r != NULL) {
<a name="l00742"></a>00742         <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#e870da95e89a703e939161fe08b899f9">Cudd_NotCond</a>(r,comple));
<a name="l00743"></a>00743     }
<a name="l00744"></a>00744     
<a name="l00745"></a>00745     <span class="comment">/* Recursive step. */</span>
<a name="l00746"></a>00746     topf = dd-&gt;<a class="code" href="structDdManager.html#299d281a98c60aeec0e8edf6671a0f51">perm</a>[f-&gt;index];
<a name="l00747"></a>00747     topc = dd-&gt;<a class="code" href="structDdManager.html#299d281a98c60aeec0e8edf6671a0f51">perm</a>[<a class="code" href="cudd_8h.html#fbbecf4f6f78f92518f4d0a477d870b6">Cudd_Regular</a>(c)-&gt;index];
<a name="l00748"></a>00748     <span class="keywordflow">if</span> (topf &lt;= topc) {
<a name="l00749"></a>00749         index = f-&gt;index;
<a name="l00750"></a>00750         Fv = <a class="code" href="cuddInt_8h.html#09834c697b92ac296b1e50c863f88262">cuddT</a>(f); Fnv = <a class="code" href="cuddInt_8h.html#aef03f10591d8e28bb5fecd2aa7c93ff">cuddE</a>(f);
<a name="l00751"></a>00751     } <span class="keywordflow">else</span> {
<a name="l00752"></a>00752         index = <a class="code" href="cudd_8h.html#fbbecf4f6f78f92518f4d0a477d870b6">Cudd_Regular</a>(c)-&gt;index;
<a name="l00753"></a>00753         Fv = Fnv = f;
<a name="l00754"></a>00754     }
<a name="l00755"></a>00755     <span class="keywordflow">if</span> (topc &lt;= topf) {
<a name="l00756"></a>00756         Cv = <a class="code" href="cuddInt_8h.html#09834c697b92ac296b1e50c863f88262">cuddT</a>(<a class="code" href="cudd_8h.html#fbbecf4f6f78f92518f4d0a477d870b6">Cudd_Regular</a>(c)); Cnv = <a class="code" href="cuddInt_8h.html#aef03f10591d8e28bb5fecd2aa7c93ff">cuddE</a>(<a class="code" href="cudd_8h.html#fbbecf4f6f78f92518f4d0a477d870b6">Cudd_Regular</a>(c));
<a name="l00757"></a>00757         <span class="keywordflow">if</span> (<a class="code" href="cudd_8h.html#35322518c24f65f44eda9623083cb62c">Cudd_IsComplement</a>(c)) {
<a name="l00758"></a>00758             Cv = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(Cv);
<a name="l00759"></a>00759             Cnv = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(Cnv);
<a name="l00760"></a>00760         }
<a name="l00761"></a>00761     } <span class="keywordflow">else</span> {
<a name="l00762"></a>00762         Cv = Cnv = c;
<a name="l00763"></a>00763     }
<a name="l00764"></a>00764 
<a name="l00765"></a>00765     <span class="keywordflow">if</span> (!<a class="code" href="cudd_8h.html#35e63bfe07b09cd6f2508742cc37af38">Cudd_IsConstant</a>(Cv)) {
<a name="l00766"></a>00766         t = <a class="code" href="cuddGenCof_8c.html#6311f1cc598ee0f3681a76baec8c6d53">cuddBddConstrainRecur</a>(dd, Fv, Cv);
<a name="l00767"></a>00767         <span class="keywordflow">if</span> (t == NULL)
<a name="l00768"></a>00768             <span class="keywordflow">return</span>(NULL);
<a name="l00769"></a>00769     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Cv == one) {
<a name="l00770"></a>00770         t = Fv;
<a name="l00771"></a>00771     } <span class="keywordflow">else</span> {            <span class="comment">/* Cv == zero: return Fnv @ Cnv */</span>
<a name="l00772"></a>00772         <span class="keywordflow">if</span> (Cnv == one) {
<a name="l00773"></a>00773             r = Fnv;
<a name="l00774"></a>00774         } <span class="keywordflow">else</span> {
<a name="l00775"></a>00775             r = <a class="code" href="cuddGenCof_8c.html#6311f1cc598ee0f3681a76baec8c6d53">cuddBddConstrainRecur</a>(dd, Fnv, Cnv);
<a name="l00776"></a>00776             <span class="keywordflow">if</span> (r == NULL)
<a name="l00777"></a>00777                 <span class="keywordflow">return</span>(NULL);
<a name="l00778"></a>00778         }
<a name="l00779"></a>00779         <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#e870da95e89a703e939161fe08b899f9">Cudd_NotCond</a>(r,comple));
<a name="l00780"></a>00780     }
<a name="l00781"></a>00781     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(t);
<a name="l00782"></a>00782 
<a name="l00783"></a>00783     <span class="keywordflow">if</span> (!<a class="code" href="cudd_8h.html#35e63bfe07b09cd6f2508742cc37af38">Cudd_IsConstant</a>(Cnv)) {
<a name="l00784"></a>00784         e = <a class="code" href="cuddGenCof_8c.html#6311f1cc598ee0f3681a76baec8c6d53">cuddBddConstrainRecur</a>(dd, Fnv, Cnv);
<a name="l00785"></a>00785         <span class="keywordflow">if</span> (e == NULL) {
<a name="l00786"></a>00786             <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, t);
<a name="l00787"></a>00787             <span class="keywordflow">return</span>(NULL);
<a name="l00788"></a>00788         }
<a name="l00789"></a>00789     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Cnv == one) {
<a name="l00790"></a>00790         e = Fnv;
<a name="l00791"></a>00791     } <span class="keywordflow">else</span> {            <span class="comment">/* Cnv == zero: return Fv @ Cv previously computed */</span>
<a name="l00792"></a>00792         <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(t);
<a name="l00793"></a>00793         <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#e870da95e89a703e939161fe08b899f9">Cudd_NotCond</a>(t,comple));
<a name="l00794"></a>00794     }
<a name="l00795"></a>00795     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(e);
<a name="l00796"></a>00796 
<a name="l00797"></a>00797     <span class="keywordflow">if</span> (<a class="code" href="cudd_8h.html#35322518c24f65f44eda9623083cb62c">Cudd_IsComplement</a>(t)) {
<a name="l00798"></a>00798         t = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(t);
<a name="l00799"></a>00799         e = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(e);
<a name="l00800"></a>00800         r = (t == e) ? t : <a class="code" href="cuddTable_8c.html#767e31fbbfdbddc623396dde86249497">cuddUniqueInter</a>(dd, index, t, e);
<a name="l00801"></a>00801         <span class="keywordflow">if</span> (r == NULL) {
<a name="l00802"></a>00802             <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, e);
<a name="l00803"></a>00803             <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, t);
<a name="l00804"></a>00804             <span class="keywordflow">return</span>(NULL);
<a name="l00805"></a>00805         }
<a name="l00806"></a>00806         r = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(r);
<a name="l00807"></a>00807     } <span class="keywordflow">else</span> {
<a name="l00808"></a>00808         r = (t == e) ? t : <a class="code" href="cuddTable_8c.html#767e31fbbfdbddc623396dde86249497">cuddUniqueInter</a>(dd, index, t, e);
<a name="l00809"></a>00809         <span class="keywordflow">if</span> (r == NULL) {
<a name="l00810"></a>00810             <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, e);
<a name="l00811"></a>00811             <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, t);
<a name="l00812"></a>00812             <span class="keywordflow">return</span>(NULL);
<a name="l00813"></a>00813         }
<a name="l00814"></a>00814     }
<a name="l00815"></a>00815     <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(t);
<a name="l00816"></a>00816     <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(e);
<a name="l00817"></a>00817 
<a name="l00818"></a>00818     <a class="code" href="cuddCache_8c.html#9a0dea7043973f558e0d0bbb473a2163">cuddCacheInsert2</a>(dd, <a class="code" href="cuddGenCof_8c.html#250f801a2e5814da9d67a3436f0e3376">Cudd_bddConstrain</a>, f, c, r);
<a name="l00819"></a>00819     <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#e870da95e89a703e939161fe08b899f9">Cudd_NotCond</a>(r,comple));
<a name="l00820"></a>00820 
<a name="l00821"></a>00821 } <span class="comment">/* end of cuddBddConstrainRecur */</span>
<a name="l00822"></a>00822 
<a name="l00823"></a>00823 
<a name="l00836"></a>00836 <a class="code" href="structDdNode.html">DdNode</a> *
<a name="l00837"></a><a class="code" href="cuddGenCof_8c.html#c7fd377dc8f0df6472ca0fe6df41ae48">00837</a> <a class="code" href="cuddGenCof_8c.html#c7fd377dc8f0df6472ca0fe6df41ae48">cuddBddRestrictRecur</a>(
<a name="l00838"></a>00838   <a class="code" href="structDdManager.html">DdManager</a> * dd,
<a name="l00839"></a>00839   <a class="code" href="structDdNode.html">DdNode</a> * f,
<a name="l00840"></a>00840   <a class="code" href="structDdNode.html">DdNode</a> * c)
<a name="l00841"></a>00841 {
<a name="l00842"></a>00842     <a class="code" href="structDdNode.html">DdNode</a>       *Fv, *Fnv, *Cv, *Cnv, *t, *e, *r, *<a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>, *<a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>;
<a name="l00843"></a>00843     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> topf, topc;
<a name="l00844"></a>00844     <span class="keywordtype">int</span>          index;
<a name="l00845"></a>00845     <span class="keywordtype">int</span>          comple = 0;
<a name="l00846"></a>00846 
<a name="l00847"></a>00847     <a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a> = <a class="code" href="cuddInt_8h.html#0fc86b7b0c157b7fa3738661d65a22d7">DD_ONE</a>(dd);
<a name="l00848"></a>00848     <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a> = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(<a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>);
<a name="l00849"></a>00849 
<a name="l00850"></a>00850     <span class="comment">/* Trivial cases */</span>
<a name="l00851"></a>00851     <span class="keywordflow">if</span> (c == <a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>)               <span class="keywordflow">return</span>(f);
<a name="l00852"></a>00852     <span class="keywordflow">if</span> (c == <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>)              <span class="keywordflow">return</span>(<a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>);
<a name="l00853"></a>00853     <span class="keywordflow">if</span> (<a class="code" href="cudd_8h.html#35e63bfe07b09cd6f2508742cc37af38">Cudd_IsConstant</a>(f))     <span class="keywordflow">return</span>(f);
<a name="l00854"></a>00854     <span class="keywordflow">if</span> (f == c)                 <span class="keywordflow">return</span>(<a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>);
<a name="l00855"></a>00855     <span class="keywordflow">if</span> (f == <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(c))       <span class="keywordflow">return</span>(zero);
<a name="l00856"></a>00856 
<a name="l00857"></a>00857     <span class="comment">/* Make canonical to increase the utilization of the cache. */</span>
<a name="l00858"></a>00858     <span class="keywordflow">if</span> (<a class="code" href="cudd_8h.html#35322518c24f65f44eda9623083cb62c">Cudd_IsComplement</a>(f)) {
<a name="l00859"></a>00859         f = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(f);
<a name="l00860"></a>00860         comple = 1;
<a name="l00861"></a>00861     }
<a name="l00862"></a>00862     <span class="comment">/* Now f is a regular pointer to a non-constant node; c is also</span>
<a name="l00863"></a>00863 <span class="comment">    ** non-constant, but may be complemented.</span>
<a name="l00864"></a>00864 <span class="comment">    */</span>
<a name="l00865"></a>00865 
<a name="l00866"></a>00866     <span class="comment">/* Check the cache. */</span>
<a name="l00867"></a>00867     r = <a class="code" href="cuddCache_8c.html#2db1ee9c4d273f23a89e8724360e293f">cuddCacheLookup2</a>(dd, <a class="code" href="cuddGenCof_8c.html#3c8d8bb0210e368eb7258b2961c3cf3e">Cudd_bddRestrict</a>, f, c);
<a name="l00868"></a>00868     <span class="keywordflow">if</span> (r != NULL) {
<a name="l00869"></a>00869         <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#e870da95e89a703e939161fe08b899f9">Cudd_NotCond</a>(r,comple));
<a name="l00870"></a>00870     }
<a name="l00871"></a>00871 
<a name="l00872"></a>00872     topf = dd-&gt;<a class="code" href="structDdManager.html#299d281a98c60aeec0e8edf6671a0f51">perm</a>[f-&gt;index];
<a name="l00873"></a>00873     topc = dd-&gt;<a class="code" href="structDdManager.html#299d281a98c60aeec0e8edf6671a0f51">perm</a>[<a class="code" href="cudd_8h.html#fbbecf4f6f78f92518f4d0a477d870b6">Cudd_Regular</a>(c)-&gt;index];
<a name="l00874"></a>00874 
<a name="l00875"></a>00875     <span class="keywordflow">if</span> (topc &lt; topf) {  <span class="comment">/* abstract top variable from c */</span>
<a name="l00876"></a>00876         <a class="code" href="structDdNode.html">DdNode</a> *d, *s1, *s2;
<a name="l00877"></a>00877 
<a name="l00878"></a>00878         <span class="comment">/* Find complements of cofactors of c. */</span>
<a name="l00879"></a>00879         <span class="keywordflow">if</span> (<a class="code" href="cudd_8h.html#35322518c24f65f44eda9623083cb62c">Cudd_IsComplement</a>(c)) {
<a name="l00880"></a>00880             s1 = <a class="code" href="cuddInt_8h.html#09834c697b92ac296b1e50c863f88262">cuddT</a>(<a class="code" href="cudd_8h.html#fbbecf4f6f78f92518f4d0a477d870b6">Cudd_Regular</a>(c));
<a name="l00881"></a>00881             s2 = <a class="code" href="cuddInt_8h.html#aef03f10591d8e28bb5fecd2aa7c93ff">cuddE</a>(<a class="code" href="cudd_8h.html#fbbecf4f6f78f92518f4d0a477d870b6">Cudd_Regular</a>(c));
<a name="l00882"></a>00882         } <span class="keywordflow">else</span> {
<a name="l00883"></a>00883             s1 = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(<a class="code" href="cuddInt_8h.html#09834c697b92ac296b1e50c863f88262">cuddT</a>(c));
<a name="l00884"></a>00884             s2 = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(<a class="code" href="cuddInt_8h.html#aef03f10591d8e28bb5fecd2aa7c93ff">cuddE</a>(c));
<a name="l00885"></a>00885         }
<a name="l00886"></a>00886         <span class="comment">/* Take the OR by applying DeMorgan. */</span>
<a name="l00887"></a>00887         d = <a class="code" href="cuddBddIte_8c.html#1766cd8bf8b2ec57ade0db1a461e352b">cuddBddAndRecur</a>(dd, s1, s2);
<a name="l00888"></a>00888         <span class="keywordflow">if</span> (d == NULL) <span class="keywordflow">return</span>(NULL);
<a name="l00889"></a>00889         d = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(d);
<a name="l00890"></a>00890         <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(d);
<a name="l00891"></a>00891         r = <a class="code" href="cuddGenCof_8c.html#c7fd377dc8f0df6472ca0fe6df41ae48">cuddBddRestrictRecur</a>(dd, f, d);
<a name="l00892"></a>00892         <span class="keywordflow">if</span> (r == NULL) {
<a name="l00893"></a>00893             <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, d);
<a name="l00894"></a>00894             <span class="keywordflow">return</span>(NULL);
<a name="l00895"></a>00895         }
<a name="l00896"></a>00896         <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(r);
<a name="l00897"></a>00897         <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, d);
<a name="l00898"></a>00898         <a class="code" href="cuddCache_8c.html#9a0dea7043973f558e0d0bbb473a2163">cuddCacheInsert2</a>(dd, <a class="code" href="cuddGenCof_8c.html#3c8d8bb0210e368eb7258b2961c3cf3e">Cudd_bddRestrict</a>, f, c, r);
<a name="l00899"></a>00899         <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(r);
<a name="l00900"></a>00900         <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#e870da95e89a703e939161fe08b899f9">Cudd_NotCond</a>(r,comple));
<a name="l00901"></a>00901     }
<a name="l00902"></a>00902 
<a name="l00903"></a>00903     <span class="comment">/* Recursive step. Here topf &lt;= topc. */</span>
<a name="l00904"></a>00904     index = f-&gt;index;
<a name="l00905"></a>00905     Fv = <a class="code" href="cuddInt_8h.html#09834c697b92ac296b1e50c863f88262">cuddT</a>(f); Fnv = <a class="code" href="cuddInt_8h.html#aef03f10591d8e28bb5fecd2aa7c93ff">cuddE</a>(f);
<a name="l00906"></a>00906     <span class="keywordflow">if</span> (topc == topf) {
<a name="l00907"></a>00907         Cv = <a class="code" href="cuddInt_8h.html#09834c697b92ac296b1e50c863f88262">cuddT</a>(<a class="code" href="cudd_8h.html#fbbecf4f6f78f92518f4d0a477d870b6">Cudd_Regular</a>(c)); Cnv = <a class="code" href="cuddInt_8h.html#aef03f10591d8e28bb5fecd2aa7c93ff">cuddE</a>(<a class="code" href="cudd_8h.html#fbbecf4f6f78f92518f4d0a477d870b6">Cudd_Regular</a>(c));
<a name="l00908"></a>00908         <span class="keywordflow">if</span> (<a class="code" href="cudd_8h.html#35322518c24f65f44eda9623083cb62c">Cudd_IsComplement</a>(c)) {
<a name="l00909"></a>00909             Cv = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(Cv);
<a name="l00910"></a>00910             Cnv = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(Cnv);
<a name="l00911"></a>00911         }
<a name="l00912"></a>00912     } <span class="keywordflow">else</span> {
<a name="l00913"></a>00913         Cv = Cnv = c;
<a name="l00914"></a>00914     }
<a name="l00915"></a>00915 
<a name="l00916"></a>00916     <span class="keywordflow">if</span> (!<a class="code" href="cudd_8h.html#35e63bfe07b09cd6f2508742cc37af38">Cudd_IsConstant</a>(Cv)) {
<a name="l00917"></a>00917         t = <a class="code" href="cuddGenCof_8c.html#c7fd377dc8f0df6472ca0fe6df41ae48">cuddBddRestrictRecur</a>(dd, Fv, Cv);
<a name="l00918"></a>00918         <span class="keywordflow">if</span> (t == NULL) <span class="keywordflow">return</span>(NULL);
<a name="l00919"></a>00919     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Cv == one) {
<a name="l00920"></a>00920         t = Fv;
<a name="l00921"></a>00921     } <span class="keywordflow">else</span> {            <span class="comment">/* Cv == zero: return(Fnv @ Cnv) */</span>
<a name="l00922"></a>00922         <span class="keywordflow">if</span> (Cnv == one) {
<a name="l00923"></a>00923             r = Fnv;
<a name="l00924"></a>00924         } <span class="keywordflow">else</span> {
<a name="l00925"></a>00925             r = <a class="code" href="cuddGenCof_8c.html#c7fd377dc8f0df6472ca0fe6df41ae48">cuddBddRestrictRecur</a>(dd, Fnv, Cnv);
<a name="l00926"></a>00926             <span class="keywordflow">if</span> (r == NULL) <span class="keywordflow">return</span>(NULL);
<a name="l00927"></a>00927         }
<a name="l00928"></a>00928         <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#e870da95e89a703e939161fe08b899f9">Cudd_NotCond</a>(r,comple));
<a name="l00929"></a>00929     }
<a name="l00930"></a>00930     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(t);
<a name="l00931"></a>00931 
<a name="l00932"></a>00932     <span class="keywordflow">if</span> (!<a class="code" href="cudd_8h.html#35e63bfe07b09cd6f2508742cc37af38">Cudd_IsConstant</a>(Cnv)) {
<a name="l00933"></a>00933         e = <a class="code" href="cuddGenCof_8c.html#c7fd377dc8f0df6472ca0fe6df41ae48">cuddBddRestrictRecur</a>(dd, Fnv, Cnv);
<a name="l00934"></a>00934         <span class="keywordflow">if</span> (e == NULL) {
<a name="l00935"></a>00935             <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, t);
<a name="l00936"></a>00936             <span class="keywordflow">return</span>(NULL);
<a name="l00937"></a>00937         }
<a name="l00938"></a>00938     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Cnv == one) {
<a name="l00939"></a>00939         e = Fnv;
<a name="l00940"></a>00940     } <span class="keywordflow">else</span> {            <span class="comment">/* Cnv == zero: return (Fv @ Cv) previously computed */</span>
<a name="l00941"></a>00941         <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(t);
<a name="l00942"></a>00942         <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#e870da95e89a703e939161fe08b899f9">Cudd_NotCond</a>(t,comple));
<a name="l00943"></a>00943     }
<a name="l00944"></a>00944     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(e);
<a name="l00945"></a>00945 
<a name="l00946"></a>00946     <span class="keywordflow">if</span> (<a class="code" href="cudd_8h.html#35322518c24f65f44eda9623083cb62c">Cudd_IsComplement</a>(t)) {
<a name="l00947"></a>00947         t = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(t);
<a name="l00948"></a>00948         e = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(e);
<a name="l00949"></a>00949         r = (t == e) ? t : <a class="code" href="cuddTable_8c.html#767e31fbbfdbddc623396dde86249497">cuddUniqueInter</a>(dd, index, t, e);
<a name="l00950"></a>00950         <span class="keywordflow">if</span> (r == NULL) {
<a name="l00951"></a>00951             <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, e);
<a name="l00952"></a>00952             <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, t);
<a name="l00953"></a>00953             <span class="keywordflow">return</span>(NULL);
<a name="l00954"></a>00954         }
<a name="l00955"></a>00955         r = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(r);
<a name="l00956"></a>00956     } <span class="keywordflow">else</span> {
<a name="l00957"></a>00957         r = (t == e) ? t : <a class="code" href="cuddTable_8c.html#767e31fbbfdbddc623396dde86249497">cuddUniqueInter</a>(dd, index, t, e);
<a name="l00958"></a>00958         <span class="keywordflow">if</span> (r == NULL) {
<a name="l00959"></a>00959             <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, e);
<a name="l00960"></a>00960             <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, t);
<a name="l00961"></a>00961             <span class="keywordflow">return</span>(NULL);
<a name="l00962"></a>00962         }
<a name="l00963"></a>00963     }
<a name="l00964"></a>00964     <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(t);
<a name="l00965"></a>00965     <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(e);
<a name="l00966"></a>00966 
<a name="l00967"></a>00967     <a class="code" href="cuddCache_8c.html#9a0dea7043973f558e0d0bbb473a2163">cuddCacheInsert2</a>(dd, <a class="code" href="cuddGenCof_8c.html#3c8d8bb0210e368eb7258b2961c3cf3e">Cudd_bddRestrict</a>, f, c, r);
<a name="l00968"></a>00968     <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#e870da95e89a703e939161fe08b899f9">Cudd_NotCond</a>(r,comple));
<a name="l00969"></a>00969 
<a name="l00970"></a>00970 } <span class="comment">/* end of cuddBddRestrictRecur */</span>
<a name="l00971"></a>00971 
<a name="l00972"></a>00972 
<a name="l00985"></a>00985 <a class="code" href="structDdNode.html">DdNode</a> *
<a name="l00986"></a><a class="code" href="cuddGenCof_8c.html#bb45bdb200e1e4e975b20925130a6c66">00986</a> <a class="code" href="cuddGenCof_8c.html#bb45bdb200e1e4e975b20925130a6c66">cuddAddConstrainRecur</a>(
<a name="l00987"></a>00987   <a class="code" href="structDdManager.html">DdManager</a> * dd,
<a name="l00988"></a>00988   <a class="code" href="structDdNode.html">DdNode</a> * f,
<a name="l00989"></a>00989   <a class="code" href="structDdNode.html">DdNode</a> * c)
<a name="l00990"></a>00990 {
<a name="l00991"></a>00991     <a class="code" href="structDdNode.html">DdNode</a>       *Fv, *Fnv, *Cv, *Cnv, *t, *e, *r;
<a name="l00992"></a>00992     <a class="code" href="structDdNode.html">DdNode</a>       *<a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>, *<a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>;
<a name="l00993"></a>00993     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> topf, topc;
<a name="l00994"></a>00994     <span class="keywordtype">int</span>          index;
<a name="l00995"></a>00995 
<a name="l00996"></a>00996     <a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a> = <a class="code" href="cuddInt_8h.html#0fc86b7b0c157b7fa3738661d65a22d7">DD_ONE</a>(dd);
<a name="l00997"></a>00997     <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a> = <a class="code" href="cuddInt_8h.html#b78870b54aa3b1ff2eb38b311e5d8a1a">DD_ZERO</a>(dd);
<a name="l00998"></a>00998 
<a name="l00999"></a>00999     <span class="comment">/* Trivial cases. */</span>
<a name="l01000"></a>01000     <span class="keywordflow">if</span> (c == <a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>)               <span class="keywordflow">return</span>(f);
<a name="l01001"></a>01001     <span class="keywordflow">if</span> (c == <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>)              <span class="keywordflow">return</span>(<a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>);
<a name="l01002"></a>01002     <span class="keywordflow">if</span> (<a class="code" href="cudd_8h.html#35e63bfe07b09cd6f2508742cc37af38">Cudd_IsConstant</a>(f))     <span class="keywordflow">return</span>(f);
<a name="l01003"></a>01003     <span class="keywordflow">if</span> (f == c)                 <span class="keywordflow">return</span>(<a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>);
<a name="l01004"></a>01004 
<a name="l01005"></a>01005     <span class="comment">/* Now f and c are non-constant. */</span>
<a name="l01006"></a>01006 
<a name="l01007"></a>01007     <span class="comment">/* Check the cache. */</span>
<a name="l01008"></a>01008     r = <a class="code" href="cuddCache_8c.html#2db1ee9c4d273f23a89e8724360e293f">cuddCacheLookup2</a>(dd, <a class="code" href="cuddGenCof_8c.html#3bdc53bb832fb6b57528e7d5ceef7944">Cudd_addConstrain</a>, f, c);
<a name="l01009"></a>01009     <span class="keywordflow">if</span> (r != NULL) {
<a name="l01010"></a>01010         <span class="keywordflow">return</span>(r);
<a name="l01011"></a>01011     }
<a name="l01012"></a>01012     
<a name="l01013"></a>01013     <span class="comment">/* Recursive step. */</span>
<a name="l01014"></a>01014     topf = dd-&gt;<a class="code" href="structDdManager.html#299d281a98c60aeec0e8edf6671a0f51">perm</a>[f-&gt;index];
<a name="l01015"></a>01015     topc = dd-&gt;<a class="code" href="structDdManager.html#299d281a98c60aeec0e8edf6671a0f51">perm</a>[c-&gt;<a class="code" href="structDdNode.html#bbd39b25b9abe4b4d53cd267a4103bda">index</a>];
<a name="l01016"></a>01016     <span class="keywordflow">if</span> (topf &lt;= topc) {
<a name="l01017"></a>01017         index = f-&gt;index;
<a name="l01018"></a>01018         Fv = <a class="code" href="cuddInt_8h.html#09834c697b92ac296b1e50c863f88262">cuddT</a>(f); Fnv = <a class="code" href="cuddInt_8h.html#aef03f10591d8e28bb5fecd2aa7c93ff">cuddE</a>(f);
<a name="l01019"></a>01019     } <span class="keywordflow">else</span> {
<a name="l01020"></a>01020         index = c-&gt;<a class="code" href="structDdNode.html#bbd39b25b9abe4b4d53cd267a4103bda">index</a>;
<a name="l01021"></a>01021         Fv = Fnv = f;
<a name="l01022"></a>01022     }
<a name="l01023"></a>01023     <span class="keywordflow">if</span> (topc &lt;= topf) {
<a name="l01024"></a>01024         Cv = <a class="code" href="cuddInt_8h.html#09834c697b92ac296b1e50c863f88262">cuddT</a>(c); Cnv = <a class="code" href="cuddInt_8h.html#aef03f10591d8e28bb5fecd2aa7c93ff">cuddE</a>(c);
<a name="l01025"></a>01025     } <span class="keywordflow">else</span> {
<a name="l01026"></a>01026         Cv = Cnv = c;
<a name="l01027"></a>01027     }
<a name="l01028"></a>01028 
<a name="l01029"></a>01029     <span class="keywordflow">if</span> (!<a class="code" href="cudd_8h.html#35e63bfe07b09cd6f2508742cc37af38">Cudd_IsConstant</a>(Cv)) {
<a name="l01030"></a>01030         t = <a class="code" href="cuddGenCof_8c.html#bb45bdb200e1e4e975b20925130a6c66">cuddAddConstrainRecur</a>(dd, Fv, Cv);
<a name="l01031"></a>01031         <span class="keywordflow">if</span> (t == NULL)
<a name="l01032"></a>01032             <span class="keywordflow">return</span>(NULL);
<a name="l01033"></a>01033     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Cv == one) {
<a name="l01034"></a>01034         t = Fv;
<a name="l01035"></a>01035     } <span class="keywordflow">else</span> {            <span class="comment">/* Cv == zero: return Fnv @ Cnv */</span>
<a name="l01036"></a>01036         <span class="keywordflow">if</span> (Cnv == one) {
<a name="l01037"></a>01037             r = Fnv;
<a name="l01038"></a>01038         } <span class="keywordflow">else</span> {
<a name="l01039"></a>01039             r = <a class="code" href="cuddGenCof_8c.html#bb45bdb200e1e4e975b20925130a6c66">cuddAddConstrainRecur</a>(dd, Fnv, Cnv);
<a name="l01040"></a>01040             <span class="keywordflow">if</span> (r == NULL)
<a name="l01041"></a>01041                 <span class="keywordflow">return</span>(NULL);
<a name="l01042"></a>01042         }
<a name="l01043"></a>01043         <span class="keywordflow">return</span>(r);
<a name="l01044"></a>01044     }
<a name="l01045"></a>01045     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(t);
<a name="l01046"></a>01046 
<a name="l01047"></a>01047     <span class="keywordflow">if</span> (!<a class="code" href="cudd_8h.html#35e63bfe07b09cd6f2508742cc37af38">Cudd_IsConstant</a>(Cnv)) {
<a name="l01048"></a>01048         e = <a class="code" href="cuddGenCof_8c.html#bb45bdb200e1e4e975b20925130a6c66">cuddAddConstrainRecur</a>(dd, Fnv, Cnv);
<a name="l01049"></a>01049         <span class="keywordflow">if</span> (e == NULL) {
<a name="l01050"></a>01050             <a class="code" href="cuddRef_8c.html#0944d022761660bf481167b78759f599">Cudd_RecursiveDeref</a>(dd, t);
<a name="l01051"></a>01051             <span class="keywordflow">return</span>(NULL);
<a name="l01052"></a>01052         }
<a name="l01053"></a>01053     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Cnv == one) {
<a name="l01054"></a>01054         e = Fnv;
<a name="l01055"></a>01055     } <span class="keywordflow">else</span> {            <span class="comment">/* Cnv == zero: return Fv @ Cv previously computed */</span>
<a name="l01056"></a>01056         <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(t);
<a name="l01057"></a>01057         <span class="keywordflow">return</span>(t);
<a name="l01058"></a>01058     }
<a name="l01059"></a>01059     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(e);
<a name="l01060"></a>01060 
<a name="l01061"></a>01061     r = (t == e) ? t : <a class="code" href="cuddTable_8c.html#767e31fbbfdbddc623396dde86249497">cuddUniqueInter</a>(dd, index, t, e);
<a name="l01062"></a>01062     <span class="keywordflow">if</span> (r == NULL) {
<a name="l01063"></a>01063         <a class="code" href="cuddRef_8c.html#0944d022761660bf481167b78759f599">Cudd_RecursiveDeref</a>(dd, e);
<a name="l01064"></a>01064         <a class="code" href="cuddRef_8c.html#0944d022761660bf481167b78759f599">Cudd_RecursiveDeref</a>(dd, t);
<a name="l01065"></a>01065         <span class="keywordflow">return</span>(NULL);
<a name="l01066"></a>01066     }
<a name="l01067"></a>01067     <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(t);
<a name="l01068"></a>01068     <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(e);
<a name="l01069"></a>01069 
<a name="l01070"></a>01070     <a class="code" href="cuddCache_8c.html#9a0dea7043973f558e0d0bbb473a2163">cuddCacheInsert2</a>(dd, <a class="code" href="cuddGenCof_8c.html#3bdc53bb832fb6b57528e7d5ceef7944">Cudd_addConstrain</a>, f, c, r);
<a name="l01071"></a>01071     <span class="keywordflow">return</span>(r);
<a name="l01072"></a>01072 
<a name="l01073"></a>01073 } <span class="comment">/* end of cuddAddConstrainRecur */</span>
<a name="l01074"></a>01074 
<a name="l01075"></a>01075 
<a name="l01088"></a>01088 <a class="code" href="structDdNode.html">DdNode</a> *
<a name="l01089"></a><a class="code" href="cuddGenCof_8c.html#560239ea1d3da12ff14b214f0adf17a4">01089</a> <a class="code" href="cuddGenCof_8c.html#560239ea1d3da12ff14b214f0adf17a4">cuddAddRestrictRecur</a>(
<a name="l01090"></a>01090   <a class="code" href="structDdManager.html">DdManager</a> * dd,
<a name="l01091"></a>01091   <a class="code" href="structDdNode.html">DdNode</a> * f,
<a name="l01092"></a>01092   <a class="code" href="structDdNode.html">DdNode</a> * c)
<a name="l01093"></a>01093 {
<a name="l01094"></a>01094     <a class="code" href="structDdNode.html">DdNode</a>       *Fv, *Fnv, *Cv, *Cnv, *t, *e, *r, *<a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>, *<a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>;
<a name="l01095"></a>01095     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> topf, topc;
<a name="l01096"></a>01096     <span class="keywordtype">int</span>          index;
<a name="l01097"></a>01097 
<a name="l01098"></a>01098     <a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a> = <a class="code" href="cuddInt_8h.html#0fc86b7b0c157b7fa3738661d65a22d7">DD_ONE</a>(dd);
<a name="l01099"></a>01099     <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a> = <a class="code" href="cuddInt_8h.html#b78870b54aa3b1ff2eb38b311e5d8a1a">DD_ZERO</a>(dd);
<a name="l01100"></a>01100 
<a name="l01101"></a>01101     <span class="comment">/* Trivial cases */</span>
<a name="l01102"></a>01102     <span class="keywordflow">if</span> (c == <a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>)               <span class="keywordflow">return</span>(f);
<a name="l01103"></a>01103     <span class="keywordflow">if</span> (c == <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>)              <span class="keywordflow">return</span>(<a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>);
<a name="l01104"></a>01104     <span class="keywordflow">if</span> (<a class="code" href="cudd_8h.html#35e63bfe07b09cd6f2508742cc37af38">Cudd_IsConstant</a>(f))     <span class="keywordflow">return</span>(f);
<a name="l01105"></a>01105     <span class="keywordflow">if</span> (f == c)                 <span class="keywordflow">return</span>(<a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>);
<a name="l01106"></a>01106 
<a name="l01107"></a>01107     <span class="comment">/* Now f and c are non-constant. */</span>
<a name="l01108"></a>01108 
<a name="l01109"></a>01109     <span class="comment">/* Check the cache. */</span>
<a name="l01110"></a>01110     r = <a class="code" href="cuddCache_8c.html#2db1ee9c4d273f23a89e8724360e293f">cuddCacheLookup2</a>(dd, <a class="code" href="cuddGenCof_8c.html#4ab16f58da620eb1c2e927426aea22c7">Cudd_addRestrict</a>, f, c);
<a name="l01111"></a>01111     <span class="keywordflow">if</span> (r != NULL) {
<a name="l01112"></a>01112         <span class="keywordflow">return</span>(r);
<a name="l01113"></a>01113     }
<a name="l01114"></a>01114 
<a name="l01115"></a>01115     topf = dd-&gt;<a class="code" href="structDdManager.html#299d281a98c60aeec0e8edf6671a0f51">perm</a>[f-&gt;index];
<a name="l01116"></a>01116     topc = dd-&gt;<a class="code" href="structDdManager.html#299d281a98c60aeec0e8edf6671a0f51">perm</a>[c-&gt;<a class="code" href="structDdNode.html#bbd39b25b9abe4b4d53cd267a4103bda">index</a>];
<a name="l01117"></a>01117 
<a name="l01118"></a>01118     <span class="keywordflow">if</span> (topc &lt; topf) {  <span class="comment">/* abstract top variable from c */</span>
<a name="l01119"></a>01119         <a class="code" href="structDdNode.html">DdNode</a> *d, *s1, *s2;
<a name="l01120"></a>01120 
<a name="l01121"></a>01121         <span class="comment">/* Find cofactors of c. */</span>
<a name="l01122"></a>01122         s1 = <a class="code" href="cuddInt_8h.html#09834c697b92ac296b1e50c863f88262">cuddT</a>(c);
<a name="l01123"></a>01123         s2 = <a class="code" href="cuddInt_8h.html#aef03f10591d8e28bb5fecd2aa7c93ff">cuddE</a>(c);
<a name="l01124"></a>01124         <span class="comment">/* Take the OR by applying DeMorgan. */</span>
<a name="l01125"></a>01125         d = <a class="code" href="cuddAddApply_8c.html#75debf735481509b8ecbe8699bf6ef98">cuddAddApplyRecur</a>(dd, <a class="code" href="cuddAddApply_8c.html#924a761e68f7e19fa2a840bdbb84e898">Cudd_addOr</a>, s1, s2);
<a name="l01126"></a>01126         <span class="keywordflow">if</span> (d == NULL) <span class="keywordflow">return</span>(NULL);
<a name="l01127"></a>01127         <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(d);
<a name="l01128"></a>01128         r = <a class="code" href="cuddGenCof_8c.html#560239ea1d3da12ff14b214f0adf17a4">cuddAddRestrictRecur</a>(dd, f, d);
<a name="l01129"></a>01129         <span class="keywordflow">if</span> (r == NULL) {
<a name="l01130"></a>01130             <a class="code" href="cuddRef_8c.html#0944d022761660bf481167b78759f599">Cudd_RecursiveDeref</a>(dd, d);
<a name="l01131"></a>01131             <span class="keywordflow">return</span>(NULL);
<a name="l01132"></a>01132         }
<a name="l01133"></a>01133         <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(r);
<a name="l01134"></a>01134         <a class="code" href="cuddRef_8c.html#0944d022761660bf481167b78759f599">Cudd_RecursiveDeref</a>(dd, d);
<a name="l01135"></a>01135         <a class="code" href="cuddCache_8c.html#9a0dea7043973f558e0d0bbb473a2163">cuddCacheInsert2</a>(dd, <a class="code" href="cuddGenCof_8c.html#4ab16f58da620eb1c2e927426aea22c7">Cudd_addRestrict</a>, f, c, r);
<a name="l01136"></a>01136         <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(r);
<a name="l01137"></a>01137         <span class="keywordflow">return</span>(r);
<a name="l01138"></a>01138     }
<a name="l01139"></a>01139 
<a name="l01140"></a>01140     <span class="comment">/* Recursive step. Here topf &lt;= topc. */</span>
<a name="l01141"></a>01141     index = f-&gt;index;
<a name="l01142"></a>01142     Fv = <a class="code" href="cuddInt_8h.html#09834c697b92ac296b1e50c863f88262">cuddT</a>(f); Fnv = <a class="code" href="cuddInt_8h.html#aef03f10591d8e28bb5fecd2aa7c93ff">cuddE</a>(f);
<a name="l01143"></a>01143     <span class="keywordflow">if</span> (topc == topf) {
<a name="l01144"></a>01144         Cv = <a class="code" href="cuddInt_8h.html#09834c697b92ac296b1e50c863f88262">cuddT</a>(c); Cnv = <a class="code" href="cuddInt_8h.html#aef03f10591d8e28bb5fecd2aa7c93ff">cuddE</a>(c);
<a name="l01145"></a>01145     } <span class="keywordflow">else</span> {
<a name="l01146"></a>01146         Cv = Cnv = c;
<a name="l01147"></a>01147     }
<a name="l01148"></a>01148 
<a name="l01149"></a>01149     <span class="keywordflow">if</span> (!<a class="code" href="cudd_8h.html#35e63bfe07b09cd6f2508742cc37af38">Cudd_IsConstant</a>(Cv)) {
<a name="l01150"></a>01150         t = <a class="code" href="cuddGenCof_8c.html#560239ea1d3da12ff14b214f0adf17a4">cuddAddRestrictRecur</a>(dd, Fv, Cv);
<a name="l01151"></a>01151         <span class="keywordflow">if</span> (t == NULL) <span class="keywordflow">return</span>(NULL);
<a name="l01152"></a>01152     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Cv == one) {
<a name="l01153"></a>01153         t = Fv;
<a name="l01154"></a>01154     } <span class="keywordflow">else</span> {            <span class="comment">/* Cv == zero: return(Fnv @ Cnv) */</span>
<a name="l01155"></a>01155         <span class="keywordflow">if</span> (Cnv == one) {
<a name="l01156"></a>01156             r = Fnv;
<a name="l01157"></a>01157         } <span class="keywordflow">else</span> {
<a name="l01158"></a>01158             r = <a class="code" href="cuddGenCof_8c.html#560239ea1d3da12ff14b214f0adf17a4">cuddAddRestrictRecur</a>(dd, Fnv, Cnv);
<a name="l01159"></a>01159             <span class="keywordflow">if</span> (r == NULL) <span class="keywordflow">return</span>(NULL);
<a name="l01160"></a>01160         }
<a name="l01161"></a>01161         <span class="keywordflow">return</span>(r);
<a name="l01162"></a>01162     }
<a name="l01163"></a>01163     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(t);
<a name="l01164"></a>01164 
<a name="l01165"></a>01165     <span class="keywordflow">if</span> (!<a class="code" href="cudd_8h.html#35e63bfe07b09cd6f2508742cc37af38">Cudd_IsConstant</a>(Cnv)) {
<a name="l01166"></a>01166         e = <a class="code" href="cuddGenCof_8c.html#560239ea1d3da12ff14b214f0adf17a4">cuddAddRestrictRecur</a>(dd, Fnv, Cnv);
<a name="l01167"></a>01167         <span class="keywordflow">if</span> (e == NULL) {
<a name="l01168"></a>01168             <a class="code" href="cuddRef_8c.html#0944d022761660bf481167b78759f599">Cudd_RecursiveDeref</a>(dd, t);
<a name="l01169"></a>01169             <span class="keywordflow">return</span>(NULL);
<a name="l01170"></a>01170         }
<a name="l01171"></a>01171     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Cnv == one) {
<a name="l01172"></a>01172         e = Fnv;
<a name="l01173"></a>01173     } <span class="keywordflow">else</span> {            <span class="comment">/* Cnv == zero: return (Fv @ Cv) previously computed */</span>
<a name="l01174"></a>01174         <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(t);
<a name="l01175"></a>01175         <span class="keywordflow">return</span>(t);
<a name="l01176"></a>01176     }
<a name="l01177"></a>01177     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(e);
<a name="l01178"></a>01178 
<a name="l01179"></a>01179     r = (t == e) ? t : <a class="code" href="cuddTable_8c.html#767e31fbbfdbddc623396dde86249497">cuddUniqueInter</a>(dd, index, t, e);
<a name="l01180"></a>01180     <span class="keywordflow">if</span> (r == NULL) {
<a name="l01181"></a>01181         <a class="code" href="cuddRef_8c.html#0944d022761660bf481167b78759f599">Cudd_RecursiveDeref</a>(dd, e);
<a name="l01182"></a>01182         <a class="code" href="cuddRef_8c.html#0944d022761660bf481167b78759f599">Cudd_RecursiveDeref</a>(dd, t);
<a name="l01183"></a>01183         <span class="keywordflow">return</span>(NULL);
<a name="l01184"></a>01184     }
<a name="l01185"></a>01185     <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(t);
<a name="l01186"></a>01186     <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(e);
<a name="l01187"></a>01187 
<a name="l01188"></a>01188     <a class="code" href="cuddCache_8c.html#9a0dea7043973f558e0d0bbb473a2163">cuddCacheInsert2</a>(dd, <a class="code" href="cuddGenCof_8c.html#4ab16f58da620eb1c2e927426aea22c7">Cudd_addRestrict</a>, f, c, r);
<a name="l01189"></a>01189     <span class="keywordflow">return</span>(r);
<a name="l01190"></a>01190 
<a name="l01191"></a>01191 } <span class="comment">/* end of cuddAddRestrictRecur */</span>
<a name="l01192"></a>01192 
<a name="l01193"></a>01193 
<a name="l01194"></a>01194 
<a name="l01214"></a>01214 <a class="code" href="structDdNode.html">DdNode</a> *
<a name="l01215"></a><a class="code" href="cuddGenCof_8c.html#6ac4647d91d277c68197d1860239dfbc">01215</a> <a class="code" href="cuddGenCof_8c.html#6ac4647d91d277c68197d1860239dfbc">cuddBddLICompaction</a>(
<a name="l01216"></a>01216   <a class="code" href="structDdManager.html">DdManager</a> * dd <span class="comment">/* manager */</span>,
<a name="l01217"></a>01217   <a class="code" href="structDdNode.html">DdNode</a> * f <span class="comment">/* function to be minimized */</span>,
<a name="l01218"></a>01218   <a class="code" href="structDdNode.html">DdNode</a> * c <span class="comment">/* constraint (care set) */</span>)
<a name="l01219"></a>01219 {
<a name="l01220"></a>01220     <a class="code" href="structst__table.html">st_table</a> *marktable, *markcache, *buildcache;
<a name="l01221"></a>01221     <a class="code" href="structDdNode.html">DdNode</a> *res, *<a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>;
<a name="l01222"></a>01222 
<a name="l01223"></a>01223     <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a> = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(<a class="code" href="cuddInt_8h.html#0fc86b7b0c157b7fa3738661d65a22d7">DD_ONE</a>(dd));
<a name="l01224"></a>01224     <span class="keywordflow">if</span> (c == <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>) <span class="keywordflow">return</span>(<a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>);
<a name="l01225"></a>01225 
<a name="l01226"></a>01226     <span class="comment">/* We need to use local caches for both steps of this operation.</span>
<a name="l01227"></a>01227 <span class="comment">    ** The results of the edge marking step are only valid as long as the</span>
<a name="l01228"></a>01228 <span class="comment">    ** edge markings themselves are available. However, the edge markings</span>
<a name="l01229"></a>01229 <span class="comment">    ** are lost at the end of one invocation of Cudd_bddLICompaction.</span>
<a name="l01230"></a>01230 <span class="comment">    ** Hence, the cache entries for the edge marking step must be</span>
<a name="l01231"></a>01231 <span class="comment">    ** invalidated at the end of this function.</span>
<a name="l01232"></a>01232 <span class="comment">    ** For the result building step we argue as follows. The result for a</span>
<a name="l01233"></a>01233 <span class="comment">    ** node and a given constrain depends on the BDD in which the node</span>
<a name="l01234"></a>01234 <span class="comment">    ** appears. Hence, the same node and constrain may give different results</span>
<a name="l01235"></a>01235 <span class="comment">    ** in successive invocations.</span>
<a name="l01236"></a>01236 <span class="comment">    */</span>
<a name="l01237"></a>01237     marktable = <a class="code" href="st_8c.html#24ffe70dd1bb859ac2f650ccf1ba1eda">st_init_table</a>(<a class="code" href="st_8c.html#52bf6e577a2a87b2cdedb1c3d0e25075">st_ptrcmp</a>,<a class="code" href="st_8c.html#da6e90b4df1ca291977c89a6d4fdea06">st_ptrhash</a>);
<a name="l01238"></a>01238     <span class="keywordflow">if</span> (marktable == NULL) {
<a name="l01239"></a>01239         <span class="keywordflow">return</span>(NULL);
<a name="l01240"></a>01240     }
<a name="l01241"></a>01241     markcache = <a class="code" href="st_8c.html#24ffe70dd1bb859ac2f650ccf1ba1eda">st_init_table</a>(<a class="code" href="cuddGenCof_8c.html#5721a32e1d89799cd08e782e87a64c39">MarkCacheCompare</a>,<a class="code" href="cuddGenCof_8c.html#d3e5cecf15bdf16ccbb6fe67cfcdc995">MarkCacheHash</a>);
<a name="l01242"></a>01242     <span class="keywordflow">if</span> (markcache == NULL) {
<a name="l01243"></a>01243         <a class="code" href="st_8c.html#93394fd99c5fa4fbcce2be9717abee45">st_free_table</a>(marktable);
<a name="l01244"></a>01244         <span class="keywordflow">return</span>(NULL);
<a name="l01245"></a>01245     }
<a name="l01246"></a>01246     <span class="keywordflow">if</span> (<a class="code" href="cuddGenCof_8c.html#6816dc82d29be25bac7eec5068866537">cuddBddLICMarkEdges</a>(dd,f,c,marktable,markcache) == <a class="code" href="cudd_8h.html#ea3f40d6c6354b5b1475537cd2431ab4">CUDD_OUT_OF_MEM</a>) {
<a name="l01247"></a>01247         <a class="code" href="st_8c.html#4d18e5a6949c772c9ff8c3c70ec00b57">st_foreach</a>(markcache, <a class="code" href="cuddGenCof_8c.html#58bfa50bf07c637bdae80489407eb17a">MarkCacheCleanUp</a>, NULL);
<a name="l01248"></a>01248         <a class="code" href="st_8c.html#93394fd99c5fa4fbcce2be9717abee45">st_free_table</a>(marktable);
<a name="l01249"></a>01249         <a class="code" href="st_8c.html#93394fd99c5fa4fbcce2be9717abee45">st_free_table</a>(markcache);
<a name="l01250"></a>01250         <span class="keywordflow">return</span>(NULL);
<a name="l01251"></a>01251     }
<a name="l01252"></a>01252     <a class="code" href="st_8c.html#4d18e5a6949c772c9ff8c3c70ec00b57">st_foreach</a>(markcache, <a class="code" href="cuddGenCof_8c.html#58bfa50bf07c637bdae80489407eb17a">MarkCacheCleanUp</a>, NULL);
<a name="l01253"></a>01253     <a class="code" href="st_8c.html#93394fd99c5fa4fbcce2be9717abee45">st_free_table</a>(markcache);
<a name="l01254"></a>01254     buildcache = <a class="code" href="st_8c.html#24ffe70dd1bb859ac2f650ccf1ba1eda">st_init_table</a>(<a class="code" href="st_8c.html#52bf6e577a2a87b2cdedb1c3d0e25075">st_ptrcmp</a>,<a class="code" href="st_8c.html#da6e90b4df1ca291977c89a6d4fdea06">st_ptrhash</a>);
<a name="l01255"></a>01255     <span class="keywordflow">if</span> (buildcache == NULL) {
<a name="l01256"></a>01256         <a class="code" href="st_8c.html#93394fd99c5fa4fbcce2be9717abee45">st_free_table</a>(marktable);
<a name="l01257"></a>01257         <span class="keywordflow">return</span>(NULL);
<a name="l01258"></a>01258     }
<a name="l01259"></a>01259     res = <a class="code" href="cuddGenCof_8c.html#030d33ea12ccc3211150fb6a56899bd3">cuddBddLICBuildResult</a>(dd,f,buildcache,marktable);
<a name="l01260"></a>01260     <a class="code" href="st_8c.html#93394fd99c5fa4fbcce2be9717abee45">st_free_table</a>(buildcache);
<a name="l01261"></a>01261     <a class="code" href="st_8c.html#93394fd99c5fa4fbcce2be9717abee45">st_free_table</a>(marktable);
<a name="l01262"></a>01262     <span class="keywordflow">return</span>(res);
<a name="l01263"></a>01263 
<a name="l01264"></a>01264 } <span class="comment">/* end of cuddBddLICompaction */</span>
<a name="l01265"></a>01265 
<a name="l01266"></a>01266 
<a name="l01267"></a>01267 <span class="comment">/*---------------------------------------------------------------------------*/</span>
<a name="l01268"></a>01268 <span class="comment">/* Definition of static functions                                            */</span>
<a name="l01269"></a>01269 <span class="comment">/*---------------------------------------------------------------------------*/</span>
<a name="l01270"></a>01270 
<a name="l01271"></a>01271 
<a name="l01284"></a>01284 <span class="keyword">static</span> <span class="keywordtype">int</span>
<a name="l01285"></a><a class="code" href="cuddGenCof_8c.html#5eaea32f6ed375be93c707ce4f5fea3d">01285</a> <a class="code" href="cuddGenCof_8c.html#5eaea32f6ed375be93c707ce4f5fea3d">cuddBddConstrainDecomp</a>(
<a name="l01286"></a>01286   <a class="code" href="structDdManager.html">DdManager</a> * dd,
<a name="l01287"></a>01287   <a class="code" href="structDdNode.html">DdNode</a> * f,
<a name="l01288"></a>01288   <a class="code" href="structDdNode.html">DdNode</a> ** decomp)
<a name="l01289"></a>01289 {
<a name="l01290"></a>01290     <a class="code" href="structDdNode.html">DdNode</a> *F, *fv, *fvn;
<a name="l01291"></a>01291     <a class="code" href="structDdNode.html">DdNode</a> *fAbs;
<a name="l01292"></a>01292     <a class="code" href="structDdNode.html">DdNode</a> *<a class="code" href="cuddGenetic_8c.html#8b2e13c78efca330f06b6ddcd7464b41">result</a>;
<a name="l01293"></a>01293     <span class="keywordtype">int</span> ok;
<a name="l01294"></a>01294 
<a name="l01295"></a>01295     <span class="keywordflow">if</span> (<a class="code" href="cudd_8h.html#35e63bfe07b09cd6f2508742cc37af38">Cudd_IsConstant</a>(f)) <span class="keywordflow">return</span>(1);
<a name="l01296"></a>01296     <span class="comment">/* Compute complements of cofactors. */</span>
<a name="l01297"></a>01297     F = <a class="code" href="cudd_8h.html#fbbecf4f6f78f92518f4d0a477d870b6">Cudd_Regular</a>(f);
<a name="l01298"></a>01298     fv = <a class="code" href="cuddInt_8h.html#09834c697b92ac296b1e50c863f88262">cuddT</a>(F);
<a name="l01299"></a>01299     fvn = <a class="code" href="cuddInt_8h.html#aef03f10591d8e28bb5fecd2aa7c93ff">cuddE</a>(F);
<a name="l01300"></a>01300     <span class="keywordflow">if</span> (F == f) {
<a name="l01301"></a>01301         fv = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(fv);
<a name="l01302"></a>01302         fvn = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(fvn);
<a name="l01303"></a>01303     }
<a name="l01304"></a>01304     <span class="comment">/* Compute abstraction of top variable. */</span>
<a name="l01305"></a>01305     fAbs = <a class="code" href="cuddBddIte_8c.html#1766cd8bf8b2ec57ade0db1a461e352b">cuddBddAndRecur</a>(dd, fv, fvn);
<a name="l01306"></a>01306     <span class="keywordflow">if</span> (fabs == NULL) {
<a name="l01307"></a>01307         <span class="keywordflow">return</span>(0);
<a name="l01308"></a>01308     }
<a name="l01309"></a>01309     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(fAbs);
<a name="l01310"></a>01310     fAbs = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(fAbs);
<a name="l01311"></a>01311     <span class="comment">/* Recursively find the next abstraction and the components of the</span>
<a name="l01312"></a>01312 <span class="comment">    ** decomposition. */</span>
<a name="l01313"></a>01313     ok = <a class="code" href="cuddGenCof_8c.html#5eaea32f6ed375be93c707ce4f5fea3d">cuddBddConstrainDecomp</a>(dd, fAbs, decomp);
<a name="l01314"></a>01314     <span class="keywordflow">if</span> (ok == 0) {
<a name="l01315"></a>01315         <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,fAbs);
<a name="l01316"></a>01316         <span class="keywordflow">return</span>(0);
<a name="l01317"></a>01317     }
<a name="l01318"></a>01318     <span class="comment">/* Compute the component of the decomposition corresponding to the</span>
<a name="l01319"></a>01319 <span class="comment">    ** top variable and store it in the decomposition array. */</span>
<a name="l01320"></a>01320     <a class="code" href="cuddGenetic_8c.html#8b2e13c78efca330f06b6ddcd7464b41">result</a> = <a class="code" href="cuddGenCof_8c.html#6311f1cc598ee0f3681a76baec8c6d53">cuddBddConstrainRecur</a>(dd, f, fAbs);
<a name="l01321"></a>01321     <span class="keywordflow">if</span> (<a class="code" href="cuddGenetic_8c.html#8b2e13c78efca330f06b6ddcd7464b41">result</a> == NULL) {
<a name="l01322"></a>01322         <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,fAbs);
<a name="l01323"></a>01323         <span class="keywordflow">return</span>(0);
<a name="l01324"></a>01324     }
<a name="l01325"></a>01325     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(<a class="code" href="cuddGenetic_8c.html#8b2e13c78efca330f06b6ddcd7464b41">result</a>);
<a name="l01326"></a>01326     decomp[F-&gt;<a class="code" href="structDdNode.html#bbd39b25b9abe4b4d53cd267a4103bda">index</a>] = <a class="code" href="cuddGenetic_8c.html#8b2e13c78efca330f06b6ddcd7464b41">result</a>;
<a name="l01327"></a>01327     <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, fAbs);
<a name="l01328"></a>01328     <span class="keywordflow">return</span>(1);
<a name="l01329"></a>01329 
<a name="l01330"></a>01330 } <span class="comment">/* end of cuddBddConstrainDecomp */</span>
<a name="l01331"></a>01331 
<a name="l01332"></a>01332 
<a name="l01346"></a>01346 <span class="keyword">static</span> <a class="code" href="structDdNode.html">DdNode</a> *
<a name="l01347"></a><a class="code" href="cuddGenCof_8c.html#544d6fe00d57c345745125eb2f426269">01347</a> <a class="code" href="cuddGenCof_8c.html#544d6fe00d57c345745125eb2f426269">cuddBddCharToVect</a>(
<a name="l01348"></a>01348   <a class="code" href="structDdManager.html">DdManager</a> * dd,
<a name="l01349"></a>01349   <a class="code" href="structDdNode.html">DdNode</a> * f,
<a name="l01350"></a>01350   <a class="code" href="structDdNode.html">DdNode</a> * x)
<a name="l01351"></a>01351 {
<a name="l01352"></a>01352     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> topf;
<a name="l01353"></a>01353     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> level;
<a name="l01354"></a>01354     <span class="keywordtype">int</span> comple;
<a name="l01355"></a>01355 
<a name="l01356"></a>01356     <a class="code" href="structDdNode.html">DdNode</a> *<a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>, *<a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>, *res, *F, *fT, *fE, *T, *E;
<a name="l01357"></a>01357 
<a name="l01358"></a>01358     <span class="comment">/* Check the cache. */</span>
<a name="l01359"></a>01359     res = <a class="code" href="cuddCache_8c.html#2db1ee9c4d273f23a89e8724360e293f">cuddCacheLookup2</a>(dd, <a class="code" href="cuddGenCof_8c.html#544d6fe00d57c345745125eb2f426269">cuddBddCharToVect</a>, f, x);
<a name="l01360"></a>01360     <span class="keywordflow">if</span> (res != NULL) {
<a name="l01361"></a>01361         <span class="keywordflow">return</span>(res);
<a name="l01362"></a>01362     }
<a name="l01363"></a>01363 
<a name="l01364"></a>01364     F = <a class="code" href="cudd_8h.html#fbbecf4f6f78f92518f4d0a477d870b6">Cudd_Regular</a>(f);
<a name="l01365"></a>01365 
<a name="l01366"></a>01366     topf = <a class="code" href="cuddInt_8h.html#a7299d1217a57571ef88e9ac90530978">cuddI</a>(dd,F-&gt;<a class="code" href="structDdNode.html#bbd39b25b9abe4b4d53cd267a4103bda">index</a>);
<a name="l01367"></a>01367     level = dd-&gt;<a class="code" href="structDdManager.html#299d281a98c60aeec0e8edf6671a0f51">perm</a>[x-&gt;<a class="code" href="structDdNode.html#bbd39b25b9abe4b4d53cd267a4103bda">index</a>];
<a name="l01368"></a>01368 
<a name="l01369"></a>01369     <span class="keywordflow">if</span> (topf &gt; level) <span class="keywordflow">return</span>(x);
<a name="l01370"></a>01370 
<a name="l01371"></a>01371     <a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a> = <a class="code" href="cuddInt_8h.html#0fc86b7b0c157b7fa3738661d65a22d7">DD_ONE</a>(dd);
<a name="l01372"></a>01372     <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a> = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(<a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>);
<a name="l01373"></a>01373 
<a name="l01374"></a>01374     comple = F != f;
<a name="l01375"></a>01375     fT = <a class="code" href="cudd_8h.html#e870da95e89a703e939161fe08b899f9">Cudd_NotCond</a>(<a class="code" href="cuddInt_8h.html#09834c697b92ac296b1e50c863f88262">cuddT</a>(F),comple);
<a name="l01376"></a>01376     fE = <a class="code" href="cudd_8h.html#e870da95e89a703e939161fe08b899f9">Cudd_NotCond</a>(<a class="code" href="cuddInt_8h.html#aef03f10591d8e28bb5fecd2aa7c93ff">cuddE</a>(F),comple);
<a name="l01377"></a>01377 
<a name="l01378"></a>01378     <span class="keywordflow">if</span> (topf == level) {
<a name="l01379"></a>01379         <span class="keywordflow">if</span> (fT == <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>) <span class="keywordflow">return</span>(<a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>);
<a name="l01380"></a>01380         <span class="keywordflow">if</span> (fE == zero) <span class="keywordflow">return</span>(<a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>);
<a name="l01381"></a>01381         <span class="keywordflow">return</span>(x);
<a name="l01382"></a>01382     }
<a name="l01383"></a>01383 
<a name="l01384"></a>01384     <span class="comment">/* Here topf &lt; level. */</span>
<a name="l01385"></a>01385     <span class="keywordflow">if</span> (fT == <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>) <span class="keywordflow">return</span>(<a class="code" href="cuddGenCof_8c.html#544d6fe00d57c345745125eb2f426269">cuddBddCharToVect</a>(dd, fE, x));
<a name="l01386"></a>01386     <span class="keywordflow">if</span> (fE == <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>) <span class="keywordflow">return</span>(<a class="code" href="cuddGenCof_8c.html#544d6fe00d57c345745125eb2f426269">cuddBddCharToVect</a>(dd, fT, x));
<a name="l01387"></a>01387 
<a name="l01388"></a>01388     T = <a class="code" href="cuddGenCof_8c.html#544d6fe00d57c345745125eb2f426269">cuddBddCharToVect</a>(dd, fT, x);
<a name="l01389"></a>01389     <span class="keywordflow">if</span> (T == NULL) {
<a name="l01390"></a>01390         <span class="keywordflow">return</span>(NULL);
<a name="l01391"></a>01391     }
<a name="l01392"></a>01392     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(T);
<a name="l01393"></a>01393     E = <a class="code" href="cuddGenCof_8c.html#544d6fe00d57c345745125eb2f426269">cuddBddCharToVect</a>(dd, fE, x);
<a name="l01394"></a>01394     <span class="keywordflow">if</span> (E == NULL) {
<a name="l01395"></a>01395         <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,T);
<a name="l01396"></a>01396         <span class="keywordflow">return</span>(NULL);
<a name="l01397"></a>01397     }
<a name="l01398"></a>01398     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(E);
<a name="l01399"></a>01399     res = <a class="code" href="cuddBddIte_8c.html#6d52cd44b8033b3be8f23d21c46cd425">cuddBddIteRecur</a>(dd, dd-&gt;vars[F-&gt;<a class="code" href="structDdNode.html#bbd39b25b9abe4b4d53cd267a4103bda">index</a>], T, E);
<a name="l01400"></a>01400     <span class="keywordflow">if</span> (res == NULL) {
<a name="l01401"></a>01401         <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,T);
<a name="l01402"></a>01402         <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,E);
<a name="l01403"></a>01403         <span class="keywordflow">return</span>(NULL);
<a name="l01404"></a>01404     }
<a name="l01405"></a>01405     <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(T);
<a name="l01406"></a>01406     <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(E);
<a name="l01407"></a>01407     <a class="code" href="cuddCache_8c.html#9a0dea7043973f558e0d0bbb473a2163">cuddCacheInsert2</a>(dd, <a class="code" href="cuddGenCof_8c.html#544d6fe00d57c345745125eb2f426269">cuddBddCharToVect</a>, f, x, res);
<a name="l01408"></a>01408     <span class="keywordflow">return</span>(res);
<a name="l01409"></a>01409 
<a name="l01410"></a>01410 } <span class="comment">/* end of cuddBddCharToVect */</span>
<a name="l01411"></a>01411 
<a name="l01412"></a>01412 
<a name="l01426"></a>01426 <span class="keyword">static</span> <span class="keywordtype">int</span>
<a name="l01427"></a><a class="code" href="cuddGenCof_8c.html#6816dc82d29be25bac7eec5068866537">01427</a> <a class="code" href="cuddGenCof_8c.html#6816dc82d29be25bac7eec5068866537">cuddBddLICMarkEdges</a>(
<a name="l01428"></a>01428   <a class="code" href="structDdManager.html">DdManager</a> * dd,
<a name="l01429"></a>01429   <a class="code" href="structDdNode.html">DdNode</a> * f,
<a name="l01430"></a>01430   <a class="code" href="structDdNode.html">DdNode</a> * c,
<a name="l01431"></a>01431   <a class="code" href="structst__table.html">st_table</a> * table,
<a name="l01432"></a>01432   <a class="code" href="structst__table.html">st_table</a> * cache)
<a name="l01433"></a>01433 {
<a name="l01434"></a>01434     <a class="code" href="structDdNode.html">DdNode</a> *Fv, *Fnv, *Cv, *Cnv;
<a name="l01435"></a>01435     <a class="code" href="structDdNode.html">DdNode</a> *<a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>, *<a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>;
<a name="l01436"></a>01436     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> topf, topc;
<a name="l01437"></a>01437     <span class="keywordtype">int</span> index;
<a name="l01438"></a>01438     <span class="keywordtype">int</span> comple;
<a name="l01439"></a>01439     <span class="keywordtype">int</span> resT, resE, res, retval;
<a name="l01440"></a>01440     <span class="keywordtype">char</span> **slot;
<a name="l01441"></a>01441     <a class="code" href="structMarkCacheKey.html">MarkCacheKey</a> *key;
<a name="l01442"></a>01442 
<a name="l01443"></a>01443     <a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a> = <a class="code" href="cuddInt_8h.html#0fc86b7b0c157b7fa3738661d65a22d7">DD_ONE</a>(dd);
<a name="l01444"></a>01444     <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a> = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(<a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>);
<a name="l01445"></a>01445 
<a name="l01446"></a>01446     <span class="comment">/* Terminal cases. */</span>
<a name="l01447"></a>01447     <span class="keywordflow">if</span> (c == <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>) <span class="keywordflow">return</span>(<a class="code" href="cuddGenCof_8c.html#58e6e08b6d6eecaa27751fe9daa7572f">DD_LIC_DC</a>);
<a name="l01448"></a>01448     <span class="keywordflow">if</span> (f == <a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>)  <span class="keywordflow">return</span>(<a class="code" href="cuddGenCof_8c.html#38013a854f3a3668b3884fa41ce4bb97">DD_LIC_1</a>);
<a name="l01449"></a>01449     <span class="keywordflow">if</span> (f == <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>) <span class="keywordflow">return</span>(<a class="code" href="cuddGenCof_8c.html#47f751f28a0a4c6bcbf8a7a0b00d7c5c">DD_LIC_0</a>);
<a name="l01450"></a>01450 
<a name="l01451"></a>01451     <span class="comment">/* Make canonical to increase the utilization of the cache. */</span>
<a name="l01452"></a>01452     comple = <a class="code" href="cudd_8h.html#35322518c24f65f44eda9623083cb62c">Cudd_IsComplement</a>(f);
<a name="l01453"></a>01453     f = <a class="code" href="cudd_8h.html#fbbecf4f6f78f92518f4d0a477d870b6">Cudd_Regular</a>(f);
<a name="l01454"></a>01454     <span class="comment">/* Now f is a regular pointer to a non-constant node; c may be</span>
<a name="l01455"></a>01455 <span class="comment">    ** constant, or it may be complemented.</span>
<a name="l01456"></a>01456 <span class="comment">    */</span>
<a name="l01457"></a>01457 
<a name="l01458"></a>01458     <span class="comment">/* Check the cache. */</span>
<a name="l01459"></a>01459     key = <a class="code" href="util_8h.html#21755cdb11c76954a33c653579810f3a">ALLOC</a>(<a class="code" href="structMarkCacheKey.html">MarkCacheKey</a>, 1);
<a name="l01460"></a>01460     <span class="keywordflow">if</span> (key == NULL) {
<a name="l01461"></a>01461         dd-&gt;<a class="code" href="structDdManager.html#e0690f123fc2c3f0ca9a1cfd18923a37">errorCode</a> = <a class="code" href="cudd_8h.html#27114b4342bc1b987f35d751eae2444b0db98cf2462f40577e6c83a60b095111">CUDD_MEMORY_OUT</a>;
<a name="l01462"></a>01462         <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#ea3f40d6c6354b5b1475537cd2431ab4">CUDD_OUT_OF_MEM</a>);
<a name="l01463"></a>01463     }
<a name="l01464"></a>01464     key-&gt;<a class="code" href="structMarkCacheKey.html#8c719eb87ecb7f0b2f8ada1a375de814">f</a> = f; key-&gt;<a class="code" href="structMarkCacheKey.html#06bf4f869966be347c5ac10292004cff">c</a> = c;
<a name="l01465"></a>01465     <span class="keywordflow">if</span> (<a class="code" href="st_8c.html#557d860b11aff620a96b6addcf836d81">st_lookup</a>(cache, (<span class="keywordtype">char</span> *)key, (<span class="keywordtype">char</span> **)&amp;res)) {
<a name="l01466"></a>01466         <a class="code" href="util_8h.html#a279a8302d25fa9dfeb3e00161aee784">FREE</a>(key);
<a name="l01467"></a>01467         <span class="keywordflow">if</span> (comple) {
<a name="l01468"></a>01468             <span class="keywordflow">if</span> (res == DD_LIC_0) res = DD_LIC_1;
<a name="l01469"></a>01469             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res == DD_LIC_1) res = DD_LIC_0;
<a name="l01470"></a>01470         }
<a name="l01471"></a>01471         <span class="keywordflow">return</span>(res);
<a name="l01472"></a>01472     }
<a name="l01473"></a>01473 
<a name="l01474"></a>01474     <span class="comment">/* Recursive step. */</span>
<a name="l01475"></a>01475     topf = dd-&gt;<a class="code" href="structDdManager.html#299d281a98c60aeec0e8edf6671a0f51">perm</a>[f-&gt;<a class="code" href="structDdNode.html#bbd39b25b9abe4b4d53cd267a4103bda">index</a>];
<a name="l01476"></a>01476     topc = <a class="code" href="cuddInt_8h.html#a7299d1217a57571ef88e9ac90530978">cuddI</a>(dd,<a class="code" href="cudd_8h.html#fbbecf4f6f78f92518f4d0a477d870b6">Cudd_Regular</a>(c)-&gt;index);
<a name="l01477"></a>01477     <span class="keywordflow">if</span> (topf &lt;= topc) {
<a name="l01478"></a>01478         index = f-&gt;<a class="code" href="structDdNode.html#bbd39b25b9abe4b4d53cd267a4103bda">index</a>;
<a name="l01479"></a>01479         Fv = <a class="code" href="cuddInt_8h.html#09834c697b92ac296b1e50c863f88262">cuddT</a>(f); Fnv = <a class="code" href="cuddInt_8h.html#aef03f10591d8e28bb5fecd2aa7c93ff">cuddE</a>(f);
<a name="l01480"></a>01480     } <span class="keywordflow">else</span> {
<a name="l01481"></a>01481         index = <a class="code" href="cudd_8h.html#fbbecf4f6f78f92518f4d0a477d870b6">Cudd_Regular</a>(c)-&gt;index;
<a name="l01482"></a>01482         Fv = Fnv = f;
<a name="l01483"></a>01483     }
<a name="l01484"></a>01484     <span class="keywordflow">if</span> (topc &lt;= topf) {
<a name="l01485"></a>01485         <span class="comment">/* We know that c is not constant because f is not. */</span>
<a name="l01486"></a>01486         Cv = <a class="code" href="cuddInt_8h.html#09834c697b92ac296b1e50c863f88262">cuddT</a>(<a class="code" href="cudd_8h.html#fbbecf4f6f78f92518f4d0a477d870b6">Cudd_Regular</a>(c)); Cnv = <a class="code" href="cuddInt_8h.html#aef03f10591d8e28bb5fecd2aa7c93ff">cuddE</a>(<a class="code" href="cudd_8h.html#fbbecf4f6f78f92518f4d0a477d870b6">Cudd_Regular</a>(c));
<a name="l01487"></a>01487         <span class="keywordflow">if</span> (<a class="code" href="cudd_8h.html#35322518c24f65f44eda9623083cb62c">Cudd_IsComplement</a>(c)) {
<a name="l01488"></a>01488             Cv = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(Cv);
<a name="l01489"></a>01489             Cnv = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(Cnv);
<a name="l01490"></a>01490         }
<a name="l01491"></a>01491     } <span class="keywordflow">else</span> {
<a name="l01492"></a>01492         Cv = Cnv = c;
<a name="l01493"></a>01493     }
<a name="l01494"></a>01494 
<a name="l01495"></a>01495     resT = <a class="code" href="cuddGenCof_8c.html#6816dc82d29be25bac7eec5068866537">cuddBddLICMarkEdges</a>(dd, Fv, Cv, table, cache);
<a name="l01496"></a>01496     <span class="keywordflow">if</span> (resT == <a class="code" href="cudd_8h.html#ea3f40d6c6354b5b1475537cd2431ab4">CUDD_OUT_OF_MEM</a>) {
<a name="l01497"></a>01497         <a class="code" href="util_8h.html#a279a8302d25fa9dfeb3e00161aee784">FREE</a>(key);
<a name="l01498"></a>01498         <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#ea3f40d6c6354b5b1475537cd2431ab4">CUDD_OUT_OF_MEM</a>);
<a name="l01499"></a>01499     }
<a name="l01500"></a>01500     resE = <a class="code" href="cuddGenCof_8c.html#6816dc82d29be25bac7eec5068866537">cuddBddLICMarkEdges</a>(dd, Fnv, Cnv, table, cache);
<a name="l01501"></a>01501     <span class="keywordflow">if</span> (resE == <a class="code" href="cudd_8h.html#ea3f40d6c6354b5b1475537cd2431ab4">CUDD_OUT_OF_MEM</a>) {
<a name="l01502"></a>01502         <a class="code" href="util_8h.html#a279a8302d25fa9dfeb3e00161aee784">FREE</a>(key);
<a name="l01503"></a>01503         <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#ea3f40d6c6354b5b1475537cd2431ab4">CUDD_OUT_OF_MEM</a>);
<a name="l01504"></a>01504     }
<a name="l01505"></a>01505 
<a name="l01506"></a>01506     <span class="comment">/* Update edge markings. */</span>
<a name="l01507"></a>01507     <span class="keywordflow">if</span> (topf &lt;= topc) {
<a name="l01508"></a>01508         retval = <a class="code" href="st_8c.html#44ecb97d7f538951538c6f1ede4f60a6">st_find_or_add</a>(table, (<span class="keywordtype">char</span> *)f, (<span class="keywordtype">char</span> ***)&amp;slot);
<a name="l01509"></a>01509         <span class="keywordflow">if</span> (retval == 0) {
<a name="l01510"></a>01510             *slot = (<span class="keywordtype">char</span> *) (<a class="code" href="cuddInt_8h.html#2c0c93b872fda3900c6a55f17d6b6640">ptrint</a>)((resT &lt;&lt; 2) | resE);
<a name="l01511"></a>01511         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (retval == 1) {
<a name="l01512"></a>01512             *slot = (<span class="keywordtype">char</span> *) (<a class="code" href="cuddInt_8h.html#2c0c93b872fda3900c6a55f17d6b6640">ptrint</a>)((int)((<a class="code" href="cuddInt_8h.html#2c0c93b872fda3900c6a55f17d6b6640">ptrint</a>) *slot) | (resT &lt;&lt; 2) | resE);
<a name="l01513"></a>01513         } <span class="keywordflow">else</span> {
<a name="l01514"></a>01514             <a class="code" href="util_8h.html#a279a8302d25fa9dfeb3e00161aee784">FREE</a>(key);
<a name="l01515"></a>01515             <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#ea3f40d6c6354b5b1475537cd2431ab4">CUDD_OUT_OF_MEM</a>);
<a name="l01516"></a>01516         }
<a name="l01517"></a>01517     }
<a name="l01518"></a>01518 
<a name="l01519"></a>01519     <span class="comment">/* Cache result. */</span>
<a name="l01520"></a>01520     res = resT | resE;
<a name="l01521"></a>01521     <span class="keywordflow">if</span> (<a class="code" href="st_8c.html#f49cc6904c1ca19f009c4523f61d8591">st_insert</a>(cache, (<span class="keywordtype">char</span> *)key, (<span class="keywordtype">char</span> *)(<a class="code" href="cuddInt_8h.html#2c0c93b872fda3900c6a55f17d6b6640">ptrint</a>)res) == <a class="code" href="st_8h.html#1276d6ae80c20ae2ec082db7c502ef75">ST_OUT_OF_MEM</a>) {
<a name="l01522"></a>01522         <a class="code" href="util_8h.html#a279a8302d25fa9dfeb3e00161aee784">FREE</a>(key);
<a name="l01523"></a>01523         <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#ea3f40d6c6354b5b1475537cd2431ab4">CUDD_OUT_OF_MEM</a>);
<a name="l01524"></a>01524     }
<a name="l01525"></a>01525 
<a name="l01526"></a>01526     <span class="comment">/* Take into account possible complementation. */</span>
<a name="l01527"></a>01527     <span class="keywordflow">if</span> (comple) {
<a name="l01528"></a>01528         <span class="keywordflow">if</span> (res == DD_LIC_0) res = DD_LIC_1;
<a name="l01529"></a>01529         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res == DD_LIC_1) res = DD_LIC_0;
<a name="l01530"></a>01530     }
<a name="l01531"></a>01531     <span class="keywordflow">return</span>(res);
<a name="l01532"></a>01532 
<a name="l01533"></a>01533 } <span class="comment">/* end of cuddBddLICMarkEdges */</span>
<a name="l01534"></a>01534 
<a name="l01535"></a>01535 
<a name="l01548"></a>01548 <span class="keyword">static</span> <a class="code" href="structDdNode.html">DdNode</a> *
<a name="l01549"></a><a class="code" href="cuddGenCof_8c.html#030d33ea12ccc3211150fb6a56899bd3">01549</a> <a class="code" href="cuddGenCof_8c.html#030d33ea12ccc3211150fb6a56899bd3">cuddBddLICBuildResult</a>(
<a name="l01550"></a>01550   <a class="code" href="structDdManager.html">DdManager</a> * dd,
<a name="l01551"></a>01551   <a class="code" href="structDdNode.html">DdNode</a> * f,
<a name="l01552"></a>01552   <a class="code" href="structst__table.html">st_table</a> * cache,
<a name="l01553"></a>01553   <a class="code" href="structst__table.html">st_table</a> * table)
<a name="l01554"></a>01554 {
<a name="l01555"></a>01555     <a class="code" href="structDdNode.html">DdNode</a> *Fv, *Fnv, *r, *t, *e;
<a name="l01556"></a>01556     <a class="code" href="structDdNode.html">DdNode</a> *<a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>, *<a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>;
<a name="l01557"></a>01557     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> topf;
<a name="l01558"></a>01558     <span class="keywordtype">int</span> index;
<a name="l01559"></a>01559     <span class="keywordtype">int</span> comple;
<a name="l01560"></a>01560     <span class="keywordtype">int</span> markT, markE, markings;
<a name="l01561"></a>01561 
<a name="l01562"></a>01562     <a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a> = <a class="code" href="cuddInt_8h.html#0fc86b7b0c157b7fa3738661d65a22d7">DD_ONE</a>(dd);
<a name="l01563"></a>01563     <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a> = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(<a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>);
<a name="l01564"></a>01564 
<a name="l01565"></a>01565     <span class="keywordflow">if</span> (<a class="code" href="cudd_8h.html#35e63bfe07b09cd6f2508742cc37af38">Cudd_IsConstant</a>(f)) <span class="keywordflow">return</span>(f);
<a name="l01566"></a>01566     <span class="comment">/* Make canonical to increase the utilization of the cache. */</span>
<a name="l01567"></a>01567     comple = <a class="code" href="cudd_8h.html#35322518c24f65f44eda9623083cb62c">Cudd_IsComplement</a>(f);
<a name="l01568"></a>01568     f = <a class="code" href="cudd_8h.html#fbbecf4f6f78f92518f4d0a477d870b6">Cudd_Regular</a>(f);
<a name="l01569"></a>01569 
<a name="l01570"></a>01570     <span class="comment">/* Check the cache. */</span>
<a name="l01571"></a>01571     <span class="keywordflow">if</span> (<a class="code" href="st_8c.html#557d860b11aff620a96b6addcf836d81">st_lookup</a>(cache, (<span class="keywordtype">char</span> *)f, (<span class="keywordtype">char</span> **)&amp;r)) {
<a name="l01572"></a>01572         <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#e870da95e89a703e939161fe08b899f9">Cudd_NotCond</a>(r,comple));
<a name="l01573"></a>01573     }
<a name="l01574"></a>01574 
<a name="l01575"></a>01575     <span class="comment">/* Retrieve the edge markings. */</span>
<a name="l01576"></a>01576     <span class="keywordflow">if</span> (<a class="code" href="st_8c.html#557d860b11aff620a96b6addcf836d81">st_lookup</a>(table, (<span class="keywordtype">char</span> *)f, (<span class="keywordtype">char</span> **)&amp;markings) == 0)
<a name="l01577"></a>01577         <span class="keywordflow">return</span>(NULL);
<a name="l01578"></a>01578     markT = markings &gt;&gt; 2;
<a name="l01579"></a>01579     markE = markings &amp; 3;
<a name="l01580"></a>01580 
<a name="l01581"></a>01581     topf = dd-&gt;<a class="code" href="structDdManager.html#299d281a98c60aeec0e8edf6671a0f51">perm</a>[f-&gt;index];
<a name="l01582"></a>01582     index = f-&gt;index;
<a name="l01583"></a>01583     Fv = <a class="code" href="cuddInt_8h.html#09834c697b92ac296b1e50c863f88262">cuddT</a>(f); Fnv = <a class="code" href="cuddInt_8h.html#aef03f10591d8e28bb5fecd2aa7c93ff">cuddE</a>(f);
<a name="l01584"></a>01584 
<a name="l01585"></a>01585     <span class="keywordflow">if</span> (markT == <a class="code" href="cuddGenCof_8c.html#9dff231f69b4be9b27fc2eddde0c4fa6">DD_LIC_NL</a>) {
<a name="l01586"></a>01586         t = <a class="code" href="cuddGenCof_8c.html#030d33ea12ccc3211150fb6a56899bd3">cuddBddLICBuildResult</a>(dd,Fv,cache,table);
<a name="l01587"></a>01587         <span class="keywordflow">if</span> (t == NULL) {
<a name="l01588"></a>01588             <span class="keywordflow">return</span>(NULL);
<a name="l01589"></a>01589         }
<a name="l01590"></a>01590     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (markT == <a class="code" href="cuddGenCof_8c.html#38013a854f3a3668b3884fa41ce4bb97">DD_LIC_1</a>) {
<a name="l01591"></a>01591         t = <a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>;
<a name="l01592"></a>01592     } <span class="keywordflow">else</span> {
<a name="l01593"></a>01593         t = <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>;
<a name="l01594"></a>01594     }
<a name="l01595"></a>01595     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(t);
<a name="l01596"></a>01596     <span class="keywordflow">if</span> (markE == <a class="code" href="cuddGenCof_8c.html#9dff231f69b4be9b27fc2eddde0c4fa6">DD_LIC_NL</a>) {
<a name="l01597"></a>01597         e = <a class="code" href="cuddGenCof_8c.html#030d33ea12ccc3211150fb6a56899bd3">cuddBddLICBuildResult</a>(dd,Fnv,cache,table);
<a name="l01598"></a>01598         <span class="keywordflow">if</span> (e == NULL) {
<a name="l01599"></a>01599             <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,t);
<a name="l01600"></a>01600             <span class="keywordflow">return</span>(NULL);
<a name="l01601"></a>01601         }
<a name="l01602"></a>01602     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (markE == <a class="code" href="cuddGenCof_8c.html#38013a854f3a3668b3884fa41ce4bb97">DD_LIC_1</a>) {
<a name="l01603"></a>01603         e = <a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>;
<a name="l01604"></a>01604     } <span class="keywordflow">else</span> {
<a name="l01605"></a>01605         e = <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>;
<a name="l01606"></a>01606     }
<a name="l01607"></a>01607     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(e);
<a name="l01608"></a>01608 
<a name="l01609"></a>01609     <span class="keywordflow">if</span> (markT == <a class="code" href="cuddGenCof_8c.html#58e6e08b6d6eecaa27751fe9daa7572f">DD_LIC_DC</a> &amp;&amp; markE != <a class="code" href="cuddGenCof_8c.html#58e6e08b6d6eecaa27751fe9daa7572f">DD_LIC_DC</a>) {
<a name="l01610"></a>01610         r = e;
<a name="l01611"></a>01611     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (markT != <a class="code" href="cuddGenCof_8c.html#58e6e08b6d6eecaa27751fe9daa7572f">DD_LIC_DC</a> &amp;&amp; markE == <a class="code" href="cuddGenCof_8c.html#58e6e08b6d6eecaa27751fe9daa7572f">DD_LIC_DC</a>) {
<a name="l01612"></a>01612         r = t;
<a name="l01613"></a>01613     } <span class="keywordflow">else</span> {
<a name="l01614"></a>01614         <span class="keywordflow">if</span> (<a class="code" href="cudd_8h.html#35322518c24f65f44eda9623083cb62c">Cudd_IsComplement</a>(t)) {
<a name="l01615"></a>01615             t = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(t);
<a name="l01616"></a>01616             e = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(e);
<a name="l01617"></a>01617             r = (t == e) ? t : <a class="code" href="cuddTable_8c.html#767e31fbbfdbddc623396dde86249497">cuddUniqueInter</a>(dd, index, t, e);
<a name="l01618"></a>01618             <span class="keywordflow">if</span> (r == NULL) {
<a name="l01619"></a>01619                 <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, e);
<a name="l01620"></a>01620                 <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, t);
<a name="l01621"></a>01621                 <span class="keywordflow">return</span>(NULL);
<a name="l01622"></a>01622             }
<a name="l01623"></a>01623             r = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(r);
<a name="l01624"></a>01624         } <span class="keywordflow">else</span> {
<a name="l01625"></a>01625             r = (t == e) ? t : <a class="code" href="cuddTable_8c.html#767e31fbbfdbddc623396dde86249497">cuddUniqueInter</a>(dd, index, t, e);
<a name="l01626"></a>01626             <span class="keywordflow">if</span> (r == NULL) {
<a name="l01627"></a>01627                 <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, e);
<a name="l01628"></a>01628                 <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, t);
<a name="l01629"></a>01629                 <span class="keywordflow">return</span>(NULL);
<a name="l01630"></a>01630             }
<a name="l01631"></a>01631         }
<a name="l01632"></a>01632     }
<a name="l01633"></a>01633     <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(t);
<a name="l01634"></a>01634     <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(e);
<a name="l01635"></a>01635 
<a name="l01636"></a>01636     <span class="keywordflow">if</span> (<a class="code" href="st_8c.html#f49cc6904c1ca19f009c4523f61d8591">st_insert</a>(cache, (<span class="keywordtype">char</span> *)f, (<span class="keywordtype">char</span> *)r) == <a class="code" href="st_8h.html#1276d6ae80c20ae2ec082db7c502ef75">ST_OUT_OF_MEM</a>) {
<a name="l01637"></a>01637         <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(r);
<a name="l01638"></a>01638         <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,r);
<a name="l01639"></a>01639         <span class="keywordflow">return</span>(NULL);
<a name="l01640"></a>01640     }
<a name="l01641"></a>01641 
<a name="l01642"></a>01642     <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#e870da95e89a703e939161fe08b899f9">Cudd_NotCond</a>(r,comple));
<a name="l01643"></a>01643 
<a name="l01644"></a>01644 } <span class="comment">/* end of cuddBddLICBuildResult */</span>
<a name="l01645"></a>01645 
<a name="l01646"></a>01646 
<a name="l01659"></a>01659 <span class="keyword">static</span> <span class="keywordtype">int</span>
<a name="l01660"></a><a class="code" href="cuddGenCof_8c.html#d3e5cecf15bdf16ccbb6fe67cfcdc995">01660</a> <a class="code" href="cuddGenCof_8c.html#d3e5cecf15bdf16ccbb6fe67cfcdc995">MarkCacheHash</a>(
<a name="l01661"></a>01661   <span class="keywordtype">char</span> * ptr,
<a name="l01662"></a>01662   <span class="keywordtype">int</span>  modulus)
<a name="l01663"></a>01663 {
<a name="l01664"></a>01664     <span class="keywordtype">int</span> val = 0;
<a name="l01665"></a>01665     <a class="code" href="structMarkCacheKey.html">MarkCacheKey</a> *<a class="code" href="cuddGroup_8c.html#ef8c63519ad43f7d8c5f40f8807b886e">entry</a>;
<a name="l01666"></a>01666 
<a name="l01667"></a>01667     <a class="code" href="cuddGroup_8c.html#ef8c63519ad43f7d8c5f40f8807b886e">entry</a> = (<a class="code" href="structMarkCacheKey.html">MarkCacheKey</a> *) ptr;
<a name="l01668"></a>01668 
<a name="l01669"></a>01669     val = (int) (<a class="code" href="cuddInt_8h.html#2c0c93b872fda3900c6a55f17d6b6640">ptrint</a>) <a class="code" href="cuddGroup_8c.html#ef8c63519ad43f7d8c5f40f8807b886e">entry</a>-&gt;f;
<a name="l01670"></a>01670     val = val * 997 + (int) (<a class="code" href="cuddInt_8h.html#2c0c93b872fda3900c6a55f17d6b6640">ptrint</a>) <a class="code" href="cuddGroup_8c.html#ef8c63519ad43f7d8c5f40f8807b886e">entry</a>-&gt;c;
<a name="l01671"></a>01671 
<a name="l01672"></a>01672     <span class="keywordflow">return</span> ((val &lt; 0) ? -val : val) % modulus;
<a name="l01673"></a>01673 
<a name="l01674"></a>01674 } <span class="comment">/* end of MarkCacheHash */</span>
<a name="l01675"></a>01675 
<a name="l01676"></a>01676 
<a name="l01691"></a>01691 <span class="keyword">static</span> <span class="keywordtype">int</span>
<a name="l01692"></a><a class="code" href="cuddGenCof_8c.html#5721a32e1d89799cd08e782e87a64c39">01692</a> <a class="code" href="cuddGenCof_8c.html#5721a32e1d89799cd08e782e87a64c39">MarkCacheCompare</a>(
<a name="l01693"></a>01693   <span class="keyword">const</span> <span class="keywordtype">char</span> * ptr1,
<a name="l01694"></a>01694   <span class="keyword">const</span> <span class="keywordtype">char</span> * ptr2)
<a name="l01695"></a>01695 {
<a name="l01696"></a>01696     <a class="code" href="structMarkCacheKey.html">MarkCacheKey</a> *entry1, *entry2;
<a name="l01697"></a>01697 
<a name="l01698"></a>01698     entry1 = (<a class="code" href="structMarkCacheKey.html">MarkCacheKey</a> *) ptr1;
<a name="l01699"></a>01699     entry2 = (<a class="code" href="structMarkCacheKey.html">MarkCacheKey</a> *) ptr2;
<a name="l01700"></a>01700     
<a name="l01701"></a>01701     <span class="keywordflow">return</span>((entry1-&gt;<a class="code" href="structMarkCacheKey.html#8c719eb87ecb7f0b2f8ada1a375de814">f</a> != entry2-&gt;<a class="code" href="structMarkCacheKey.html#8c719eb87ecb7f0b2f8ada1a375de814">f</a>) || (entry1-&gt;<a class="code" href="structMarkCacheKey.html#06bf4f869966be347c5ac10292004cff">c</a> != entry2-&gt;<a class="code" href="structMarkCacheKey.html#06bf4f869966be347c5ac10292004cff">c</a>));
<a name="l01702"></a>01702 
<a name="l01703"></a>01703 } <span class="comment">/* end of MarkCacheCompare */</span>
<a name="l01704"></a>01704 
<a name="l01705"></a>01705 
<a name="l01706"></a>01706 
<a name="l01720"></a>01720 <span class="keyword">static</span> <span class="keyword">enum</span> <a class="code" href="st_8h.html#0c6a172fd99de7928916e65034ed8b1f">st_retval</a>
<a name="l01721"></a><a class="code" href="cuddGenCof_8c.html#58bfa50bf07c637bdae80489407eb17a">01721</a> <a class="code" href="cuddGenCof_8c.html#58bfa50bf07c637bdae80489407eb17a">MarkCacheCleanUp</a>(
<a name="l01722"></a>01722   <span class="keywordtype">char</span> * key,
<a name="l01723"></a>01723   <span class="keywordtype">char</span> * value,
<a name="l01724"></a>01724   <span class="keywordtype">char</span> * arg)
<a name="l01725"></a>01725 {
<a name="l01726"></a>01726     <a class="code" href="structMarkCacheKey.html">MarkCacheKey</a> *<a class="code" href="cuddGroup_8c.html#ef8c63519ad43f7d8c5f40f8807b886e">entry</a>;
<a name="l01727"></a>01727 
<a name="l01728"></a>01728     <a class="code" href="cuddGroup_8c.html#ef8c63519ad43f7d8c5f40f8807b886e">entry</a> = (<a class="code" href="structMarkCacheKey.html">MarkCacheKey</a> *) key;
<a name="l01729"></a>01729     <a class="code" href="util_8h.html#a279a8302d25fa9dfeb3e00161aee784">FREE</a>(<a class="code" href="cuddGroup_8c.html#ef8c63519ad43f7d8c5f40f8807b886e">entry</a>);
<a name="l01730"></a>01730     <span class="keywordflow">return</span> <a class="code" href="st_8h.html#0c6a172fd99de7928916e65034ed8b1fc99fc55c7f355bf9071739a4bc2ea139">ST_CONTINUE</a>;
<a name="l01731"></a>01731 
<a name="l01732"></a>01732 } <span class="comment">/* end of MarkCacheCleanUp */</span>
<a name="l01733"></a>01733 
<a name="l01734"></a>01734 
<a name="l01751"></a>01751 <span class="keyword">static</span> <a class="code" href="structDdNode.html">DdNode</a> *
<a name="l01752"></a><a class="code" href="cuddGenCof_8c.html#95af9893c405bea9e49dba8632e8abb3">01752</a> <a class="code" href="cuddGenCof_8c.html#95af9893c405bea9e49dba8632e8abb3">cuddBddSqueeze</a>(
<a name="l01753"></a>01753   <a class="code" href="structDdManager.html">DdManager</a> * dd,
<a name="l01754"></a>01754   <a class="code" href="structDdNode.html">DdNode</a> * l,
<a name="l01755"></a>01755   <a class="code" href="structDdNode.html">DdNode</a> * u)
<a name="l01756"></a>01756 {
<a name="l01757"></a>01757     <a class="code" href="structDdNode.html">DdNode</a> *<a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>, *<a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>, *r, *lt, *le, *ut, *ue, *t, *e;
<a name="l01758"></a>01758 <span class="preprocessor">#if 0</span>
<a name="l01759"></a>01759 <span class="preprocessor"></span>    <a class="code" href="structDdNode.html">DdNode</a> *ar;
<a name="l01760"></a>01760 <span class="preprocessor">#endif</span>
<a name="l01761"></a>01761 <span class="preprocessor"></span>    <span class="keywordtype">int</span> comple = 0;
<a name="l01762"></a>01762     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> topu, topl;
<a name="l01763"></a>01763     <span class="keywordtype">int</span> index;
<a name="l01764"></a>01764 
<a name="l01765"></a>01765     <span class="keywordflow">if</span> (l == u) {
<a name="l01766"></a>01766         <span class="keywordflow">return</span>(l);
<a name="l01767"></a>01767     }
<a name="l01768"></a>01768     <a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a> = <a class="code" href="cuddInt_8h.html#0fc86b7b0c157b7fa3738661d65a22d7">DD_ONE</a>(dd);
<a name="l01769"></a>01769     <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a> = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(<a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>);
<a name="l01770"></a>01770     <span class="comment">/* The only case when l == zero &amp;&amp; u == one is at the top level,</span>
<a name="l01771"></a>01771 <span class="comment">    ** where returning either one or zero is OK. In all other cases</span>
<a name="l01772"></a>01772 <span class="comment">    ** the procedure will detect such a case and will perform</span>
<a name="l01773"></a>01773 <span class="comment">    ** remapping. Therefore the order in which we test l and u at this</span>
<a name="l01774"></a>01774 <span class="comment">    ** point is immaterial. */</span>
<a name="l01775"></a>01775     <span class="keywordflow">if</span> (l == <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a>) <span class="keywordflow">return</span>(l);
<a name="l01776"></a>01776     <span class="keywordflow">if</span> (u == <a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>)  <span class="keywordflow">return</span>(u);
<a name="l01777"></a>01777 
<a name="l01778"></a>01778     <span class="comment">/* Make canonical to increase the utilization of the cache. */</span>
<a name="l01779"></a>01779     <span class="keywordflow">if</span> (<a class="code" href="cudd_8h.html#35322518c24f65f44eda9623083cb62c">Cudd_IsComplement</a>(u)) {
<a name="l01780"></a>01780         <a class="code" href="structDdNode.html">DdNode</a> *temp;
<a name="l01781"></a>01781         temp = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(l);
<a name="l01782"></a>01782         l = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(u);
<a name="l01783"></a>01783         u = temp;
<a name="l01784"></a>01784         comple = 1;
<a name="l01785"></a>01785     }
<a name="l01786"></a>01786     <span class="comment">/* At this point u is regular and non-constant; l is non-constant, but</span>
<a name="l01787"></a>01787 <span class="comment">    ** may be complemented. */</span>
<a name="l01788"></a>01788 
<a name="l01789"></a>01789     <span class="comment">/* Here we could check the relative sizes. */</span>
<a name="l01790"></a>01790 
<a name="l01791"></a>01791     <span class="comment">/* Check the cache. */</span>
<a name="l01792"></a>01792     r = <a class="code" href="cuddCache_8c.html#2db1ee9c4d273f23a89e8724360e293f">cuddCacheLookup2</a>(dd, <a class="code" href="cuddGenCof_8c.html#fbc2329b3d7a6cb0b8adc5582fc7fe2c">Cudd_bddSqueeze</a>, l, u);
<a name="l01793"></a>01793     <span class="keywordflow">if</span> (r != NULL) {
<a name="l01794"></a>01794         <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#e870da95e89a703e939161fe08b899f9">Cudd_NotCond</a>(r,comple));
<a name="l01795"></a>01795     }
<a name="l01796"></a>01796 
<a name="l01797"></a>01797     <span class="comment">/* Recursive step. */</span>
<a name="l01798"></a>01798     topu = dd-&gt;<a class="code" href="structDdManager.html#299d281a98c60aeec0e8edf6671a0f51">perm</a>[u-&gt;index];
<a name="l01799"></a>01799     topl = dd-&gt;<a class="code" href="structDdManager.html#299d281a98c60aeec0e8edf6671a0f51">perm</a>[<a class="code" href="cudd_8h.html#fbbecf4f6f78f92518f4d0a477d870b6">Cudd_Regular</a>(l)-&gt;index];
<a name="l01800"></a>01800     <span class="keywordflow">if</span> (topu &lt;= topl) {
<a name="l01801"></a>01801         index = u-&gt;index;
<a name="l01802"></a>01802         ut = <a class="code" href="cuddInt_8h.html#09834c697b92ac296b1e50c863f88262">cuddT</a>(u); ue = <a class="code" href="cuddInt_8h.html#aef03f10591d8e28bb5fecd2aa7c93ff">cuddE</a>(u);
<a name="l01803"></a>01803     } <span class="keywordflow">else</span> {
<a name="l01804"></a>01804         index = <a class="code" href="cudd_8h.html#fbbecf4f6f78f92518f4d0a477d870b6">Cudd_Regular</a>(l)-&gt;index;
<a name="l01805"></a>01805         ut = ue = u;
<a name="l01806"></a>01806     }
<a name="l01807"></a>01807     <span class="keywordflow">if</span> (topl &lt;= topu) {
<a name="l01808"></a>01808         lt = <a class="code" href="cuddInt_8h.html#09834c697b92ac296b1e50c863f88262">cuddT</a>(<a class="code" href="cudd_8h.html#fbbecf4f6f78f92518f4d0a477d870b6">Cudd_Regular</a>(l)); le = <a class="code" href="cuddInt_8h.html#aef03f10591d8e28bb5fecd2aa7c93ff">cuddE</a>(<a class="code" href="cudd_8h.html#fbbecf4f6f78f92518f4d0a477d870b6">Cudd_Regular</a>(l));
<a name="l01809"></a>01809         <span class="keywordflow">if</span> (<a class="code" href="cudd_8h.html#35322518c24f65f44eda9623083cb62c">Cudd_IsComplement</a>(l)) {
<a name="l01810"></a>01810             lt = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(lt);
<a name="l01811"></a>01811             le = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(le);
<a name="l01812"></a>01812         }
<a name="l01813"></a>01813     } <span class="keywordflow">else</span> {
<a name="l01814"></a>01814         lt = le = l;
<a name="l01815"></a>01815     }
<a name="l01816"></a>01816 
<a name="l01817"></a>01817     <span class="comment">/* If one interval is contained in the other, use the smaller</span>
<a name="l01818"></a>01818 <span class="comment">    ** interval. This corresponds to one-sided matching. */</span>
<a name="l01819"></a>01819     <span class="keywordflow">if</span> ((lt == <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a> || <a class="code" href="cuddBddIte_8c.html#89a46089e8572876a1521cdee6cb31a2">Cudd_bddLeq</a>(dd,lt,le)) &amp;&amp;
<a name="l01820"></a>01820         (ut == <a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>  || <a class="code" href="cuddBddIte_8c.html#89a46089e8572876a1521cdee6cb31a2">Cudd_bddLeq</a>(dd,ue,ut))) { <span class="comment">/* remap */</span>
<a name="l01821"></a>01821         r = <a class="code" href="cuddGenCof_8c.html#95af9893c405bea9e49dba8632e8abb3">cuddBddSqueeze</a>(dd, le, ue);
<a name="l01822"></a>01822         <span class="keywordflow">if</span> (r == NULL)
<a name="l01823"></a>01823             <span class="keywordflow">return</span>(NULL);
<a name="l01824"></a>01824         <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#e870da95e89a703e939161fe08b899f9">Cudd_NotCond</a>(r,comple));
<a name="l01825"></a>01825     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((le == <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a> || <a class="code" href="cuddBddIte_8c.html#89a46089e8572876a1521cdee6cb31a2">Cudd_bddLeq</a>(dd,le,lt)) &amp;&amp;
<a name="l01826"></a>01826                (ue == <a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>  || <a class="code" href="cuddBddIte_8c.html#89a46089e8572876a1521cdee6cb31a2">Cudd_bddLeq</a>(dd,ut,ue))) { <span class="comment">/* remap */</span>
<a name="l01827"></a>01827         r = <a class="code" href="cuddGenCof_8c.html#95af9893c405bea9e49dba8632e8abb3">cuddBddSqueeze</a>(dd, lt, ut);
<a name="l01828"></a>01828         <span class="keywordflow">if</span> (r == NULL)
<a name="l01829"></a>01829             <span class="keywordflow">return</span>(NULL);
<a name="l01830"></a>01830         <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#e870da95e89a703e939161fe08b899f9">Cudd_NotCond</a>(r,comple));
<a name="l01831"></a>01831     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((le == <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a> || <a class="code" href="cuddBddIte_8c.html#89a46089e8572876a1521cdee6cb31a2">Cudd_bddLeq</a>(dd,le,<a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(ut))) &amp;&amp;
<a name="l01832"></a>01832                (ue == <a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>  || <a class="code" href="cuddBddIte_8c.html#89a46089e8572876a1521cdee6cb31a2">Cudd_bddLeq</a>(dd,<a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(lt),ue))) { <span class="comment">/* c-remap */</span>
<a name="l01833"></a>01833         t = <a class="code" href="cuddGenCof_8c.html#95af9893c405bea9e49dba8632e8abb3">cuddBddSqueeze</a>(dd, lt, ut);
<a name="l01834"></a>01834         <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(t);
<a name="l01835"></a>01835         <span class="keywordflow">if</span> (<a class="code" href="cudd_8h.html#35322518c24f65f44eda9623083cb62c">Cudd_IsComplement</a>(t)) {
<a name="l01836"></a>01836             r = <a class="code" href="cuddTable_8c.html#767e31fbbfdbddc623396dde86249497">cuddUniqueInter</a>(dd, index, <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(t), t);
<a name="l01837"></a>01837             <span class="keywordflow">if</span> (r == NULL) {
<a name="l01838"></a>01838                 <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, t);
<a name="l01839"></a>01839                 <span class="keywordflow">return</span>(NULL);
<a name="l01840"></a>01840             }
<a name="l01841"></a>01841             r = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(r);
<a name="l01842"></a>01842         } <span class="keywordflow">else</span> {
<a name="l01843"></a>01843             r = <a class="code" href="cuddTable_8c.html#767e31fbbfdbddc623396dde86249497">cuddUniqueInter</a>(dd, index, t, <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(t));
<a name="l01844"></a>01844             <span class="keywordflow">if</span> (r == NULL) {
<a name="l01845"></a>01845                 <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, t);
<a name="l01846"></a>01846                 <span class="keywordflow">return</span>(NULL);
<a name="l01847"></a>01847             }
<a name="l01848"></a>01848         }
<a name="l01849"></a>01849         <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(t);
<a name="l01850"></a>01850         <span class="keywordflow">if</span> (r == NULL)
<a name="l01851"></a>01851             <span class="keywordflow">return</span>(NULL);
<a name="l01852"></a>01852         <a class="code" href="cuddCache_8c.html#9a0dea7043973f558e0d0bbb473a2163">cuddCacheInsert2</a>(dd, <a class="code" href="cuddGenCof_8c.html#fbc2329b3d7a6cb0b8adc5582fc7fe2c">Cudd_bddSqueeze</a>, l, u, r);
<a name="l01853"></a>01853         <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#e870da95e89a703e939161fe08b899f9">Cudd_NotCond</a>(r,comple));
<a name="l01854"></a>01854     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((lt == <a class="code" href="cuddApa_8c.html#559a95c469bb341bde49e5950629e726">zero</a> || <a class="code" href="cuddBddIte_8c.html#89a46089e8572876a1521cdee6cb31a2">Cudd_bddLeq</a>(dd,lt,<a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(ue))) &amp;&amp;
<a name="l01855"></a>01855                (ut == <a class="code" href="cuddDecomp_8c.html#49e3c7508be54a84ae83273ed240e31c">one</a>  || <a class="code" href="cuddBddIte_8c.html#89a46089e8572876a1521cdee6cb31a2">Cudd_bddLeq</a>(dd,<a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(le),ut))) { <span class="comment">/* c-remap */</span>
<a name="l01856"></a>01856         e = <a class="code" href="cuddGenCof_8c.html#95af9893c405bea9e49dba8632e8abb3">cuddBddSqueeze</a>(dd, le, ue);
<a name="l01857"></a>01857         <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(e);
<a name="l01858"></a>01858         <span class="keywordflow">if</span> (<a class="code" href="cudd_8h.html#35322518c24f65f44eda9623083cb62c">Cudd_IsComplement</a>(e)) {
<a name="l01859"></a>01859             r = <a class="code" href="cuddTable_8c.html#767e31fbbfdbddc623396dde86249497">cuddUniqueInter</a>(dd, index, <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(e), e);
<a name="l01860"></a>01860             <span class="keywordflow">if</span> (r == NULL) {
<a name="l01861"></a>01861                 <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, e);
<a name="l01862"></a>01862                 <span class="keywordflow">return</span>(NULL);
<a name="l01863"></a>01863             }
<a name="l01864"></a>01864         } <span class="keywordflow">else</span> {
<a name="l01865"></a>01865             r = <a class="code" href="cuddTable_8c.html#767e31fbbfdbddc623396dde86249497">cuddUniqueInter</a>(dd, index, e, <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(e));
<a name="l01866"></a>01866             <span class="keywordflow">if</span> (r == NULL) {
<a name="l01867"></a>01867                 <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, e);
<a name="l01868"></a>01868                 <span class="keywordflow">return</span>(NULL);
<a name="l01869"></a>01869             }
<a name="l01870"></a>01870             r = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(r);
<a name="l01871"></a>01871         }
<a name="l01872"></a>01872         <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(e);
<a name="l01873"></a>01873         <span class="keywordflow">if</span> (r == NULL)
<a name="l01874"></a>01874             <span class="keywordflow">return</span>(NULL);
<a name="l01875"></a>01875         <a class="code" href="cuddCache_8c.html#9a0dea7043973f558e0d0bbb473a2163">cuddCacheInsert2</a>(dd, <a class="code" href="cuddGenCof_8c.html#fbc2329b3d7a6cb0b8adc5582fc7fe2c">Cudd_bddSqueeze</a>, l, u, r);
<a name="l01876"></a>01876         <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#e870da95e89a703e939161fe08b899f9">Cudd_NotCond</a>(r,comple));
<a name="l01877"></a>01877     }
<a name="l01878"></a>01878 
<a name="l01879"></a>01879 <span class="preprocessor">#if 0</span>
<a name="l01880"></a>01880 <span class="preprocessor"></span>    <span class="comment">/* If the two intervals intersect, take a solution from</span>
<a name="l01881"></a>01881 <span class="comment">    ** the intersection of the intervals. This guarantees that the</span>
<a name="l01882"></a>01882 <span class="comment">    ** splitting variable will not appear in the result.</span>
<a name="l01883"></a>01883 <span class="comment">    ** This approach corresponds to two-sided matching, and is very</span>
<a name="l01884"></a>01884 <span class="comment">    ** expensive. */</span>
<a name="l01885"></a>01885     <span class="keywordflow">if</span> (<a class="code" href="cuddBddIte_8c.html#89a46089e8572876a1521cdee6cb31a2">Cudd_bddLeq</a>(dd,lt,ue) &amp;&amp; <a class="code" href="cuddBddIte_8c.html#89a46089e8572876a1521cdee6cb31a2">Cudd_bddLeq</a>(dd,le,ut)) {
<a name="l01886"></a>01886         <a class="code" href="structDdNode.html">DdNode</a> *au, *al;
<a name="l01887"></a>01887         au = <a class="code" href="cuddBddIte_8c.html#1766cd8bf8b2ec57ade0db1a461e352b">cuddBddAndRecur</a>(dd,ut,ue);
<a name="l01888"></a>01888         <span class="keywordflow">if</span> (au == NULL)
<a name="l01889"></a>01889             <span class="keywordflow">return</span>(NULL);
<a name="l01890"></a>01890         <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(au);
<a name="l01891"></a>01891         al = <a class="code" href="cuddBddIte_8c.html#1766cd8bf8b2ec57ade0db1a461e352b">cuddBddAndRecur</a>(dd,<a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(lt),<a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(le));
<a name="l01892"></a>01892         <span class="keywordflow">if</span> (al == NULL) {
<a name="l01893"></a>01893             <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,au);
<a name="l01894"></a>01894             <span class="keywordflow">return</span>(NULL);
<a name="l01895"></a>01895         }
<a name="l01896"></a>01896         <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(al);
<a name="l01897"></a>01897         al = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(al);
<a name="l01898"></a>01898         ar = <a class="code" href="cuddGenCof_8c.html#95af9893c405bea9e49dba8632e8abb3">cuddBddSqueeze</a>(dd, al, au);
<a name="l01899"></a>01899         <span class="keywordflow">if</span> (ar == NULL) {
<a name="l01900"></a>01900             <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,au);
<a name="l01901"></a>01901             <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,al);
<a name="l01902"></a>01902             <span class="keywordflow">return</span>(NULL);
<a name="l01903"></a>01903         }
<a name="l01904"></a>01904         <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(ar);
<a name="l01905"></a>01905         <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,au);
<a name="l01906"></a>01906         <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,al);
<a name="l01907"></a>01907     } <span class="keywordflow">else</span> {
<a name="l01908"></a>01908         ar = NULL;
<a name="l01909"></a>01909     }
<a name="l01910"></a>01910 <span class="preprocessor">#endif</span>
<a name="l01911"></a>01911 <span class="preprocessor"></span>
<a name="l01912"></a>01912     t = <a class="code" href="cuddGenCof_8c.html#95af9893c405bea9e49dba8632e8abb3">cuddBddSqueeze</a>(dd, lt, ut);
<a name="l01913"></a>01913     <span class="keywordflow">if</span> (t == NULL) {
<a name="l01914"></a>01914         <span class="keywordflow">return</span>(NULL);
<a name="l01915"></a>01915     }
<a name="l01916"></a>01916     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(t);
<a name="l01917"></a>01917     e = <a class="code" href="cuddGenCof_8c.html#95af9893c405bea9e49dba8632e8abb3">cuddBddSqueeze</a>(dd, le, ue);
<a name="l01918"></a>01918     <span class="keywordflow">if</span> (e == NULL) {
<a name="l01919"></a>01919         <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd,t);
<a name="l01920"></a>01920         <span class="keywordflow">return</span>(NULL);
<a name="l01921"></a>01921     }
<a name="l01922"></a>01922     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(e);
<a name="l01923"></a>01923 
<a name="l01924"></a>01924     <span class="keywordflow">if</span> (<a class="code" href="cudd_8h.html#35322518c24f65f44eda9623083cb62c">Cudd_IsComplement</a>(t)) {
<a name="l01925"></a>01925         t = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(t);
<a name="l01926"></a>01926         e = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(e);
<a name="l01927"></a>01927         r = (t == e) ? t : <a class="code" href="cuddTable_8c.html#767e31fbbfdbddc623396dde86249497">cuddUniqueInter</a>(dd, index, t, e);
<a name="l01928"></a>01928         <span class="keywordflow">if</span> (r == NULL) {
<a name="l01929"></a>01929             <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, e);
<a name="l01930"></a>01930             <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, t);
<a name="l01931"></a>01931             <span class="keywordflow">return</span>(NULL);
<a name="l01932"></a>01932         }
<a name="l01933"></a>01933         r = <a class="code" href="cudd_8h.html#352ef8d39e760eaabae6d58d9a5ddbfc">Cudd_Not</a>(r);
<a name="l01934"></a>01934     } <span class="keywordflow">else</span> {
<a name="l01935"></a>01935         r = (t == e) ? t : <a class="code" href="cuddTable_8c.html#767e31fbbfdbddc623396dde86249497">cuddUniqueInter</a>(dd, index, t, e);
<a name="l01936"></a>01936         <span class="keywordflow">if</span> (r == NULL) {
<a name="l01937"></a>01937             <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, e);
<a name="l01938"></a>01938             <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, t);
<a name="l01939"></a>01939             <span class="keywordflow">return</span>(NULL);
<a name="l01940"></a>01940         }
<a name="l01941"></a>01941     }
<a name="l01942"></a>01942     <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(t);
<a name="l01943"></a>01943     <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(e);
<a name="l01944"></a>01944 
<a name="l01945"></a>01945 <span class="preprocessor">#if 0</span>
<a name="l01946"></a>01946 <span class="preprocessor"></span>    <span class="comment">/* Check whether there is a result obtained by abstraction and whether</span>
<a name="l01947"></a>01947 <span class="comment">    ** it is better than the one obtained by recursion. */</span>
<a name="l01948"></a>01948     <a class="code" href="cuddInt_8h.html#5eb828fea5b6c493712d171ca59f4496">cuddRef</a>(r);
<a name="l01949"></a>01949     <span class="keywordflow">if</span> (ar != NULL) {
<a name="l01950"></a>01950         <span class="keywordflow">if</span> (<a class="code" href="cuddUtil_8c.html#95cf613390a7dbeaad14b3963d68de24">Cudd_DagSize</a>(ar) &lt;= <a class="code" href="cuddUtil_8c.html#95cf613390a7dbeaad14b3963d68de24">Cudd_DagSize</a>(r)) {
<a name="l01951"></a>01951             <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, r);
<a name="l01952"></a>01952             r = ar;
<a name="l01953"></a>01953         } <span class="keywordflow">else</span> {
<a name="l01954"></a>01954             <a class="code" href="cuddRef_8c.html#15905d5750b5f2f948329ce0f67a0fc8">Cudd_IterDerefBdd</a>(dd, ar);
<a name="l01955"></a>01955         }
<a name="l01956"></a>01956     }
<a name="l01957"></a>01957     <a class="code" href="cuddInt_8h.html#b274a54f55f018beea73ed6f1bc630c2">cuddDeref</a>(r);
<a name="l01958"></a>01958 <span class="preprocessor">#endif</span>
<a name="l01959"></a>01959 <span class="preprocessor"></span>
<a name="l01960"></a>01960     <a class="code" href="cuddCache_8c.html#9a0dea7043973f558e0d0bbb473a2163">cuddCacheInsert2</a>(dd, <a class="code" href="cuddGenCof_8c.html#fbc2329b3d7a6cb0b8adc5582fc7fe2c">Cudd_bddSqueeze</a>, l, u, r);
<a name="l01961"></a>01961     <span class="keywordflow">return</span>(<a class="code" href="cudd_8h.html#e870da95e89a703e939161fe08b899f9">Cudd_NotCond</a>(r,comple));
<a name="l01962"></a>01962 
<a name="l01963"></a>01963 } <span class="comment">/* end of cuddBddSqueeze */</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sat Aug 30 17:58:06 2014 for libbdd by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
